{"version":3,"file":"./index.js","mappings":"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","sources":["webpack:///./scripts/timer.js","webpack:///./scripts/lib/utils.js","webpack:///./scripts/app/CompendiumConfig.js","webpack:///./scripts/app/spotlight.js","webpack:///./scripts/main.js","webpack:///./scripts/searchTerms/special.js","webpack:///./scripts/searchTerms/baseSearchTerm.js","webpack:///./scripts/searchTerms/buildTermIndex.js","webpack:///./scripts/settings.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/startup"],"sourcesContent":["import {MODULE_ID} from \"./main\";\r\nimport { getSetting, setSetting } from \"./settings\";\r\n\r\nlet interval = null;\r\n\r\nexport function updateTimerInterval() {\r\n    if (!game.user.isGM) return;\r\n    clearInterval(interval);\r\n    const intervalSetting = getSetting(\"appData\").timer;\r\n    //if there is no timer set, clear the interval\r\n    if (!intervalSetting) {\r\n        return;\r\n    }\r\n    //set the interval\r\n    interval = setInterval(() => {\r\n        const timestampNow = Date.now();\r\n        const isExpired = timestampNow > intervalSetting;\r\n        if (isExpired) {\r\n            clearInterval(interval);\r\n            ChatMessage.create({\r\n                content: game.i18n.localize(`${MODULE_ID}.special.timer.expired`),\r\n                speaker: {alias: \"Timer\"},\r\n                whisper: ChatMessage.getWhisperRecipients(\"GM\"),\r\n            });\r\n            const appData = getSetting(\"appData\");\r\n            appData.timer = null;\r\n            setSetting(\"appData\", appData);\r\n            return;\r\n        }\r\n    }, 1000);\r\n}\r\n","import { MODULE_ID } from \"../main.js\";\n\nexport class HandlebarsApplication extends foundry.applications.api.HandlebarsApplicationMixin(\n    foundry.applications.api.ApplicationV2,\n) {\n    constructor() {\n        super();\n        this.constructor.registerPositionSetting();\n        this.savePosition = foundry.utils.debounce(\n            this.savePosition.bind(this),\n            100,\n        );\n    }\n\n    static registerPositionSetting() {\n        if (\n            this.POSITION_SETTING_REGISTERED ||\n            !this.DEFAULT_OPTIONS.window?.savePosition\n        )\n            return;\n        this.POSITION_SETTING_REGISTERED = true;\n        game.settings.register(MODULE_ID, this.APP_ID + \"-position\", {\n            scope: \"client\",\n            config: false,\n            type: Object,\n            default: {},\n        });\n    }\n\n    static resetSavedPosition() {\n        game.settings.set(MODULE_ID, this.APP_ID + \"-position\", {});\n    }\n\n    savePosition(position) {\n        const positionToSave = {\n            left: position.left,\n            top: position.top,\n            width: position.width,\n            height: position.height,\n        };\n        if (positionToSave.width === \"auto\") delete positionToSave.width;\n        if (positionToSave.height === \"auto\") delete positionToSave.height;\n        game.settings.set(MODULE_ID, this.APP_ID + \"-position\", positionToSave);\n    }\n\n    setPosition(...args) {\n        const r = super.setPosition(...args);\n        if (this.constructor.POSITION_SETTING_REGISTERED)\n            this.savePosition(this.position);\n        return r;\n    }\n\n    static get APP_ID() {\n        return this.name\n            .split(/(?=[A-Z])/)\n            .join(\"-\")\n            .toLowerCase();\n    }\n\n    get APP_ID() {\n        return this.constructor.APP_ID;\n    }\n\n    static get PARTS() {\n        return {\n            content: {\n                template: `modules/${MODULE_ID}/templates/${this.APP_ID}.hbs`,\n                classes: [],\n                scrollable: [],\n            },\n        };\n    }\n\n    static get DEFAULT_OPTIONS() {\n        return {\n            tag: \"div\",\n            id: this.APP_ID,\n            window: {\n                title: `${MODULE_ID}.${this.APP_ID}.title`,\n                frame: true,\n                positioned: true,\n                icon: \"\",\n                controls: [],\n                minimizable: true,\n                resizable: false,\n                contentTag: \"section\",\n                contentClasses: [],\n                savePosition: false,\n                preventEscapeClose: false\n            },\n            actions: {},\n            form: {\n                handler: undefined,\n                submitOnChange: false,\n                closeOnSubmit: false,\n            },\n            position: {\n                width: 560,\n                height: \"auto\",\n            },\n        };\n    }\n\n    async _prepareContext(options) {\n        if (this.getData) return this.getData();\n        const data = {};\n        return { data };\n    }\n\n    activateListeners() {}\n\n    _onRender(context, options) {\n        super._onRender(context, options);\n        if (this.constructor.DEFAULT_OPTIONS.window.preventEscapeClose) {\n            foundry.applications.instances.delete(this.id, this);\n            this.window.close.style.display = \"none\"\n        }\n        const html = this.element;\n        if (this.activateListeners) this.activateListeners(html);\n    }\n\n    async render(options1 = {}, options2 = {}) {\n        const activeOptions =\n            typeof options1 === \"boolean\" ? options2 : options1;\n        if (\n            !activeOptions.position &&\n            this.constructor.POSITION_SETTING_REGISTERED\n        )\n            activeOptions.position = game.settings.get(\n                MODULE_ID,\n                this.APP_ID + \"-position\",\n            );\n        return super.render(options1, options2);\n    }\n}\n\nexport function dynamicImport(url) {\n    const dynamicImport = new Function(\"url\", \"return import(url)\");\n    return dynamicImport(url);\n}\n\nexport function confirm(title, content, options = {}) {\n    title = l(title);\n    content = l(content);\n    return foundry.applications.api.DialogV2.confirm({\n        window: { title },\n        content,\n    });\n}\n\nexport function prompt(title, content, options = {}) {\n    title = l(title);\n    content = l(content);\n    return foundry.applications.api.DialogV2.prompt({\n        window: { title },\n        content,\n        ...options,\n    });\n}\n\nexport function deepClone(obj) {\n    return foundry.utils.deepClone(obj);\n}\n\nexport function expandObject(obj) {\n    return foundry.utils.expandObject(obj);\n}\n\nexport function flattenObject(obj) {\n    return foundry.utils.flattenObject(obj);\n}\n\nexport function mergeObject(obj, other) {\n    return foundry.utils.mergeObject(obj, other);\n}\n\nexport function mergeClone(obj, other) {\n    obj = foundry.utils.deepClone(obj);\n    other = foundry.utils.deepClone(other);\n    return foundry.utils.mergeObject(obj, other);\n}\n\nexport function randomID(length = 20) {\n    return foundry.utils.randomID(length);\n}\n\nexport function setProperty(obj, key, value) {\n    return foundry.utils.setProperty(obj, key, value);\n}\n\nexport function getProperty(obj, key) {\n    return foundry.utils.getProperty(obj, key);\n}\n\nexport function l(x) {\n    return game.i18n.localize(x);\n}\n\nexport function easeInSine(x) {\n    return 1 - Math.cos((x * Math.PI) / 2);\n}\n\nexport function easeOutSine(x) {\n    return Math.sin((x * Math.PI) / 2);\n}\n\nexport function easeInOutSine(x) {\n    return -(Math.cos(Math.PI * x) - 1) / 2;\n}\n\nexport function easeInQuad(x) {\n    return x * x;\n}\n\nexport function easeOutQuad(x) {\n    return 1 - (1 - x) * (1 - x);\n}\n\nexport function easeInOutQuad(x) {\n    return x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2;\n}\n\nexport function easeInCubic(x) {\n    return x * x * x;\n}\n\nexport function easeOutCubic(x) {\n    return 1 - Math.pow(1 - x, 3);\n}\n\nexport function easeInOutCubic(x) {\n    return x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2;\n}\n\nexport function easeInQuart(x) {\n    return x * x * x * x;\n}\n\nexport function easeOutQuart(x) {\n    return 1 - Math.pow(1 - x, 4);\n}\n\nexport function easeInOutQuart(x) {\n    return x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2;\n}\n\nexport function easeInQuint(x) {\n    return x * x * x * x * x;\n}\n\nexport function easeOutQuint(x) {\n    return 1 - Math.pow(1 - x, 5);\n}\n\nexport function easeInOutQuint(x) {\n    return x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2;\n}\n\nexport function easeInExpo(x) {\n    return x == 0 ? x : Math.pow(2, 10 * (x - 1));\n}\n\nexport function easeOutExpo(x) {\n    return x == 1 ? x : 1 - Math.pow(2, -10 * x);\n}\n\nexport function easeInOutExpo(x) {\n    return x == 0\n        ? 0\n        : x == 1\n          ? 1\n          : x < 0.5\n            ? Math.pow(2, 20 * x - 10) / 2\n            : (2 - Math.pow(2, -20 * x + 10)) / 2;\n}\n\nexport function easeInCirc(x) {\n    return 1 - Math.sqrt(1 - Math.pow(x, 2));\n}\n\nexport function easeOutCirc(x) {\n    return Math.sqrt(1 - Math.pow(x - 1, 2));\n}\n\nexport function easeInOutCirc(x) {\n    return x < 0.5\n        ? 1 - Math.sqrt(1 - Math.pow(2 * x, 2)) / 2\n        : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2;\n}\n\nexport function easeInElastic(x) {\n    let s = 1.70158;\n    let p = 0;\n    let a = 1;\n    if (x == 0) return 0;\n    if ((x /= 1) == 1) return 1;\n    if (!p) p = 0.3;\n    if (a < 1) {\n        a = 1;\n        s = p / 4;\n    } else {\n        s = (p / (2 * Math.PI)) * Math.asin(1 / a);\n    }\n    return -(\n        a *\n        Math.pow(2, 10 * (x -= 1)) *\n        Math.sin(((x * 1 - s) * (2 * Math.PI)) / p)\n    );\n}\n\nexport function easeOutElastic(x) {\n    let s = 1.70158;\n    let p = 0;\n    let a = 1;\n    if (x == 0) return 0;\n    if ((x /= 1) == 1) return 1;\n    if (!p) p = 0.3;\n    if (a < 1) {\n        a = 1;\n        s = p / 4;\n    } else {\n        s = (p / (2 * Math.PI)) * Math.asin(1 / a);\n    }\n    return (\n        a * Math.pow(2, -10 * x) * Math.sin(((x * 1 - s) * (2 * Math.PI)) / p) +\n        1\n    );\n}\n\nexport function easeInOutElastic(x) {\n    let s = 1.70158;\n    let p = 0;\n    let a = 1;\n    if (x == 0) return 0;\n    if ((x /= 1 / 2) == 2) return 1;\n    if (!p) p = 0.3 * (0.3 + 1);\n    if (a < 1) {\n        a = 1;\n        s = p / 4;\n    } else {\n        s = (p / (2 * Math.PI)) * Math.asin(1 / a);\n    }\n    if (x < 1)\n        return (\n            -0.5 *\n            (a *\n                Math.pow(2, 10 * (x -= 1)) *\n                Math.sin(((x * 1 - s) * (2 * Math.PI)) / p))\n        );\n    return (\n        a *\n            Math.pow(2, -10 * (x -= 1)) *\n            Math.sin(((x * 1 - s) * (2 * Math.PI)) / p) *\n            0.5 +\n        1\n    );\n}\n\nexport function easeInBack(x) {\n    let s = 1.70158;\n    return x * x * ((s + 1) * x - s);\n}\n\nexport function easeOutBack(x) {\n    let s = 1.70158;\n    return 1 - (1 - x) * (1 - x) * ((s + 1) * x - s);\n}\n\nexport function easeInOutBack(x) {\n    let s = 1.70158;\n    if ((x /= 1 / 2) < 1)\n        return (1 / 2) * (x * x * (((s *= 1.525) + 1) * x - s));\n    return (1 / 2) * ((x -= 2) * x * (((s *= 1.525) + 1) * x + s) + 2);\n}\n\nexport function addColorPicker(input, { value, opacity = false } = {}) {\n    const hexToComponents = (hex) => {\n        const hexColor =\n            hex.length < 9 ? hex + \"f\".repeat(9 - hex.length) : hex;\n\n        const colorValue = hexColor.slice(0, 7);\n        const alphaValue = parseInt(hexColor.slice(7, 9), 16) / 255;\n        return { color: colorValue, alpha: alphaValue };\n    };\n\n    const componentsToHex = (color, alpha) => {\n        const colorValue = color.replace(\"#\", \"\");\n        const alphaValue = Math.round(alpha * 255)\n            .toString(16)\n            .padStart(2, \"0\");\n        return `#${colorValue}${alphaValue}`;\n    };\n\n    const textInput =\n        input.type === \"text\"\n            ? input\n            : input.querySelector(\"input[type='text']\");\n    if (textInput.classList.contains(\"color-picker-added\")) return;\n\n    textInput.classList.add(\"color-picker-added\");\n    textInput.classList.add(\"color\");\n    const parent = textInput.parentElement;\n\n    value ??= textInput.value || \"#000000ff\";\n\n    const { color, alpha } = hexToComponents(value);\n\n    const colorPickerElement = document.createElement(\"input\");\n    colorPickerElement.setAttribute(\"type\", \"color\");\n    if (opacity) colorPickerElement.style.maxWidth = \"2rem\";\n\n    const alphaPickerHtml = `<range-picker min=\"0\" max=\"1\" step=\"0.01\" value=\"${alpha}\" data-tooltip=\"Alpha\" style=\"min-width: 6rem;\"></range-picker>`;\n    const alphaPickerElement = new DOMParser()\n        .parseFromString(alphaPickerHtml, \"text/html\")\n        .querySelector(\"range-picker\");\n\n    const updateTextInput = (color, alpha) => {\n        const hex = componentsToHex(color, alpha);\n        if (!opacity) textInput.value = hex.slice(0, 7);\n        else textInput.value = hex;\n        textInput.dispatchEvent(new Event(\"change\"));\n    };\n\n    colorPickerElement.value = color;\n    alphaPickerElement.value = alpha;\n\n    colorPickerElement.addEventListener(\"input\", (event) => {\n        const color = event.target.value;\n        const alpha = alphaPickerElement.value;\n        updateTextInput(color, alpha);\n    });\n\n    alphaPickerElement.addEventListener(\"input\", (event) => {\n        const alpha = event.target.value;\n        const color = colorPickerElement.value;\n        updateTextInput(color, alpha);\n    });\n\n    textInput.after(colorPickerElement);\n    opacity && colorPickerElement.after(alphaPickerElement);\n}\n","import { MODULE_ID } from \"../main.js\";\r\nimport { HandlebarsApplication, mergeClone } from \"../lib/utils.js\";\r\n\r\nexport class CompendiumConfig extends HandlebarsApplication {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    static get SETTING_KEY() {\r\n        return this.name.charAt(0).toLowerCase() + this.name.slice(1);\r\n    }\r\n\r\n    get SETTING_KEY() {\r\n        return this.constructor.SETTING_KEY;\r\n    }\r\n\r\n    static get DEFAULT_OPTIONS() {\r\n        return mergeClone(super.DEFAULT_OPTIONS, {\r\n            tag: \"form\",\r\n            window: {\r\n                title: game.i18n.localize(`${MODULE_ID}.settings.${this.SETTING_KEY}.label`),\r\n                contentClasses: [\"standard-form\"],\r\n            },\r\n            actions: {\r\n                onCheckAll: this.checkAll,\r\n                onUncheckAll: this.uncheckAll,\r\n            },\r\n            form: {\r\n                handler: this.#onSubmit,\r\n                closeOnSubmit: true,\r\n            },\r\n            position: {\r\n                width: 800,\r\n            },\r\n        });\r\n    }\r\n\r\n    static get PARTS() {\r\n        return {\r\n            content: {\r\n                template: `modules/${MODULE_ID}/templates/${this.APP_ID}.hbs`,\r\n                classes: [\"standard-form\", \"scrollable\"],\r\n            },\r\n            footer: {\r\n                template: \"templates/generic/form-footer.hbs\",\r\n            }\r\n        };\r\n    }\r\n\r\n    async _prepareContext(options) {\r\n        const sett = game.settings.get(MODULE_ID, this.SETTING_KEY);\r\n        const compendiums = Array.from(game.packs);\r\n        const data = [];\r\n        for (const compendium of compendiums) {\r\n            const id = compendium.metadata.id;\r\n            data.push({\r\n                id,\r\n                checked: sett[id] ?? true,\r\n                name: compendium.metadata.label,\r\n                package: (compendium.metadata.packageType === \"system\" ? game.system.title : game.modules.get(compendium.metadata.packageName)?.title) ?? game.i18n.localize(\"PACKAGE.Type.world\"),\r\n            });\r\n        }\r\n\r\n        //sort by package name\r\n        data.sort((a, b) => a.package.localeCompare(b.package));\r\n\r\n        const compendiumsByPackage = {};\r\n        for (const compendium of data) {\r\n            if (!compendiumsByPackage[compendium.package]) {\r\n                compendiumsByPackage[compendium.package] = [];\r\n            }\r\n            compendiumsByPackage[compendium.package].push(compendium);\r\n        }\r\n        // Sort by package name\r\n        for (const p in compendiumsByPackage) {\r\n            compendiumsByPackage[p].sort((a, b) => a.name.localeCompare(b.name));\r\n        }\r\n\r\n        const checkAllButton = {\r\n            type: \"button\",\r\n            action: \"onCheckAll\",\r\n            icon: \"fas fa-check-square\",\r\n            label: \"Select All\",\r\n        };\r\n        const uncheckAllButton = {\r\n            type: \"button\",\r\n            action: \"onUncheckAll\",\r\n            icon: \"fas fa-square\",\r\n            label: \"Unselect All\",\r\n        };\r\n        const saveButton = {\r\n            type: \"submit\",\r\n            action: \"submit\",\r\n            icon: \"fas fa-save\",\r\n            label: \"Save\",\r\n        };\r\n        return { compendiumsByPackage, buttons: [checkAllButton, uncheckAllButton, saveButton] };\r\n    }\r\n\r\n    _onRender(context, options) {\r\n        super._onRender(context, options);\r\n        const html = this.element;\r\n        html.querySelectorAll(\".check-all\").forEach((el) => {\r\n            el.addEventListener(\"click\", (event) => {\r\n                event.preventDefault();\r\n                const group = el.closest(\"fieldset\").querySelectorAll(\"input[type=checkbox]\");\r\n                for (const checkbox of group) {\r\n                    checkbox.checked = true;\r\n                }\r\n            });\r\n        });\r\n        html.querySelectorAll(\".uncheck-all\").forEach((el) => {\r\n            el.addEventListener(\"click\", (event) => {\r\n                event.preventDefault();\r\n                const group = el.closest(\"fieldset\").querySelectorAll(\"input[type=checkbox]\");\r\n                for (const checkbox of group) {\r\n                    checkbox.checked = false;\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    static checkAll() {\r\n        for (const checkbox of this.element.querySelectorAll(\"input[type=checkbox]\")) {\r\n            checkbox.checked = true;\r\n        }\r\n    }\r\n\r\n    static uncheckAll() {\r\n        for (const checkbox of this.element.querySelectorAll(\"input[type=checkbox]\")) {\r\n            checkbox.checked = false;\r\n        }\r\n    }\r\n\r\n    static async #onSubmit() {\r\n        const form = this.element;\r\n        const formData = new foundry.applications.ux.FormDataExtended(form).object;\r\n        const result = await game.settings.set(MODULE_ID, this.SETTING_KEY, formData);\r\n        CONFIG.SpotlightOmnisearch.rebuildIndex();\r\n        return result;\r\n    }\r\n\r\n    static register() {\r\n        game.settings.registerMenu(MODULE_ID, this.APP_ID, {\r\n            name: game.i18n.localize(`${MODULE_ID}.settings.${this.SETTING_KEY}.name`),\r\n            label: game.i18n.localize(`${MODULE_ID}.settings.${this.SETTING_KEY}.label`),\r\n            hint: game.i18n.localize(`${MODULE_ID}.settings.${this.SETTING_KEY}.hint`),\r\n            icon: \"fas fa-atlas\",\r\n            type: this,\r\n            restricted: true,\r\n            scope: \"world\",\r\n        });\r\n\r\n        game.settings.register(MODULE_ID, this.SETTING_KEY, {\r\n            scope: \"world\",\r\n            config: false,\r\n            default: {},\r\n            type: Object,\r\n        });\r\n    }\r\n}\r\n","import { MODULE_ID } from \"../main.js\";\r\nimport { SPECIAL_SEARCHES } from \"../searchTerms/special.js\";\r\n\r\nimport { INDEX, FILE_INDEX, buildIndex, FILTERS } from \"../searchTerms/buildTermIndex.js\";\r\nimport { getSetting, setSetting } from \"../settings.js\";\r\nimport { BaseSearchTerm } from \"../searchTerms/baseSearchTerm.js\";\r\nimport { HandlebarsApplication, mergeClone } from \"../lib/utils.js\";\r\n\r\nlet SPOTLIGHT_WIDTH = 700;\r\n\r\nlet LAST_SEARCH = { query: \"\", filters: [] };\r\n\r\nlet LAST_INPUT_TIME = 0;\r\n\r\nexport class Spotlight extends HandlebarsApplication {\r\n    constructor({ first, toTaskbar, isPrompt, promptOptions } = {}) {\r\n        super();\r\n        SPOTLIGHT_WIDTH = getSetting(\"spotlightWidth\") || 700;\r\n        this.promise = new Promise((resolve) => {\r\n            this._resolve = resolve;\r\n        });\r\n        this.first = first;\r\n        this.toTaskbar = toTaskbar;\r\n        this.isPrompt = isPrompt;\r\n        this.promptOptions = promptOptions;\r\n        this.ACTOR_ITEMS_INDEX = [];\r\n        ui.spotlightOmnisearch?.close();\r\n        ui.spotlightOmnisearch = this;\r\n        this._onSearch = foundry.utils.debounce(this._onSearch, 167);\r\n        this.updateStoredPosition = foundry.utils.debounce(this.updateStoredPosition, 167);\r\n        document.addEventListener(\"mousedown\", Spotlight.onClickAway);\r\n        this.indexActorItems();\r\n    }\r\n    static get DEFAULT_OPTIONS() {\r\n        return mergeClone(super.DEFAULT_OPTIONS, {\r\n            classes: getSetting(\"compactMode\") ? [\"compact\"] : [],\r\n            window: {\r\n                title: `${MODULE_ID}.${this.APP_ID}.title`,\r\n            },\r\n            position: {\r\n                width: SPOTLIGHT_WIDTH,\r\n                height: \"auto\",\r\n            },\r\n        });\r\n    }\r\n\r\n    static onClickAway(event) {\r\n        if (!getSetting(\"clickToDismiss\")) return;\r\n        if (event.target.closest(\"#spotlight\")) return;\r\n        ui.spotlightOmnisearch?.close();\r\n    }\r\n\r\n    // get classList() {\r\n    //     return super.classList.concat(getSetting(\"compactMode\") ? [\"compact\"] : [])\r\n    // }\r\n\r\n    indexActorItems() {\r\n        const actors = canvas?.tokens?.controlled.map((token) => token.actor) ?? [];\r\n        if (_token && !actors.includes(_token.actor)) actors.push(_token.actor);\r\n        if (!actors.includes(game.user.character)) actors.push(game.user.character);\r\n        for (const actor of actors) {\r\n            if (!actor) continue;\r\n            const items = actor.items.map((item) => {\r\n                const actions = [];\r\n                if (item.use) {\r\n                    actions.push({\r\n                        name: `${MODULE_ID}.actions.use-item`,\r\n                        icon: '<i class=\"fas fa-hand-paper\"></i>',\r\n                        callback: async () => {\r\n                            item.use();\r\n                        },\r\n                    });\r\n                }\r\n                return new BaseSearchTerm({\r\n                    name: item.name,\r\n                    type: \"Item owned\",\r\n                    description: actor.name,\r\n                    img: item.img,\r\n                    icon: [\"fas fa-user-circle\", \"fas fa-suitcase\"],\r\n                    data: { uuid: item.uuid, documentName: \"Item\" },\r\n                    actions: actions,\r\n                    onClick: async () => {\r\n                        item.sheet.render(true);\r\n                    },\r\n                });\r\n            });\r\n            this.ACTOR_ITEMS_INDEX.push(...items);\r\n        }\r\n    }\r\n\r\n    async _prepareContext(options) {\r\n        const appData = getSetting(\"appData\");\r\n        const saveLastSearch = getSetting(\"saveLastSearch\");\r\n        if (!saveLastSearch) LAST_SEARCH = { query: \"\", filters: [] };\r\n        const timer = appData.timer;\r\n        if (game.user.isGM && timer && Date.now() > timer) {\r\n            delete appData.timer;\r\n            await setSetting(\"appData\", appData);\r\n        }\r\n        return { first: this.first, lastSearch: LAST_SEARCH.query };\r\n    }\r\n\r\n    _onRender(context, options) {\r\n        super._onRender(context, options);\r\n\r\n        const html = this.element;\r\n        const windowApp = html.closest(\"#spotlight\");\r\n        this._html = html;\r\n        \r\n        buildIndex().then((r) => {\r\n            if (r) {\r\n                this._onSearch();\r\n            }\r\n        });\r\n\r\n        if (this.toTaskbar) {\r\n            windowApp.classList.add(\"to-taskbar\");\r\n        }\r\n        const filtersContainer = html.querySelector(\".filters-container\");\r\n        LAST_SEARCH.filters.forEach((filter) => {\r\n            const filterElement = document.createElement(\"span\");\r\n            filterElement.innerText = filter;\r\n            filterElement.classList.add(\"filter\");\r\n            filterElement.dataset.filter = filter;\r\n            filterElement.addEventListener(\"click\", (e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                filterElement.remove();\r\n                this._onSearch();\r\n            });\r\n            filtersContainer.appendChild(filterElement);\r\n        });\r\n        html.querySelector(\"input\").addEventListener(\"input\", this._onSearch.bind(this));\r\n        //if enter is pressed on the search input, click on the first result\r\n        html.querySelector(\"input\").addEventListener(\"keydown\", this._onKeyDown.bind(this));\r\n        //timeout for janky core behavior\r\n        setTimeout(() => {\r\n            //enable the input\r\n            html.querySelector(\"input\").disabled = false;\r\n            //focus the input\r\n            html.querySelector(\"input\").focus();\r\n        }, 50);\r\n\r\n        html.closest(\"#spotlight\").classList.add(\"force-opacity\");\r\n        setTimeout(() => {\r\n            html.closest(\"#spotlight\").classList.remove(\"force-opacity\");\r\n        }, 300);\r\n        const positionType = getSetting(\"position\");\r\n        const storedPosition = getSetting(\"spotlightPosition\");\r\n        if (storedPosition && positionType === \"save\") {\r\n            //check if the stored position is within the window\r\n            if (!(storedPosition.left + SPOTLIGHT_WIDTH > window.innerWidth || storedPosition.top > window.innerHeight || storedPosition.top < 0 || storedPosition.left < 0)) {\r\n                this.setPosition({ left: storedPosition.left, top: storedPosition.top, width: SPOTLIGHT_WIDTH });\r\n            }\r\n        }\r\n        if (getSetting(\"alwaysOnTop\")) html.closest(\"#spotlight\").style.zIndex = \"9999 !important\";\r\n        if (this.first) html.querySelector(\"input\").value = \"?\";\r\n        if (this.promptOptions?.query) html.querySelector(\"input\").value = this.promptOptions.query;\r\n        this._onSearch();\r\n    }\r\n\r\n    setPosition(...args) {\r\n        if (!this.element) return;\r\n        super.setPosition(...args);\r\n        //get max availeble vertical space\r\n        const windowApp = this._html.closest(\"#spotlight\");\r\n        const top = windowApp.getBoundingClientRect().top;\r\n        const searchHeight = 100;\r\n        const maxHeight = window.innerHeight - top - searchHeight;\r\n        const prev = this._html.querySelector(\".search-section\").style.maxHeight;\r\n        this._html.querySelector(\".search-section\").style.maxHeight = `${maxHeight}px`;\r\n        if (prev !== this._html.querySelector(\".search-section\").style.maxHeight) {\r\n            const hasTaskbar = windowApp.classList.contains(\"to-taskbar\");\r\n            windowApp.classList.toggle(\"inverted\", maxHeight < window.innerHeight / 3 || hasTaskbar);\r\n            this.setPosition({ height: \"auto\" });\r\n        }\r\n        this.updateStoredPosition();\r\n    }\r\n\r\n    updateStoredPosition() {\r\n        setSetting(\"spotlightPosition\", { left: this.position.left, top: this.position.top });\r\n    }\r\n\r\n    _getFilters(query) {\r\n        const filters = [];\r\n        while (query.includes(\"!\")) {\r\n            const filter = query.match(/^!(\\S+)/g);\r\n            if (filter) {\r\n                filters.push(filter[0].replace(\"!\", \"\").toLowerCase());\r\n                query = query.replace(filter[0], \"\").trim();\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n        return { filters, query };\r\n    }\r\n\r\n    _onKeyDown(event) {\r\n        const html = this._html;\r\n        const inputTime = Date.now();\r\n        const inputDelta = inputTime - LAST_INPUT_TIME;\r\n        html.querySelector(\".input-suggestion\").innerText = \"\";\r\n        LAST_INPUT_TIME = inputTime;\r\n        if (event.key === \"Enter\") {\r\n            event.preventDefault();\r\n            const isShift = event.shiftKey;\r\n            const isAlt = event.altKey;\r\n            const selected = html.querySelector(\".search-item:not(.type-header).selected\");\r\n            const firstItem = selected ?? html.querySelector(\".search-item:not(.type-header)\");\r\n            const selectedAction = firstItem?.querySelector(\".search-item-actions button.selected\");\r\n            if (selectedAction) {\r\n                selectedAction.click();\r\n                return this.close();\r\n            }\r\n            if (!firstItem) return;\r\n            if (isShift) {\r\n                //find the first action button\r\n                const actionButton = firstItem.querySelector(\".search-item-actions button\");\r\n                if (actionButton) actionButton.click();\r\n            } else if (isAlt) {\r\n                //find the second action button\r\n                const actionButton = firstItem.querySelectorAll(\".search-item-actions button\")[1];\r\n                if (actionButton) actionButton.click();\r\n            } else {\r\n                firstItem?.click();\r\n            }\r\n            this.close();\r\n        }\r\n        //if escape is pressed, close the spotlight\r\n        if (event.key === \"Escape\") {\r\n            this.close();\r\n        }\r\n        //if backspace is pressed and the input is empty, remove the last filter\r\n        if (event.key === \"Backspace\" && !html.querySelector(\"input\").value) {\r\n            const filters = html.querySelectorAll(\".filters-container .filter\");\r\n            const lastFilter = filters[filters.length - 1];\r\n            if (lastFilter) lastFilter.remove();\r\n            this._onSearch();\r\n        }\r\n        //if arrow up or down is pressed, move the selection\r\n        if (event.key === \"ArrowUp\" || event.key === \"ArrowDown\") {\r\n            html.querySelectorAll(\"button\").forEach((button) => button.classList.remove(\"selected\"));\r\n            const selected = html.querySelector(\".search-item.selected\");\r\n            if (!selected) {\r\n                const first = html.querySelector(\".search-item:not(.type-header)\");\r\n                if (first) first.classList.add(\"selected\");\r\n                return;\r\n            }\r\n            let next;\r\n            if (event.ctrlKey) {\r\n                //jump to next or previous type header\r\n                next = selected[event.key === \"ArrowUp\" ? \"previousElementSibling\" : \"nextElementSibling\"];\r\n                while (next && !next.classList.contains(\"type-header\")) {\r\n                    next = next[event.key === \"ArrowUp\" ? \"previousElementSibling\" : \"nextElementSibling\"];\r\n                }\r\n                if (next) {\r\n                    next = next[event.key === \"ArrowUp\" ? \"previousElementSibling\" : \"nextElementSibling\"];\r\n                    //if the key is arrow up, loop until there is a type header above\r\n                    if (event.key === \"ArrowUp\") {\r\n                        while (next && !next.classList.contains(\"type-header\")) {\r\n                            next = next.previousElementSibling;\r\n                        }\r\n                        next = next.nextElementSibling;\r\n                    }\r\n                }\r\n            } else {\r\n                next = selected[event.key === \"ArrowUp\" ? \"previousElementSibling\" : \"nextElementSibling\"];\r\n                if (next && next.classList.contains(\"type-header\")) next = next[event.key === \"ArrowUp\" ? \"previousElementSibling\" : \"nextElementSibling\"];\r\n            }\r\n            if (next) {\r\n                selected.classList.remove(\"selected\");\r\n                next.classList.add(\"selected\");\r\n                //scroll to the selected element\r\n                next.scrollIntoView({ block: \"nearest\", behavior: \"smooth\" });\r\n            }\r\n        }\r\n        //if arrow left or right is pressed, highlight action in currently selected item\r\n        if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\r\n            const selected = html.querySelector(\".search-item.selected\");\r\n            if (!selected) return;\r\n            const actions = selected.querySelectorAll(\".search-item-actions button\");\r\n            if (!actions.length) return;\r\n            const selectedAction = selected.querySelector(\".search-item-actions button.selected\");\r\n            if (!selectedAction) {\r\n                actions[0].classList.add(\"selected\");\r\n                return;\r\n            }\r\n            let next;\r\n            if (event.key === \"ArrowLeft\") {\r\n                next = selectedAction.previousElementSibling ?? actions[actions.length - 1];\r\n            } else {\r\n                next = selectedAction.nextElementSibling ?? actions[0];\r\n            }\r\n            selectedAction.classList.remove(\"selected\");\r\n            next.classList.add(\"selected\");\r\n        }\r\n        //if space + shift is pressed, close the spotlight\r\n        if (event.key === \" \" && event.shiftKey && inputDelta < 400) {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    _onSearch() {\r\n        if (this.closing) return;\r\n        const input = this._html.querySelector(\"input\");\r\n        const inputSuggestion = this._html.querySelector(\".input-suggestion\");\r\n        let query = input.value.toLowerCase();\r\n        query = convertFullWidthToRegular(query);\r\n        const hasSpace = query.includes(\" \");\r\n        query = query.trim();\r\n        if (!query) inputSuggestion.innerText = \"\";\r\n        //check the query for filtered searches such as !keyword\r\n        const filtersData = this._getFilters(query);\r\n        const filters = filtersData.filters;\r\n        query = filtersData.query;\r\n        let hasFilters = filters.length > 0;\r\n        if (hasFilters) {\r\n            const matchedFilters = FILTERS.filter((f) => f.startsWith(filters[0]));\r\n            const suggestionText = `${matchedFilters.join(\" / \")}`.replace(filters[0], \"\");\r\n            const inputSpacer = document.createElement(\"span\");\r\n            inputSpacer.classList.add(\"input-spacer\");\r\n            inputSpacer.innerText = input.value;\r\n            inputSuggestion.appendChild(inputSpacer);\r\n            inputSuggestion.innerHTML += suggestionText;\r\n            // inputSuggestion.innerText = `<span class=\"input-spacer\">${input.value}</span>${suggestionText}`;\r\n        }\r\n        if (hasFilters && hasSpace) {\r\n            const filtersContainer = this._html.querySelector(\".filters-container\");\r\n            filters.forEach((filter) => {\r\n                const filterElement = document.createElement(\"span\");\r\n                const matchingFilters = FILTERS.filter((f) => f.startsWith(filter));\r\n                const singleFilter = matchingFilters.length === 1 ? matchingFilters[0] : filter;\r\n                filterElement.innerText = singleFilter;\r\n                filterElement.classList.add(\"filter\");\r\n                filterElement.dataset.filter = singleFilter;\r\n                filterElement.addEventListener(\"click\", (e) => {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    filterElement.remove();\r\n                    this._onSearch();\r\n                });\r\n\r\n                filtersContainer.appendChild(filterElement);\r\n                input.value = this._html.querySelector(\"input\").value.replace(`!${filter}`, \"\").trim();\r\n                inputSuggestion.innerText = \"\";\r\n            });\r\n        }\r\n        const spanFilters = this._html.querySelectorAll(\".filters-container .filter\");\r\n        spanFilters.forEach((spanFilter) => {\r\n            filters.push(spanFilter.dataset.filter);\r\n        });\r\n        hasFilters = filters.length > 0;\r\n        LAST_SEARCH = {\r\n            query,\r\n            filters,\r\n        };\r\n        const section = this._html.querySelector(\".search-section\");\r\n        const isActiveTimer = !!getSetting(\"appData\").timer;\r\n        section.classList.toggle(\"no-results\", !query && !isActiveTimer && !hasFilters);\r\n        if (!query && !isActiveTimer && !hasFilters) {\r\n            this._html.querySelector(\"#search-result\").innerHTML = \"\";\r\n            this.setPosition({ height: \"auto\" });\r\n            return;\r\n        }\r\n        const results = [];\r\n\r\n        const completeSearch = () => {\r\n            //sort by type\r\n            const types = {\r\n                \"special-app\": [],\r\n                \"recent-searches\": [],\r\n            };\r\n            const useHistory = getSetting(\"useHistory\");\r\n            const recent = useHistory ? getSetting(\"recent\") ?? [] : [];\r\n            const recentHeader = document.createElement(\"li\");\r\n            recentHeader.classList.add(\"type-header\");\r\n            recentHeader.style.justifyContent = \"space-between\";\r\n            recentHeader.style.background = \"none\";\r\n            recentHeader.innerHTML = `${game.i18n.localize(`${MODULE_ID}.recent-searches`)} <span class=\"clear-recent\"><i data-tooltip=\"${game.i18n.localize(`${MODULE_ID}.recent-tooltip`)}\" style=\"cursor: pointer;pointer-events: all;\" class=\"fas fa-trash-clock\"></i></span>`;\r\n            recentHeader.querySelector(\"i\").addEventListener(\"click\", () => {\r\n                setSetting(\"recent\", []);\r\n                this._onSearch();\r\n            });\r\n\r\n            results.forEach((result) => {\r\n                if (recent.includes(result.name)) {\r\n                    types[\"recent-searches\"].push(result);\r\n                    return;\r\n                }\r\n                if (!types[result.type]) types[result.type] = [];\r\n                types[result.type].push(result);\r\n            });\r\n\r\n            let suggestionAdded = false;\r\n\r\n            const list = this._html.querySelector(\"#search-result\");\r\n            list.innerHTML = \"\";\r\n            for (const [type, typeResults] of Object.entries(types)) {\r\n                if (!typeResults.length) continue;\r\n                //sort typeResults by name, then bring to the top the ones that start with the query\r\n                const sortedTypeResults = [];\r\n                const doesNotStartWithQuery = [];\r\n                typeResults.forEach((result) => {\r\n                    const lc = result.name.toLowerCase();\r\n                    if (splitQuery.some((q) => lc.startsWith(q))) sortedTypeResults.push(result);\r\n                    else doesNotStartWithQuery.push(result);\r\n                });\r\n                doesNotStartWithQuery.sort((a, b) => a.name.localeCompare(b.name));\r\n                sortedTypeResults.sort((a, b) => a.name.localeCompare(b.name));\r\n                sortedTypeResults.push(...doesNotStartWithQuery);\r\n\r\n                let typeHeader = document.createElement(\"li\");\r\n                typeHeader.innerText = type\r\n                    .replaceAll(\"-\", \" \")\r\n                    .replaceAll(\" \", \" - \")\r\n                    .replace(/([a-z])([A-Z])/g, \"$1 $2\");\r\n\r\n                typeHeader.classList.add(\"type-header\");\r\n                if (type === \"recent-searches\") typeHeader = recentHeader;\r\n                if (!type.includes(\"special-app\")) list.appendChild(typeHeader);\r\n                sortedTypeResults.forEach((result) => {\r\n                    if (!suggestionAdded) {\r\n                        suggestionAdded = true;\r\n                        if(inputSuggestion.innerText) {\r\n                            inputSuggestion.innerHTML = inputSuggestion.innerText;\r\n                        } else {\r\n                            // const tempSpan = document.createElement(\"div\");\r\n                            // tempSpan.innerHTML = result.name;\r\n                            const inputSpacer = document.createElement(\"span\");\r\n                            inputSpacer.classList.add(\"input-spacer\");\r\n                            inputSpacer.innerText = input.value;\r\n                            inputSuggestion.appendChild(inputSpacer);\r\n                            inputSuggestion.innerHTML += \" \" + result.name;\r\n                        }\r\n\r\n                        // inputSuggestion.appendChild(inputSpacer);\r\n                        // inputSuggestion.innerHTML += \" \" + tempSpan.innerText;\r\n                        // inputSuggestion.innerHTML = !inputSuggestion.innerText ? `<span class=\"input-spacer\">${input.value}</span>` + \" \" + tempSpan.innerText : inputSuggestion.innerText;\r\n                    }\r\n                    list.appendChild(result.element);\r\n                });\r\n            }\r\n            if (!results.length) {\r\n                section.classList.add(\"no-results\");\r\n            }\r\n            this.setPosition({ height: \"auto\" });\r\n            input.placeholder = \"\";\r\n        };\r\n\r\n        query = foundry.applications.ux.SearchFilter.cleanQuery(query);\r\n        //match special searches\r\n        for (const search of SPECIAL_SEARCHES) {\r\n            search.query = query;\r\n            if (hasFilters && !filters.every((filter) => search.type.toLowerCase().includes(filter))) continue;\r\n            if (isActiveTimer && search.type.includes(\"timer\")) {\r\n                results.push(new SearchItem(search));\r\n                if (!query) break;\r\n                continue;\r\n            }\r\n            if (search.match(query)) {\r\n                results.push(new SearchItem(search));\r\n            }\r\n        }\r\n\r\n        const splitQuery = query\r\n            .split(\" \")\r\n            .map((q) => q.trim())\r\n            .filter((q) => q);\r\n\r\n        if (!query && isActiveTimer) {\r\n            return completeSearch();\r\n        }\r\n\r\n        //match actor items\r\n        for (let i = 0; i < this.ACTOR_ITEMS_INDEX.length; i++) {\r\n            if (results.length > 50) break;\r\n            const search = this.ACTOR_ITEMS_INDEX[i];\r\n            search.query = query;\r\n            if (hasFilters && !filters.every((filter) => search.type.toLowerCase().includes(filter))) continue;\r\n            if (splitQuery.every((q) => search.match(q))) {\r\n                results.push(new SearchItem(search));\r\n            }\r\n        }\r\n\r\n        //match index\r\n        for (let i = 0; i < INDEX.length; i++) {\r\n            if (results.length > 50) break;\r\n            const search = INDEX[i];\r\n            search.query = query;\r\n            if (hasFilters && !filters.every((filter) => search.type.toLowerCase().includes(filter))) continue;\r\n            if (splitQuery.every((q) => search.match(q))) {\r\n                results.push(new SearchItem(search));\r\n            }\r\n        }\r\n\r\n        //match file index\r\n        for (let i = 0; i < FILE_INDEX.length; i++) {\r\n            if (results.length > 50) break;\r\n            const search = FILE_INDEX[i];\r\n            search.query = query;\r\n            if (hasFilters && !filters.some((filter) => search.type.toLowerCase().includes(filter))) continue;\r\n            if (splitQuery.every((q) => search.match(q))) {\r\n                results.push(new SearchItem(search));\r\n            }\r\n        }\r\n\r\n        //set the list to the results\r\n        completeSearch();\r\n    }\r\n\r\n    setDraggingState(toggle) {\r\n        setTimeout(() => {\r\n            this._html.closest(\"#spotlight\").classList.toggle(\"dragging\", toggle);\r\n        }, 1);\r\n    }\r\n\r\n    async close(options = {}) {\r\n        ui.spotlightOmnisearch = null;\r\n        this._resolve(options.result);\r\n        document.removeEventListener(\"mousedown\", Spotlight.onClickAway);\r\n        return super.close(options);\r\n    }\r\n\r\n    static toTaskbar({ left, bottom }) {\r\n        new Spotlight({ toTaskbar: left }).render(true, { left });\r\n    }\r\n}\r\n\r\nfunction convertFullWidthToRegular(text) {\r\n    const fullWidthNumbers = \"\";\r\n    const regularNumbers = \"0123456789\";\r\n    const regex = new RegExp(\"[\" + fullWidthNumbers + \"]\", \"g\");\r\n    return text.replace(regex, function (match) {\r\n        return regularNumbers[fullWidthNumbers.indexOf(match)];\r\n    });\r\n}\r\n\r\nlet localizations = null;\r\n\r\nfunction loadBasicLocalizations() {\r\n    localizations = {\r\n        MACRO: game.i18n.localize(\"DOCUMENT.Macro\"),\r\n        JOURNAL_ENTRY: game.i18n.localize(\"DOCUMENT.JournalEntry\"),\r\n        ROLL_TABLE: game.i18n.localize(\"DOCUMENT.RollTable\"),\r\n        PLAYLIST: game.i18n.localize(\"DOCUMENT.Playlist\"),\r\n        SCENE: game.i18n.localize(\"DOCUMENT.Scene\"),\r\n        JOURNAL_ENTRY_PAGE: game.i18n.localize(\"DOCUMENT.JournalEntryPage\"),\r\n    };\r\n}\r\n\r\nclass SearchItem {\r\n    constructor(searchTerm) {\r\n        if (!localizations) loadBasicLocalizations();\r\n        this.name = searchTerm.name;\r\n        this.nameExtra = searchTerm.nameExtra ?? \"\";\r\n        this.description = searchTerm.description;\r\n        this.type = searchTerm.type;\r\n        this.isSpecialApp = this.type.includes(\"special-app\");\r\n        this.data = searchTerm.data;\r\n        this.img = searchTerm.img;\r\n        this.dragData = searchTerm.dragData;\r\n        this.actions = searchTerm.actions;\r\n        if (!getSetting(\"showImages\")) this.img = null;\r\n        this.icon = Array.isArray(searchTerm.icon) ? searchTerm.icon : [searchTerm.icon];\r\n        this.element = document.createElement(\"li\");\r\n        this.element._searchItem = this;\r\n        this.element.classList.add(\"search-item\", ...this.type.split(\" \"));\r\n        if (this.icon.length > 1) {\r\n            this.element.classList.add(\"multi-icons\");\r\n        }\r\n        this.searchTerm = searchTerm;\r\n        this.render();\r\n        this.addElementListeners();\r\n    }\r\n\r\n    addElementListeners() {\r\n        this.element.addEventListener(\"click\", (e) => {\r\n            if (!this.isSpecialApp) updateRecent(this.name);\r\n            if (ui.spotlightOmnisearch.isPrompt) return ui.spotlightOmnisearch.close({ result: this.searchTerm });\r\n            this.searchTerm.onClick?.(e, this.searchTerm);\r\n        });\r\n        this.setDraggable();\r\n\r\n        if (!!getSetting(\"appData\").timer && this.type.includes(\"timer\")) {\r\n            let interval;\r\n            interval = setInterval(() => {\r\n                //if the element is removed from the dom, clear the interval\r\n                if (!document.body.contains(this.element)) {\r\n                    clearInterval(interval);\r\n                    return;\r\n                }\r\n\r\n                this.name = this.searchTerm.name;\r\n                this.render();\r\n            }, 1000);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const icons = this.icon.map((icon) => `<i class=\"${icon}\"></i>`).join(\"\");\r\n        this.element.innerHTML = `${this.img ? `<img src=\"${this.img}\" alt=\"${this.name}\">` : \"\"} ${icons} <div class=\"search-info\"><span class=\"search-entry-name\">${this.name + this.nameExtra}</span>${this.description ? `<p>${this.description}</p>` : \"\"}</div>`;\r\n        const actions = this.getActions();\r\n        if (actions) {\r\n            const isJournalOrPage = this.data?.documentName?.includes(\"Journal\");\r\n            //wrap name in a div so we can insert the actions after it\r\n            const wrapper = document.createElement(\"div\");\r\n            if (actions.actions.length <= 3 && !isJournalOrPage) {\r\n                wrapper.classList.add(\"search-entry-name-wrapper\");\r\n            }\r\n            wrapper.appendChild(this.element.querySelector(\".search-entry-name\"));\r\n            //set as first child of search-info\r\n            this.element.querySelector(\".search-info\").insertAdjacentElement(\"afterbegin\", wrapper);\r\n            wrapper.appendChild(actions.actionsContainer);\r\n        }\r\n        const settingToggle = this.element.querySelector(\".s-toggle-setting\");\r\n        if (settingToggle) {\r\n            settingToggle.addEventListener(\"click\", (e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                const state = game.settings.get(settingToggle.dataset.namespace, settingToggle.dataset.key);\r\n                game.settings.set(settingToggle.dataset.namespace, settingToggle.dataset.key, !state);\r\n                settingToggle.classList.remove(\"fa-toggle-on\", \"fa-toggle-off\");\r\n                settingToggle.classList.add(`fa-toggle-${!state ? \"on\" : \"off\"}`);\r\n            });\r\n        }\r\n        this.searchTerm.activateListeners?.(this.element);\r\n    }\r\n\r\n    getActions() {\r\n        const actions = [...this.actions] ?? [];\r\n        const isCompendiumDocument = this.data.uuid?.includes(\"Compendium\");\r\n        if (this.type.includes(localizations.MACRO)) {\r\n            actions.push({\r\n                name: `${MODULE_ID}.actions.execute`,\r\n                icon: '<i class=\"fas fa-terminal\"></i>',\r\n                callback: async () => {\r\n                    (await fromUuid(this.data.uuid)).execute();\r\n                },\r\n            });\r\n        } else if (this.type == localizations.SCENE && !isCompendiumDocument) {\r\n            actions.push(\r\n                {\r\n                    name: `${MODULE_ID}.actions.view`,\r\n                    icon: '<i class=\"fas fa-eye\"></i>',\r\n                    callback: async () => {\r\n                        (await fromUuid(this.data.uuid)).view();\r\n                    },\r\n                },\r\n                {\r\n                    name: `${MODULE_ID}.actions.activate`,\r\n                    icon: '<i class=\"fas fa-play\"></i>',\r\n                    callback: async () => {\r\n                        (await fromUuid(this.data.uuid)).activate();\r\n                    },\r\n                },\r\n                {\r\n                    name: `${MODULE_ID}.actions.preload`,\r\n                    icon: '<i class=\"fas fa-download\"></i>',\r\n                    callback: async () => {\r\n                        const scene = fromUuidSync(this.data.uuid);\r\n                        game.scenes.preload(scene.id, true);\r\n                    },\r\n                },\r\n            );\r\n        } else if (this.type.includes(localizations.ROLL_TABLE)) {\r\n            actions.push({\r\n                name: `${MODULE_ID}.actions.roll-table`,\r\n                icon: '<i class=\"fas fa-dice-d20\"></i>',\r\n                callback: async () => {\r\n                    (await fromUuid(this.data.uuid)).draw();\r\n                },\r\n            });\r\n        } else if (this.type.includes(localizations.PLAYLIST)) {\r\n            const playlist = fromUuidSync(this.data.uuid);\r\n            if (playlist && !isCompendiumDocument) {\r\n                if (playlist.playing) {\r\n                    actions.push({\r\n                        name: `${MODULE_ID}.actions.stop-playlist`,\r\n                        icon: '<i class=\"fas fa-stop\"></i>',\r\n                        callback: async () => {\r\n                            playlist.stopAll();\r\n                        },\r\n                    });\r\n                } else {\r\n                    actions.push({\r\n                        name: `${MODULE_ID}.actions.play-playlist`,\r\n                        icon: '<i class=\"fas fa-play\"></i>',\r\n                        callback: async () => {\r\n                            playlist.playAll();\r\n                        },\r\n                    });\r\n                }\r\n            }\r\n        } else if (this.type.includes(localizations.JOURNAL_ENTRY) || this.type.includes(localizations.JOURNAL_ENTRY_PAGE)) {\r\n            const query = this.searchTerm.query.toLowerCase();\r\n            const matchingActions = actions.filter((action) => action.name.toLowerCase().includes(query));\r\n            if (matchingActions.length) {\r\n                actions.length = 0;\r\n                actions.push(...matchingActions);\r\n            }\r\n        }\r\n\r\n        if (!actions.length) return null;\r\n        const actionsContainer = document.createElement(\"div\");\r\n        actionsContainer.classList.add(\"search-item-actions\");\r\n        actions.forEach((action) => {\r\n            const button = document.createElement(\"button\");\r\n            button.innerHTML = action.icon + \" \" + game.i18n.localize(action.name);\r\n            button.addEventListener(\"click\", (e) => {\r\n                if (!this.isSpecialApp) updateRecent(this.name);\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                action.callback(e);\r\n            });\r\n            actionsContainer.appendChild(button);\r\n        });\r\n        return { actionsContainer, actions };\r\n    }\r\n\r\n    setDragging(event) {\r\n        this.searchTerm.onDragStart?.(event);\r\n        setTimeout(() => {\r\n            document.querySelector(\"#spotlight\").classList.add(\"dragging\");\r\n        }, 1);\r\n    }\r\n\r\n    endDragging(event) {\r\n        document.querySelector(\"#spotlight\").classList.remove(\"dragging\");\r\n        this.searchTerm.onDragEnd?.(event);\r\n    }\r\n\r\n    setDraggable() {\r\n        if (this.data.uuid) {\r\n            this.element.setAttribute(\"draggable\", true);\r\n            this.element.addEventListener(\"dragstart\", (event) => {\r\n                this.setDragging(event);\r\n                event.dataTransfer.setData(\"text/plain\", JSON.stringify({ type: this.data.documentName, uuid: this.data.uuid }));\r\n            });\r\n            this.element.addEventListener(\"dragend\", (event) => {\r\n                this.endDragging(event);\r\n            });\r\n        }\r\n        if (this.dragData) {\r\n            this.element.setAttribute(\"draggable\", true);\r\n            this.element.addEventListener(\"dragstart\", (event) => {\r\n                this.setDragging(event);\r\n                event.dataTransfer.setData(\"text/plain\", JSON.stringify(this.dragData));\r\n            });\r\n            this.element.addEventListener(\"dragend\", (event) => {\r\n                this.endDragging(event);\r\n            });\r\n            this.element.addEventListener(\"drop\", (event) => {\r\n                this.searchTerm.onDrop?.(event);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nfunction updateRecent(name) {\r\n    const useHistory = getSetting(\"useHistory\");\r\n    if (!useHistory) return;\r\n    const recent = getSetting(\"recent\") ?? [];\r\n    if (recent.includes(name)) return;\r\n    recent.unshift(name);\r\n    if (recent.length > 50) recent.pop();\r\n    return setSetting(\"recent\", recent);\r\n}\r\n","import { CompendiumConfig } from \"./app/CompendiumConfig.js\";\r\nimport { Spotlight } from \"./app/spotlight.js\";\r\nimport { initConfig } from \"./config.js\";\r\nimport { BaseSearchTerm } from \"./searchTerms/baseSearchTerm.js\";\r\nimport { INDEX, buildIndex } from \"./searchTerms/buildTermIndex.js\";\r\nimport { getSetting, registerSettings, setSetting } from \"./settings.js\";\r\nimport { updateTimerInterval } from \"./timer.js\";\r\nimport \"../scss/module.scss\";\r\n\r\nexport const MODULE_ID = \"spotlight-omnisearch\";\r\n\r\nHooks.on(\"init\", () => {\r\n    initConfig();\r\n    registerSettings();\r\n    CompendiumConfig.register();\r\n    CONFIG.SpotlightOmnisearch = {\r\n        app: Spotlight,\r\n        INDEX: INDEX,\r\n        SearchTerm: BaseSearchTerm,\r\n        rebuildIndex: () => buildIndex(true),\r\n        prompt: async (options = {query : \"\"}) => {\r\n            if (!game.user.isGM && getSetting(\"gmOnly\")) return null;\r\n            const current = [...foundry.applications.instances.values()].find((w) => w instanceof Spotlight);\r\n            if (current) {\r\n                current.close();\r\n            }\r\n            const spotlight = new Spotlight({promptOptions: options, isPrompt: true});\r\n            spotlight.render(true);\r\n            return spotlight.promise;\r\n        },\r\n    };\r\n    //setup a getter for the typo in the api config\r\n    Object.defineProperty(CONFIG, \"SpotlightOmniseach\", {\r\n        get: () => {\r\n            console.warn(\"The CONFIG.SpotlightOmniseach contained a typo, please update your modules to use the correct spelling by using CONFIG.SpotlightOmnisearch. This will be removed in version 1.0.0.\");\r\n            return CONFIG.SpotlightOmnisearch;\r\n        },\r\n    });\r\n});\r\n\r\nHooks.once(\"canvasReady\", () => {\r\n    if (getSetting(\"firstTime\")) {\r\n        setTimeout(() => {\r\n            if (!game.user.isGM && getSetting(\"gmOnly\")) return;\r\n            new Spotlight({ first: true }).render(true);\r\n        }, 1000);\r\n        setSetting(\"firstTime\", false);\r\n    }\r\n});\r\n\r\nHooks.on(\"ready\", () => {\r\n    if (getSetting(\"enableCtrlSpace\")) {\r\n        //hardcode a ctrl + space hotkey\r\n        document.addEventListener(\"keydown\", (e) => {\r\n            if (e.ctrlKey && e.key === \" \") {\r\n                if (!game.user.isGM && getSetting(\"gmOnly\")) return;\r\n                const current = [...foundry.applications.instances.values()].find((w) => w instanceof Spotlight);\r\n                if (current) {\r\n                    current.close();\r\n                } else {\r\n                    new Spotlight().render(true);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    updateTimerInterval();\r\n});\r\n\r\nHooks.on(\"init\", () => {\r\n    game.keybindings.register(MODULE_ID, \"toggleSpotlight\", {\r\n        name: `${MODULE_ID}.hotkeys.toggleSpotlight.name`,\r\n        editable: [{ key: \"Space\", modifiers: [\"Shift\"] }],\r\n        restricted: false,\r\n        precedence: CONST.KEYBINDING_PRECEDENCE.PRIORITY,\r\n        onDown: (e) => {\r\n            if (!game.user.isGM && getSetting(\"gmOnly\")) return;\r\n            const current = [...foundry.applications.instances.values()].find((w) => w instanceof Spotlight);\r\n            if (current) {\r\n                current.close();\r\n            } else {\r\n                new Spotlight().render(true);\r\n            }\r\n        },\r\n    });\r\n});\r\n","import { BaseSearchTerm } from \"./baseSearchTerm\";\r\nimport { MODULE_ID } from \"../main\";\r\nimport {getSetting, setSetting} from \"../settings\";\r\nimport { FILTERS } from \"./buildTermIndex\";\r\n\r\nexport const SPECIAL_SEARCHES = [];\r\n\r\nlet LAST_COUNTER_FOCUS = null;\r\n\r\nexport async function initSpecialSearches() {\r\n    SPECIAL_SEARCHES.length = 0;\r\n\r\n    const NOTE_MATCHING = [\"notes\", \"note:\", \"notes:\", \"n:\", \"n \", game.i18n.localize(`${MODULE_ID}.special.note.local-keyword`)];\r\n    const ROLL_MATCHING = [\"!roll\", \"roll:\", \"r:\", \"r \", game.i18n.localize(`${MODULE_ID}.special.roll.local-keyword`)];\r\n    const TIMER_MATCHING = [\"timer:\", \"time\", \"time:\", \"t:\", \"t \", game.i18n.localize(`${MODULE_ID}.special.timer.local-keyword`)];\r\n    const TRACKER_MATCHING = [\"tracker:\", \"t:\", \"t \", \"track\", \"track:\", \"s:\", \"s \", \"f:\", \"f \", game.i18n.localize(`${MODULE_ID}.special.tracker.local-keyword`)];\r\n    const COUNTER_MATCHING = [\"counter:\", \"c:\", \"c \", \"count\", \"count:\", \"c:\", \"c \", game.i18n.localize(`${MODULE_ID}.special.counter.local-keyword`)];\r\n\r\n    const UNITS_MAPPING = {\r\n        ft: (value) => value * 0.3048 + \"m\",\r\n        in: (value) => value * 2.54 + \"cm\",\r\n        yd: (value) => value * 0.9144 + \"m\",\r\n        mi: (value) => value * 1.60934 + \"km\",\r\n        lb: (value) => value * 0.453592 + \"kg\",\r\n        lbs: (value) => value * 0.453592 + \"kg\",\r\n        oz: (value) => value * 28.3495 + \"g\",\r\n        gal: (value) => value * 3.78541 + \"l\",\r\n        pt: (value) => value * 473.176 + \"ml\",\r\n        \"fl oz\": (value) => value * 29.5735 + \"ml\",\r\n        tbsp: (value) => value * 14.7868 + \"ml\",\r\n        f: (value) => ((value - 32) * 5) / 9 + \"c\",\r\n        \"\": (value) => (value * 9) / 5 + 32 + \"f\",\r\n        \"C\": (value) => (value * 9) / 5 + 32 + \"F\",\r\n        \"F\": (value) => ((value - 32) * 5) / 9 + \"C\",\r\n        c: (value) => (value * 9) / 5 + 32 + \"f\",\r\n        m: (value) => value * 3.28084 + \"ft\",\r\n        cm: (value) => value * 0.393701 + \"in\",\r\n        km: (value) => value * 0.621371 + \"mi\",\r\n        kg: (value) => value * 2.20462 + \"lb\",\r\n        g: (value) => value * 0.035274 + \"oz\",\r\n        l: (value) => value * 0.264172 + \"gal\",\r\n        ml: (value) => value * 0.00211338 + \"pt\",\r\n    };\r\n\r\n    const UNITS = Object.keys(UNITS_MAPPING);\r\n\r\n    const LIGHT_LOCALIZATION = game.i18n.localize(`Light`);\r\n\r\n    SPECIAL_SEARCHES.push(\r\n        //Calculator\r\n        new BaseSearchTerm({\r\n            name: function (search) {\r\n                try {\r\n                    return `${eval(search.query)}`;\r\n                } catch {\r\n                    //remove characters from the end until the last character is a number\r\n                    let query = search.query;\r\n                    while (query.length > 0 && isNaN(query[query.length - 1])) {\r\n                        query = query.slice(0, -1);\r\n                    }\r\n                    try {\r\n                        return `${eval(query)}`;\r\n                    } catch {\r\n                        return \"...\";\r\n                    }\r\n                }\r\n            },\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-calculator\",\r\n            match: (query) => {\r\n                return query && query.match(/^[0-9\\+\\-\\*\\/\\(\\)\\.\\s]*$/);\r\n            },\r\n            onClick: function (search) {\r\n                navigator.clipboard.writeText(this.name);\r\n                ui.notifications.info(game.i18n.localize(`${MODULE_ID}.notifications.calc-clipboard`));\r\n            },\r\n        }),\r\n        //unit converter\r\n        new BaseSearchTerm({\r\n            name: function (search) {\r\n                //remove all spaces\r\n                let query = search.query.replaceAll(\" \", \"\");\r\n                //check if the query contains a number and a unit, the number should be matched for plus and minus signs as well\r\n                const numberPart = query.match(/[\\d+-.]+/)?.[0];\r\n                //alpha part should also include the  symbol\r\n                const alphaPart = query.match(/[a-zA-Z]+/)?.[0];\r\n                const closestUnit = UNITS.find((unit) => alphaPart === unit) ?? UNITS.find((unit) => alphaPart.includes(unit));\r\n                if (numberPart && closestUnit) {\r\n                    const value = parseFloat(numberPart);\r\n                    const unit = closestUnit;\r\n                    const converted = UNITS_MAPPING[unit](value);\r\n                    let convertedValue = converted.match(/[\\d+-.]+/)?.[0];\r\n                    const convertedUnit = converted.match(/[a-zA-Z]+/)?.[0];\r\n                    //round to 2 decimal places\r\n                    if (convertedValue) convertedValue = parseFloat(convertedValue).toFixed(2);\r\n                    return `<div class=\"unit-converter-result\"><span>${value} ${unit}</span> <i class=\"fas fa-equals\"></i> <span data-converted=\"${convertedValue}\">${convertedValue} ${convertedUnit}</span></div>`;\r\n                }\r\n                return \"...\";\r\n            },\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-calculator\",\r\n            match: (query) => {\r\n                //remove all spaces\r\n                query = query.replaceAll(\" \", \"\");\r\n                //check if the query contains a number and a unit\r\n                const numberPart = query.match(/[\\d.]+/)?.[0];\r\n                //alpha part should also include the  symbol\r\n                const alphaPart = query.match(/[a-zA-Z]+/)?.[0];\r\n                return numberPart && UNITS.includes(alphaPart);\r\n            },\r\n            onClick: function (event, search) {\r\n                const convertedEl = document.createElement(\"div\");\r\n                convertedEl.innerHTML = search.name;\r\n                const convertedValue = convertedEl.querySelector(\"span[data-converted]\").dataset.converted;\r\n                navigator.clipboard.writeText(convertedValue);\r\n                ui.notifications.info(game.i18n.localize(`${MODULE_ID}.notifications.calc-clipboard`));\r\n            },\r\n        }),\r\n        //notes\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.note.name`),\r\n            description: (search) => {\r\n                const noteText = search.query.replace(/(note|notes|!note|!notes|note:|notes:|!n|n:)/i, \"\").trim();\r\n                return noteText;\r\n            },\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-sticky-note\",\r\n            match: (query) => {\r\n                return NOTE_MATCHING.some((keyword) => query.startsWith(keyword));\r\n            },\r\n            onClick: async function (search) {\r\n                const noteText = this.description;\r\n                if (!noteText) return;\r\n                const journalName = `Omnisearch Notes [${game.user.name}]`;\r\n                let journal = game.journal.getName(journalName);\r\n                if (!journal) {\r\n                    journal = await JournalEntry.create({\r\n                        name: journalName,\r\n                    });\r\n                }\r\n                const todayDate = new Date().toLocaleDateString();\r\n                const nowTime = new Date().toLocaleTimeString();\r\n                let page = journal.pages.getName(todayDate);\r\n                if (!page) {\r\n                    page = await journal.createEmbeddedDocuments(\"JournalEntryPage\", [\r\n                        {\r\n                            name: todayDate,\r\n                            type: \"text\",\r\n                        },\r\n                    ]);\r\n                    page = page[0];\r\n                }\r\n                const currentContent = page.text.content ?? \"\";\r\n                page.update({\r\n                    \"text.content\": `${currentContent} <h3>${nowTime}:</h3><p>${noteText}</p>`,\r\n                });\r\n                ui.notifications.info(game.i18n.localize(`${MODULE_ID}.notifications.note`));\r\n            },\r\n        }),\r\n        //roll\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.roll.name`),\r\n            description: (search) => {\r\n                const rollText = search.query.replace(/(roll|!roll|roll:|!r|r:|r )/i, \"\").trim();\r\n                return rollText;\r\n            },\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-dice-d20\",\r\n            match: (query) => {\r\n                return ROLL_MATCHING.some((keyword) => query.startsWith(keyword));\r\n            },\r\n            onClick: async function (search) {\r\n                new Roll(this.description).toMessage();\r\n            },\r\n        }),\r\n        //help\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.help.name`),\r\n            description: (search) => {\r\n                const listElements = game.i18n.translations[\"spotlight-omnisearch\"].special.help.list;\r\n                const baseDescription = `<ul>${listElements.map((element) => `<li style=\"pointer-events:none\">${element}</li>`).join(\"\")}</ul>`;\r\n                const filterSpans = FILTERS.map((filter) => `<span class=\"filter\" data-filter=\"${filter}\">${filter}</span>`).join(\"\");\r\n                return `${baseDescription} <div class=\"filters-help\">${filterSpans}</div>`;\r\n            },\r\n            type: \"special-app help\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-question\",\r\n            match: (query) => {\r\n                return query.includes(\"help\") || query.startsWith(\"?\");\r\n            },\r\n            onClick: async function (search) {},\r\n        }),\r\n        //timer\r\n        new BaseSearchTerm({\r\n            name: () => {\r\n                let label = game.i18n.localize(`${MODULE_ID}.special.timer.name`);\r\n                const current = getSetting(\"appData\").timer;\r\n                if (current) {\r\n                    const remaining = current - Date.now();\r\n                    if (remaining > 0) {\r\n                        const hours = Math.floor(remaining / 3600000);\r\n                        const minutes = Math.floor((remaining % 3600000) / 60000);\r\n                        let seconds = Math.floor((remaining % 60000) / 1000);\r\n                        if (seconds < 10) seconds = `0${seconds}`;\r\n                        label += `<hr><strong style=\"font-size: larger;\">${hours ? `${hours}:` : \"\"}${minutes ? `${minutes}:` : \"\"}${seconds ? `${seconds}` : \"\"}</strong>`;\r\n                    }\r\n                } else {\r\n                    if (current !== undefined && game.user.isGM) {\r\n                        const setting = getSetting(\"appData\");\r\n                        delete setting.timer;\r\n                        setSetting(\"appData\", setting);\r\n                    }\r\n                }\r\n                return label;\r\n            },\r\n            description: (search) => {\r\n                const noteText = search.query.replace(/(timer|timer:|time|time:|t:|t )/i, \"\").trim();\r\n                const { hours, minutes, seconds } = parseTime(noteText);\r\n                const textOutput = `${hours ? `${hours}h ` : \"\"}${minutes ? `${minutes}m ` : \"\"}${seconds ? `${seconds}s` : \"\"}`;\r\n                return textOutput;\r\n            },\r\n            type: \"special-app timer\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-stopwatch\",\r\n            match: (query) => {\r\n                return TIMER_MATCHING.some((keyword) => query.startsWith(keyword));\r\n            },\r\n            onClick: async function (search) {\r\n                if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.timer-gm`));\r\n                const noteText = this.query.replace(/(timer|timer:|time|time:|t:|t )/i, \"\").trim();\r\n                const { hours, minutes, seconds } = parseTime(noteText);\r\n                const totalSeconds = hours * 3600 + minutes * 60 + seconds;\r\n                if (totalSeconds <= 0) return;\r\n                const startTimestamp = Date.now();\r\n                const endTimestamp = startTimestamp + totalSeconds * 1000;\r\n                const setting = getSetting(\"appData\");\r\n                setting.timer = endTimestamp;\r\n                await setSetting(\"appData\", setting);\r\n                ui.spotlightOmnisearch?._onSearch();\r\n            },\r\n        }),\r\n        //success fail tracker\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.tracker.name`),\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-check-circle\",\r\n            match: (query) => {\r\n                return TRACKER_MATCHING.some((keyword) => query.startsWith(keyword));\r\n            },\r\n            onClick: async function (search) {},\r\n            activateListeners: function (html) {\r\n                const successDotsCount = 7;\r\n                const failDotsCount = 7;\r\n                const setting = getSetting(\"appData\");\r\n                if (!setting.tracker) setting.tracker = { success: 2, fail: 3 };\r\n                let checkedSuccessDotsCount = setting.tracker.success;\r\n                let checkedFailDotsCount = setting.tracker.fail;\r\n                const container = document.createElement(\"div\");\r\n                container.classList.add(\"tracker-container\");\r\n                //create success dots then fail dots separated by a  /\r\n                const successEls = [];\r\n                for (let i = 0; i < successDotsCount; i++) {\r\n                    const dot = document.createElement(\"div\");\r\n                    dot.classList.add(\"tracker-dot\", \"success\");\r\n                    if (i < checkedSuccessDotsCount) dot.classList.add(\"checked\");\r\n                    successEls.push(dot);\r\n                    dot.addEventListener(\"click\", async () => {\r\n                        if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.tracker-gm`));\r\n                        const isChecked = dot.classList.contains(\"checked\");\r\n                        if (isChecked && i === checkedSuccessDotsCount - 1) {\r\n                            dot.classList.remove(\"checked\");\r\n                            setting.tracker.success--;\r\n                            checkedSuccessDotsCount--;\r\n                        } else {\r\n                            //set all dots to unchecked\r\n                            successEls.forEach((el) => el.classList.remove(\"checked\"));\r\n                            for (let j = 0; j <= i; j++) {\r\n                                successEls[j].classList.add(\"checked\");\r\n                            }\r\n                            setting.tracker.success = i + 1;\r\n                            checkedSuccessDotsCount = i + 1;\r\n                        }\r\n                        await setSetting(\"appData\", setting);\r\n                    });\r\n                }\r\n                successEls.reverse().forEach((el) => container.appendChild(el));\r\n                successEls.reverse();\r\n                const slash = document.createElement(\"div\");\r\n                slash.classList.add(\"tracker-slash\");\r\n                slash.innerHTML = `<i class=\"fa-sharp fa-solid fa-slash-forward\"></i>`;\r\n                container.appendChild(slash);\r\n                const failEls = [];\r\n                for (let i = 0; i < failDotsCount; i++) {\r\n                    const dot = document.createElement(\"div\");\r\n                    dot.classList.add(\"tracker-dot\", \"fail\");\r\n                    if (i < checkedFailDotsCount) dot.classList.add(\"checked\");\r\n                    container.appendChild(dot);\r\n                    failEls.push(dot);\r\n                    dot.addEventListener(\"click\", async () => {\r\n                        if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.tracker-gm`));\r\n                        const isChecked = dot.classList.contains(\"checked\");\r\n                        if (isChecked && i === checkedFailDotsCount - 1) {\r\n                            dot.classList.remove(\"checked\");\r\n                            setting.tracker.fail--;\r\n                            checkedFailDotsCount--;\r\n                        } else {\r\n                            //set all dots to unchecked\r\n                            failEls.forEach((el) => el.classList.remove(\"checked\"));\r\n                            for (let j = 0; j <= i; j++) {\r\n                                failEls[j].classList.add(\"checked\");\r\n                            }\r\n                            setting.tracker.fail = i + 1;\r\n                            checkedFailDotsCount = i + 1;\r\n                        }\r\n                        await setSetting(\"appData\", setting);\r\n                    });\r\n                }\r\n                html.querySelector(\".search-info\").appendChild(container);\r\n            },\r\n        }),\r\n        //counter\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.counter.name`),\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-plus-circle\",\r\n            match: (query) => {\r\n                return COUNTER_MATCHING.some((keyword) => query.startsWith(keyword));\r\n            },\r\n            onClick: async function (search) {},\r\n            activateListeners: function (html) {\r\n                const setting = getSetting(\"appData\");\r\n                if (!setting.counter) {\r\n                    setting.counter = [0, 0, 0, 0];\r\n                    setSetting(\"appData\", setting);\r\n                }\r\n                const counterEls = [];\r\n                const container = document.createElement(\"div\");\r\n                container.classList.add(\"counter-container\");\r\n                for (let i = 0; i < 4; i++) {\r\n                    const counter = document.createElement(\"input\");\r\n                    counter.type = \"number\";\r\n                    counter.value = setting.counter[i] || 0;\r\n                    const counterContainer = document.createElement(\"div\");\r\n                    counterContainer.classList.add(\"counter-input-container\");\r\n                    counterContainer.appendChild(counter);\r\n                    const upDownContainer = document.createElement(\"div\");\r\n                    upDownContainer.classList.add(\"up-down-container\");\r\n                    const up = document.createElement(\"i\");\r\n                    up.classList.add(\"fas\", \"fa-chevron-up\");\r\n                    up.addEventListener(\"click\", async () => {\r\n                        if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.counter-gm`));\r\n                        counter.value = parseInt(counter.value) + 1;\r\n                        setting.counter[i] = counter.value;\r\n                        await setSetting(\"appData\", setting);\r\n                    });\r\n                    upDownContainer.appendChild(up);\r\n                    const down = document.createElement(\"i\");\r\n                    down.classList.add(\"fas\", \"fa-chevron-down\");\r\n                    down.addEventListener(\"click\", async () => {\r\n                        if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.counter-gm`));\r\n                        counter.value = parseInt(counter.value) - 1;\r\n                        setting.counter[i] = counter.value;\r\n                        await setSetting(\"appData\", setting);\r\n                    });\r\n                    upDownContainer.appendChild(down);\r\n                    counterContainer.appendChild(upDownContainer);\r\n                    counterEls.push(counterContainer);\r\n                    counter.addEventListener(\"keyup\", async () => {\r\n                        if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.counter-gm`));\r\n                        const currentSetting = getSetting(\"appData\");\r\n                        currentSetting.counter = currentSetting.counter ?? [0, 0, 0, 0];\r\n                        currentSetting.counter[i] = parseInt(counter.value);\r\n                        LAST_COUNTER_FOCUS = i;\r\n                        await setSetting(\"appData\", setting);\r\n                    });\r\n                }\r\n                counterEls.forEach((el) => container.appendChild(el));\r\n                html.querySelector(\".search-info\").appendChild(container);\r\n            },\r\n        }),\r\n        //attribute\r\n        new BaseSearchTerm({\r\n            name: (search) => {\r\n                const attribute = search.query.replace(/(attr:|@)/i, \"\").trim();\r\n                return game.i18n.localize(`${MODULE_ID}.special.attribute.name`) + \": \" + attribute;\r\n            },\r\n            description: (search) => {\r\n                const query = search.query.replace(/(attr:|@)/i, \"\").trim();\r\n                const actors = Array.from(\r\n                    new Set(\r\n                        game.users\r\n                            .map((user) => user.character)\r\n                            .concat(canvas.tokens.controlled.map((token) => token.actor))\r\n                            .filter((actor) => actor && actor.isOwner),\r\n                    ),\r\n                ).sort((a, b) => a.name.localeCompare(b.name));\r\n                const container = document.createElement(\"div\");\r\n                const ul = document.createElement(\"ul\");\r\n                container.appendChild(ul);\r\n                actors.forEach((actor) => {\r\n                    const li = document.createElement(\"li\");\r\n                    let value = query ? foundry.utils.getProperty(actor.system, query) : foundry.utils.getProperty(actor, \"system\");\r\n                    if (value === undefined) {\r\n                        //first remove the last part of the object path\r\n                        const queryWithoutLastPart = query.split(\".\").slice(0, -1).join(\".\");\r\n                        value = queryWithoutLastPart ? foundry.utils.getProperty(actor.system, queryWithoutLastPart) ?? \"?\" : foundry.utils.getProperty(actor, \"system\");\r\n                    }\r\n                    if (typeof value === \"object\") {\r\n                        value = Object.keys(value)\r\n                            .map((key) => `<strong>${key}</strong>`)\r\n                            .join(\", \");\r\n                    } else {\r\n                        value = `<strong>${value}</strong>`;\r\n                    }\r\n                    li.innerHTML = `<div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 5px;width: 100%\"><span>${actor.name}</span><span>${value}</span></div>`;\r\n                    ul.appendChild(li);\r\n                });\r\n                return container.innerHTML;\r\n            },\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-brackets-curly\",\r\n            match: (query) => {\r\n                return query.startsWith(\"attr:\") || query.startsWith(\"@\");\r\n            },\r\n            onClick: async function (search) {},\r\n        }),\r\n    );\r\n\r\n    function parseTime(input) {\r\n        let hours = 0,\r\n            minutes = 0,\r\n            seconds = 0;\r\n\r\n        // Regular expressions to match different time formats\r\n        const hourMinSecRegex = /(\\d+)[\\s:]+(\\d+)[\\s:]+(\\d+)/;\r\n        const minSecRegex = /(\\d+)[\\s:]+(\\d+)/;\r\n        const minutesRegex = /(\\d+)\\s*m/;\r\n        const secondsRegex = /(\\d+)\\s*s/;\r\n\r\n        // Check each regex pattern against the input\r\n        if (hourMinSecRegex.test(input)) {\r\n            const match = input.match(hourMinSecRegex);\r\n            hours = parseInt(match[1]);\r\n            minutes = parseInt(match[2]);\r\n            seconds = parseInt(match[3]);\r\n        } else if (minSecRegex.test(input)) {\r\n            const match = input.match(minSecRegex);\r\n            minutes = parseInt(match[1]);\r\n            seconds = parseInt(match[2]);\r\n        } else if (minutesRegex.test(input)) {\r\n            const match = input.match(minutesRegex);\r\n            minutes = parseInt(match[1]);\r\n        } else if (secondsRegex.test(input)) {\r\n            const match = input.match(secondsRegex);\r\n            seconds = parseInt(match[1]);\r\n        } else {\r\n            const int = parseInt(input);\r\n            if (!isNaN(int)) {\r\n                seconds = int;\r\n            }\r\n            return { hours, minutes, seconds };\r\n        }\r\n\r\n        return { hours, minutes, seconds };\r\n    }\r\n\r\n    const useMetricForLights = getSetting(\"useMetricForLights\");\r\n    const conversionRatio = useMetricForLights ? 0.3048 : 1;\r\n\r\n    const lightEffects = [\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.torch`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/sundries/lights/torch-black.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 360,\r\n                            bright: 20 * conversionRatio,\r\n                            coloration: 1,\r\n                            dim: 40 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 5,\r\n                                intensity: 5,\r\n                                reverse: false,\r\n                                type: \"torch\",\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#fea50b\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n        //candle\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.candle`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/sundries/lights/candle-lit-yellow.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 360,\r\n                            bright: 5 * conversionRatio,\r\n                            coloration: 1,\r\n                            dim: 10 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 5,\r\n                                intensity: 5,\r\n                                reverse: false,\r\n                                type: \"torch\",\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#fea50b\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n        //lantern\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.lantern`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/sundries/lights/lantern-iron-yellow.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 360,\r\n                            bright: 30 * conversionRatio,\r\n                            coloration: 1,\r\n                            dim: 60 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 5,\r\n                                intensity: 5,\r\n                                reverse: false,\r\n                                type: \"torch\",\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#fea50b\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n        //lantern shut\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.lantern-shut`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/sundries/lights/lantern-steel.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 360,\r\n                            bright: 0,\r\n                            coloration: 1,\r\n                            dim: 5 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 5,\r\n                                intensity: 5,\r\n                                reverse: false,\r\n                                type: \"torch\",\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#fea50b\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n        //magical\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.magical`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/magic/light/explosion-star-glow-blue.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 360,\r\n                            bright: 20 * conversionRatio,\r\n                            coloration: 1,\r\n                            dim: 20 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 2,\r\n                                intensity: 5,\r\n                                reverse: false,\r\n                                type: \"torch\",\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#b3f0ff\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n        //flashlight\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.flashlight`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/magic/light/orb-lightbulb-gray.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 90,\r\n                            bright: 20 * conversionRatio,\r\n                            coloration: 1,\r\n                            dim: 20 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 2,\r\n                                intensity: 2,\r\n                                reverse: false,\r\n                                type: null,\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#ffffff\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n\r\n        //off\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.off`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/svg/light-off.svg\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            bright: 0,\r\n                            dim: 0,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n    ];\r\n\r\n    SPECIAL_SEARCHES.push(...lightEffects);\r\n\r\n    //scene darkness action\r\n\r\n    SPECIAL_SEARCHES.push(\r\n        new BaseSearchTerm({\r\n            name: game.i18n.localize(`SCENE.FIELDS.environment.darknessLevel.label`),\r\n            description: \"\",\r\n            keywords: [],\r\n            actions: [\r\n                {\r\n                    name: game.i18n.localize(`${MODULE_ID}.special.darkness.night`),\r\n                    icon: `<i class=\"fas fa-moon\"></i>`,\r\n                    callback: async function () {\r\n                        canvas.scene.update({ darkness: 1 }, { animateDarkness: 10000 });\r\n                    },\r\n                },\r\n                //dawn\r\n                {\r\n                    name: game.i18n.localize(`${MODULE_ID}.special.darkness.dawn`),\r\n                    icon: `<i class=\"fas fa-sunrise\"></i>`,\r\n                    callback: async function () {\r\n                        canvas.scene.update({ darkness: 0.3 }, { animateDarkness: 10000 });\r\n                    },\r\n                },\r\n                //day\r\n                {\r\n                    name: game.i18n.localize(`${MODULE_ID}.special.darkness.day`),\r\n                    icon: `<i class=\"fas fa-sun\"></i>`,\r\n                    callback: async function () {\r\n                        canvas.scene.update({ darkness: 0 }, { animateDarkness: 10000 });\r\n                    },\r\n                },\r\n                //dusk\r\n                {\r\n                    name: game.i18n.localize(`${MODULE_ID}.special.darkness.dusk`),\r\n                    icon: `<i class=\"fas fa-sunset\"></i>`,\r\n                    callback: async function () {\r\n                        canvas.scene.update({ darkness: 0.7 }, { animateDarkness: 10000 });\r\n                    },\r\n                },\r\n            ],\r\n            type: game.i18n.localize(`SCENES.Darkness`),\r\n            data: {},\r\n            img: null,\r\n            icon: [\"fas fa-moon-over-sun\"],\r\n            onClick: async function () {},\r\n        }),\r\n    );\r\n\r\n    if (game.modules.get(\"splatter\")?.active) {\r\n        const getSplatterData = (actor) => {\r\n            const maxHpPath = game.settings.get(\"splatter\", \"maxHp\");\r\n            const currentHpPath = game.settings.get(\"splatter\", \"currentHp\");\r\n            const isWoundSystem = game.settings.get(\"splatter\", \"useWounds\");\r\n            const currentHPValue = foundry.utils.getProperty(actor.system, currentHpPath);\r\n            const maxHPValue = foundry.utils.getProperty(actor.system, maxHpPath);\r\n            const finalPath = `system.${currentHpPath}`;\r\n\r\n            return {\r\n                heal: (amount) => {\r\n                    const newHp = isWoundSystem ? currentHPValue - amount : currentHPValue + amount;\r\n                    actor.update({ [finalPath]: newHp });\r\n                },\r\n                damage: (amount) => {\r\n                    const newHp = isWoundSystem ? currentHPValue + amount : currentHPValue - amount;\r\n                    actor.update({ [finalPath]: newHp });\r\n                },\r\n                kill: () => {\r\n                    isWoundSystem ? actor.update({ [finalPath]: maxHPValue }) : actor.update({ [finalPath]: 0 });\r\n                },\r\n                restore: () => {\r\n                    isWoundSystem ? actor.update({ [finalPath]: 0 }) : actor.update({ [finalPath]: maxHPValue });\r\n                },\r\n            };\r\n        };\r\n\r\n        //add the kill, restore, damage and heal terms\r\n\r\n        SPECIAL_SEARCHES.push(\r\n            //kill\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(`${MODULE_ID}.special.kill.name`),\r\n                description: game.i18n.localize(`${MODULE_ID}.special.kill.description`),\r\n                keywords: [],\r\n                type: \"special-app\",\r\n                data: {},\r\n                img: null,\r\n                icon: [\"fas fa-skull-crossbones\"],\r\n                onClick: async function () {\r\n                    const actors = canvas.tokens.controlled.map((t) => t.actor);\r\n                    actors.forEach((actor) => {\r\n                        const splatterData = getSplatterData(actor);\r\n                        splatterData.kill();\r\n                    });\r\n                },\r\n            }),\r\n            //restore\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(`${MODULE_ID}.special.restore.name`),\r\n                description: game.i18n.localize(`${MODULE_ID}.special.restore.description`),\r\n                keywords: [],\r\n                type: \"special-app\",\r\n                data: {},\r\n                img: null,\r\n                icon: [\"fas fa-heart\"],\r\n                onClick: async function () {\r\n                    const actors = canvas.tokens.controlled.map((t) => t.actor);\r\n                    actors.forEach((actor) => {\r\n                        const splatterData = getSplatterData(actor);\r\n                        splatterData.restore();\r\n                    });\r\n                },\r\n            }),\r\n            //damage\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(`${MODULE_ID}.special.damage.name`),\r\n                description: (search) => {\r\n                    let query = search.query;\r\n                    const numericPartWithSign = query.match(/-?\\d+/);\r\n                    const damageValue = numericPartWithSign ? parseInt(numericPartWithSign[0]) : 0;\r\n                    return damageValue;\r\n                },\r\n                keywords: [],\r\n                type: \"special-app\",\r\n                data: {},\r\n                img: null,\r\n                icon: [\"fas fa-sword\"],\r\n                match: function (query) {\r\n                    //remove numbers from the query\r\n                    query = query.replace(/-?\\d+/g, \"\").trim();\r\n                    return this.name.toLowerCase().includes(query);\r\n                },\r\n                onClick: async function (event, search) {\r\n                    const actors = canvas.tokens.controlled.map((t) => t.actor);\r\n                    const val = parseInt(search.query.match(/-?\\d+/)?.[0] ?? 0);\r\n                    actors.forEach((actor) => {\r\n                        const splatterData = getSplatterData(actor);\r\n                        splatterData.damage(val);\r\n                    });\r\n                },\r\n            }),\r\n            //heal\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(`${MODULE_ID}.special.heal.name`),\r\n                description: (search) => {\r\n                    let query = search.query;\r\n                    const numericPartWithSign = query.match(/-?\\d+/);\r\n                    const healValue = numericPartWithSign ? parseInt(numericPartWithSign[0]) : 0;\r\n                    return healValue;\r\n                },\r\n                keywords: [],\r\n                type: \"special-app\",\r\n                data: {},\r\n                img: null,\r\n                icon: [\"fas fa-plus\"],\r\n                match: function (query) {\r\n                    //remove numbers from the query\r\n                    query = query.replace(/-?\\d+/g, \"\").trim();\r\n                    return this.name.toLowerCase().includes(query);\r\n                },\r\n                onClick: async function (event, search) {\r\n                    const actors = canvas.tokens.controlled.map((t) => t.actor);\r\n                    const val = parseInt(search.query.match(/-?\\d+/)?.[0] ?? 0);\r\n                    actors.forEach((actor) => {\r\n                        const splatterData = getSplatterData(actor);\r\n                        splatterData.heal(val);\r\n                    });\r\n                },\r\n            }),\r\n        );\r\n    }\r\n\r\n    //add action for reindexing\r\n    SPECIAL_SEARCHES.push(\r\n        new BaseSearchTerm({\r\n            name: game.i18n.localize(`${MODULE_ID}.special.reindex.name`),\r\n            description: game.i18n.localize(`${MODULE_ID}.special.reindex.description`),\r\n            keywords: [],\r\n            type: game.i18n.localize(`${MODULE_ID}.special.reindex.name`),\r\n            data: {},\r\n            img: null,\r\n            icon: [\"fas fa-search\"],\r\n            onClick: async function () {\r\n                CONFIG.SpotlightOmniseach.rebuildIndex();\r\n            },\r\n        }),\r\n    );\r\n}\r\n","export class BaseSearchTerm {\r\n    /**\r\n     * Creates an instance of BaseSearchTerm.\r\n     * @constructor\r\n     * @param {Object} options - The options for creating the search term.\r\n     * @param {string|Function} options.name - The name or function returning the name of the search term. This will be used to match the search term against a query.\r\n     * @param {string|Function} [options.nameExtra=\"\"] - The additional name or function returning the additional name of the search term. This will be added to the name but will not be used to match the search term against a query.\r\n     * @param {string|Function} [options.description=\"\"] - The description or function returning the description of the search term.\r\n     * @param {Array<string>} [options.keywords=[]] - The array of keywords associated with the search term. This will be used to match the search term against a query.\r\n     * @param {Array<Function>} [options.actions=[]] - The array of actions associated with the search term.\r\n     * @param {*} options.dragData - The data associated with the drag action.\r\n     * @param {string} options.type - The type of the search term. This will be split by space and used to match !type filters.\r\n     * @param {Object} [options.data={}] - Additional data associated with the search term.\r\n     * @param {string} options.img - The image URL associated with the search term.\r\n     * @param {string|Array<string>} options.icon - The icon URL associated with the search term. If 2 icons are provided, they will be rendered on the right of the search term.\r\n     * @param {Function} [options.onClick=null] - The function to handle click events.\r\n     * @param {Function} [options.onDragStart=null] - The function to handle drag start events.\r\n     * @param {Function} [options.onDragEnd=null] - The function to handle drag end events.\r\n     * @param {Function} [options.match=null] - The function to match the search term against a query. If not provided, the name and keywords will be used to match the search term against a query.\r\n     * @param {Function} [options.activateListeners=null] - The function to activate listeners for the search term.\r\n     */\r\n\r\n    constructor({ name, nameExtra = \"\", description = \"\", keywords = [], actions = [], dragData, type, data = {}, img, icon, onClick = null, onDragStart = null, onDragEnd = null, match = null, activateListeners = null }) {\r\n        this._name = typeof name === \"function\" ? name.bind(this) : () => name;\r\n        this._description = typeof description === \"function\" ? description.bind(this) : () => description;\r\n        this._actions = typeof actions === \"function\" ? actions.bind(this) : () => actions;\r\n        this.dragData = dragData;\r\n        this.keywords = keywords.map((keyword) => keyword.toLowerCase());\r\n        this.type = type;\r\n        this.data = data;\r\n        this.img = img;\r\n        this.icon = icon;\r\n        this._nameExtra = typeof nameExtra === \"function\" ? nameExtra.bind(this) : () => nameExtra;\r\n        if (activateListeners) this.activateListeners = activateListeners.bind(this);\r\n        if (onClick) this._onClick = onClick.bind(this);\r\n        if (onDragEnd) this._onDragEnd = onDragEnd.bind(this);\r\n        if (onDragStart) this._onDragStart = onDragStart.bind(this);\r\n        if (match) this.match = match.bind(this);\r\n    }\r\n\r\n    onClick(...args) {\r\n        if (this._onClick) {\r\n            this._onClick(...args);\r\n        }\r\n    }\r\n\r\n    onDragStart(...args) {\r\n        if (this._onDragStart) {\r\n            this._onDragStart(...args);\r\n        }\r\n    }\r\n\r\n    onDragEnd(...args) {\r\n        if (this._onDragEnd) {\r\n            this._onDragEnd(...args);\r\n        }\r\n    }\r\n\r\n    match(query) {\r\n        try {\r\n            const cleanQuery = foundry.applications.ux.SearchFilter.cleanQuery(this.name);\r\n            return cleanQuery.toLowerCase().includes(query) || this.keywords.some((keyword) => keyword.includes(query));\r\n        } catch (error) {\r\n            console.error(`Error matching search term:`, this);\r\n            console.error(error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    get name() {\r\n        return this._name(this);\r\n    }\r\n\r\n    get nameExtra() {\r\n        return this._nameExtra(this);\r\n    }\r\n\r\n    get description() {\r\n        return this._description(this);\r\n    }\r\n\r\n    get actions() {\r\n        return this._actions(this);\r\n    }\r\n}\r\n","import { MODULE_ID } from \"../main\";\r\nimport { getSetting } from \"../settings\";\r\nimport { BaseSearchTerm } from \"./baseSearchTerm\";\r\nimport { initSpecialSearches } from \"./special\";\r\n\r\nconst IMAGE = Object.keys(CONST.IMAGE_FILE_EXTENSIONS);\r\nconst AUDIO = Object.keys(CONST.AUDIO_FILE_EXTENSIONS);\r\nconst VIDEO = Object.keys(CONST.VIDEO_FILE_EXTENSIONS);\r\n\r\nexport const INDEX = [];\r\nexport const FILTERS = [];\r\n\r\nexport let FILE_INDEX = [];\r\n\r\nlet indexBuilt = false;\r\n\r\nexport async function buildIndex(force = false) {\r\n    if (force) {\r\n        indexBuilt = false;\r\n        INDEX.length = 0;\r\n        FILTERS.length = 0;\r\n        FILE_INDEX.length = 0;\r\n    }\r\n    if (indexBuilt) return;\r\n    indexBuilt = true;\r\n\r\n    if (ui.spotlightOmnisearch?._html) {\r\n        const faSearch = ui.spotlightOmnisearch._html.querySelector(\".fa-search\");\r\n        if (faSearch) {\r\n            faSearch.classList.add(\"fa-spin\");\r\n            faSearch.classList.remove(\"fa-search\");\r\n            faSearch.classList.add(\"fa-spinner\");\r\n        }\r\n    }\r\n\r\n    await initSpecialSearches();\r\n    await buildModuleIntegration();\r\n    await buildWeatherEffects();\r\n    if (getSetting(\"searchSettings\")) await buildSettings();\r\n    if (getSetting(\"searchUtils\")) await buildSettingsTab();\r\n    if (getSetting(\"searchSidebar\")) await buildCollections();\r\n    await buildStatusEffects();\r\n    if (getSetting(\"searchCompendium\")) await buildCompendiumIndex();\r\n    if (getSetting(\"searchFiles\")) await buildFiles();\r\n\r\n    const promises = [];\r\n    Hooks.callAll(\"spotlightOmnisearch.indexBuilt\", INDEX, promises);\r\n    await Promise.all(promises);\r\n\r\n    const filters = new Set();\r\n\r\n    INDEX.forEach((term) => {\r\n        filters.add(term.type);\r\n    });\r\n\r\n    let filtersArray = [\"mp3\", \"ogg\", \"webm\", \"webp\", \"png\", \"jpg\", \"jpeg\"];\r\n    Array.from(filters).forEach((filter) => {\r\n        filtersArray.push(...filter.split(\" \").map((f) => f.toLowerCase()));\r\n    });\r\n    filtersArray.sort((a, b) => a.localeCompare(b));\r\n    //remove duplicates\r\n    filtersArray = Array.from(new Set(filtersArray));\r\n    FILTERS.push(...filtersArray);\r\n\r\n    if (ui.spotlightOmnisearch?.rendered) {\r\n        const faSpinner = ui.spotlightOmnisearch._html.querySelector(\".fa-spinner\");\r\n        if (faSpinner) {\r\n            faSpinner.classList.remove(\"fa-spin\");\r\n            faSpinner.classList.remove(\"fa-spinner\");\r\n            faSpinner.classList.add(\"fa-search\");\r\n        }\r\n    }\r\n\r\n    return INDEX;\r\n}\r\n\r\nfunction createDocumentTypeTypeString(documentName, documentType) {\r\n    if (!documentType) return \"\";\r\n    const capitalizedType = documentType.capitalize();\r\n    const validLocStrings = [`${documentName.toUpperCase()}.Type${capitalizedType}`, `TYPES.${documentName}.${documentType}`];\r\n    for (const str of validLocStrings) {\r\n        const loc = game.i18n.localize(str);\r\n        if (str !== loc) return loc;\r\n    }\r\n    return capitalizedType;\r\n}\r\n\r\nasync function buildCompendiumIndex() {\r\n    const allowedCompendiums = getSetting(\"compendiumConfig\");\r\n    const packs = Array.from(game.packs).filter((p) => (game.user.isGM || !p.private) && allowedCompendiums[p.metadata.id] !== false);\r\n    const pageLocalized = game.i18n.localize(\"DOCUMENT.JournalEntryPage\");\r\n    const fullCompendiumJournalIndex = getSetting(\"fullCompendiumJournalIndex\");\r\n    const index = [];\r\n    await Promise.all(packs.map((p) => p.getIndex()));\r\n    const localizedCompendiumName = game.i18n.localize(\"PACKAGE.TagCompendium\");\r\n    for (const pack of packs) {\r\n        const packPackageName = (pack.metadata.packageType === \"system\" ? game.system.title : game.modules.get(pack.metadata.packageName)?.title) ?? game.i18n.localize(\"PACKAGE.Type.world\");\r\n        const packIndex = Array.from(await pack.getIndex());\r\n        const localizedDocumentName = game.i18n.localize(`DOCUMENT.${pack.documentName}`);\r\n\r\n        index.push(\r\n            new BaseSearchTerm({\r\n                name: pack.title,\r\n                description: packPackageName,\r\n                img: pack.banner,\r\n                keywords: [],\r\n                type: localizedCompendiumName,\r\n                data: { ...pack.metadata },\r\n                icon: [CONFIG[pack.documentName].sidebarIcon, \"fas fa-atlas\"],\r\n                onClick: async function () {\r\n                    pack.render(true);\r\n                },\r\n            }),\r\n        );\r\n\r\n        for (const entry of packIndex) {\r\n            if (pack.documentName === \"JournalEntry\" && fullCompendiumJournalIndex) {\r\n                const document = await pack.getDocument(entry._id);\r\n                const actions = [];\r\n                document.pages.forEach((page) => {\r\n                    actions.push({\r\n                        name: page.name,\r\n                        icon: `<i class=\"fa-solid fa-file-lines\"></i>`,\r\n                        callback: async function () {\r\n                            const entity = await fromUuid(document.uuid);\r\n                            entity.sheet.render(true, { pageId: page.id, anchor: null });\r\n                        },\r\n                    });\r\n\r\n                    const pageActions = [];\r\n                    const tocKeywords = [];\r\n\r\n                    if (page.type === \"image\")\r\n                        pageActions.push({\r\n                            name: game.i18n.localize(\"JOURNAL.ActionShow\"),\r\n                            icon: `<i class=\"fa-solid fa-image\"></i>`,\r\n                            callback: async function () {\r\n                                new ImagePopout(page.src, {}).render(true);\r\n                            },\r\n                        });\r\n\r\n                    Object.values(page.toc).forEach((toc) => {\r\n                        tocKeywords.push(toc.text.toLowerCase());\r\n                        pageActions.push({\r\n                            name: toc.text,\r\n                            icon: `<i class=\"fa-solid fa-hashtag\"></i>`,\r\n                            callback: async function () {\r\n                                if (ui.simpleQuest && ui.simpleQuest.isSimpleQuestPage(page.uuid)) return ui.simpleQuest.openToPage(page.uuid, toc.slug);\r\n                                const entity = await fromUuid(document.uuid);\r\n                                entity.sheet.render(true, { pageId: page.id, anchor: toc.slug });\r\n                            },\r\n                        });\r\n                    });\r\n\r\n                    index.push(\r\n                        new BaseSearchTerm({\r\n                            name: page.name + ` (${document.name})`,\r\n                            actions: pageActions,\r\n                            keywords: tocKeywords,\r\n                            description: packPackageName,\r\n                            type: pageLocalized,\r\n                            data: { ...page, documentName: page.documentName, uuid: page.uuid },\r\n                            img: page.img,\r\n                            icon: [\"fas fa-atlas\", \"fas fa-file-lines\"],\r\n                            onClick: async function () {\r\n                                if (ui.simpleQuest && ui.simpleQuest.isSimpleQuestPage(page.uuid)) return ui.simpleQuest.openToPage(page.uuid);\r\n                                const entity = await fromUuid(document.uuid);\r\n                                entity.sheet.render(true, { pageId: page.id, anchor: null });\r\n                            },\r\n                        }),\r\n                    );\r\n                });\r\n\r\n                index.push(\r\n                    new BaseSearchTerm({\r\n                        name: entry.name,\r\n                        description: pack.title + \" - \" + packPackageName,\r\n                        keywords: [pack.title],\r\n                        actions: actions,\r\n                        type: localizedDocumentName + \" \" + localizedCompendiumName + createDocumentTypeTypeString(pack.documentName, entry.type),\r\n                        data: { ...entry, documentName: pack.documentName },\r\n                        img: entry.img,\r\n                        icon: [\"fas fa-atlas\", CONFIG[pack.documentName].sidebarIcon],\r\n                        onClick: async function () {\r\n                            const entity = await fromUuid(entry.uuid);\r\n                            entity.sheet.render(true);\r\n                        },\r\n                    }),\r\n                );\r\n            } else {\r\n                index.push(\r\n                    new BaseSearchTerm({\r\n                        name: entry.name,\r\n                        description: pack.title + \" - \" + packPackageName,\r\n                        keywords: [pack.title],\r\n                        type: localizedDocumentName + \" \" + localizedCompendiumName + createDocumentTypeTypeString(pack.documentName, entry.type),\r\n                        data: { ...entry, documentName: pack.documentName },\r\n                        img: entry.img,\r\n                        icon: [\"fas fa-atlas\", CONFIG[pack.documentName].sidebarIcon],\r\n                        onClick: async function () {\r\n                            const entity = await fromUuid(entry.uuid);\r\n                            entity.sheet.render(true);\r\n                        },\r\n                    }),\r\n                );\r\n            }\r\n        }\r\n    }\r\n    //sort index by type\r\n    index.sort((a, b) => a.type.localeCompare(b.type));\r\n    INDEX.push(...index);\r\n}\r\n\r\nasync function buildCollections() {\r\n    const collections = Array.from(game.collections);\r\n\r\n    const index = [];\r\n\r\n    const exclude = [\"Combat\", \"Setting\", \"FogExploration\", \"ChatMessage\", \"Folder\"];\r\n\r\n    const pageLocalized = game.i18n.localize(\"DOCUMENT.JournalEntryPage\");\r\n\r\n    const playerLocalized = game.i18n.localize(\"PLAYERS.Title\");\r\n\r\n    for (const collection of collections) {\r\n        const localizedCollectionName = game.i18n.localize(`DOCUMENT.${collection.documentName}`);\r\n        if (exclude.includes(collection.documentName)) continue;\r\n        const documents = Array.from(collection);\r\n        documents.forEach((document) => {\r\n            if (!document.testUserPermission(game.user, CONST.DOCUMENT_OWNERSHIP_LEVELS.OBSERVER)) return;\r\n            const keywords = [];\r\n            let description = \"\";\r\n            let extraType = \"\";\r\n            if (document.folder) description = \"<i style='display: inline; opacity: 0.3;' class='fas fa-folder'></i> \" + getFoldersRecursive(document).join(\" / \");\r\n            const actions = [];\r\n            if (collection.documentName === \"JournalEntry\") {\r\n                document.pages.forEach((page) => {\r\n                    if (!page.testUserPermission(game.user, CONST.DOCUMENT_OWNERSHIP_LEVELS.OBSERVER)) return;\r\n                    actions.push({\r\n                        name: page.name,\r\n                        icon: `<i class=\"fa-solid fa-file-lines\"></i>`,\r\n                        callback: async function () {\r\n                            const entity = await fromUuid(document.uuid);\r\n                            entity.sheet.render(true, { pageId: page.id, anchor: null });\r\n                        },\r\n                    });\r\n\r\n                    const pageActions = [];\r\n                    const tocKeywords = [];\r\n\r\n                    if (page.type === \"image\")\r\n                        pageActions.push({\r\n                            name: game.i18n.localize(\"JOURNAL.ActionShow\"),\r\n                            icon: `<i class=\"fa-solid fa-image\"></i>`,\r\n                            callback: async function () {\r\n                                new ImagePopout(page.src, {}).render(true);\r\n                            },\r\n                        });\r\n\r\n                    Object.values(page.toc).forEach((toc) => {\r\n                        tocKeywords.push(toc.text.toLowerCase());\r\n                        pageActions.push({\r\n                            name: toc.text,\r\n                            icon: `<i class=\"fa-solid fa-hashtag\"></i>`,\r\n                            callback: async function () {\r\n                                if (ui.simpleQuest && ui.simpleQuest.isSimpleQuestPage(page.uuid)) return ui.simpleQuest.openToPage(page.uuid, toc.slug);\r\n                                const entity = await fromUuid(document.uuid);\r\n                                entity.sheet.render(true, { pageId: page.id, anchor: toc.slug });\r\n                            },\r\n                        });\r\n                    });\r\n\r\n                    index.push(\r\n                        new BaseSearchTerm({\r\n                            name: page.name + ` (${document.name})`,\r\n                            actions: pageActions,\r\n                            keywords: tocKeywords,\r\n                            description: description,\r\n                            type: pageLocalized,\r\n                            data: { ...page, documentName: page.documentName, uuid: page.uuid },\r\n                            img: page.img,\r\n                            icon: [\"fas fa-earth-europe\", \"fas fa-file-lines\"],\r\n                            onClick: async function () {\r\n                                if (ui.simpleQuest && ui.simpleQuest.isSimpleQuestPage(page.uuid)) return ui.simpleQuest.openToPage(page.uuid);\r\n                                const entity = await fromUuid(document.uuid);\r\n                                entity.sheet.render(true, { pageId: page.id, anchor: null });\r\n                            },\r\n                        }),\r\n                    );\r\n                });\r\n            }\r\n            if (collection.documentName === \"Actor\") {\r\n                const itemPileType = document.flags[\"item-piles\"]?.data?.type;\r\n                if (itemPileType) {\r\n                    keywords.push(itemPileType);\r\n                    extraType += ` ${itemPileType}`;\r\n                }\r\n                if (document.hasPlayerOwner) extraType += ` ${playerLocalized}`;\r\n            }\r\n            index.push(\r\n                new BaseSearchTerm({\r\n                    name: document.name ?? document.speaker?.alias ?? document.content,\r\n                    description: description,\r\n                    keywords: keywords,\r\n                    actions: actions,\r\n                    type: localizedCollectionName + extraType,\r\n                    data: { ...document, documentName: collection.documentName, uuid: document.uuid },\r\n                    img: document.img,\r\n                    icon: [\"fas fa-earth-europe\", CONFIG[collection.documentName].sidebarIcon],\r\n                    onClick: async function () {\r\n                        const entity = await fromUuid(document.uuid);\r\n                        entity.sheet.render(true);\r\n                    },\r\n                }),\r\n            );\r\n        });\r\n    }\r\n\r\n    //sort index by type\r\n    index.sort((a, b) => a.type.localeCompare(b.type));\r\n    INDEX.push(...index);\r\n}\r\n\r\nasync function buildSettings() {\r\n    const index = [];\r\n    const localizedSettingName = game.i18n.localize(\"DOCUMENT.Setting\");\r\n    const processSetting = (setting, isMenu = false) => {\r\n        isMenu = isMenu === true ? true : false;\r\n        if (!setting.name || (!setting.config && !isMenu) || setting.config === false) return;\r\n        if (!game.user.isGM && setting.scope === \"world\") return;\r\n        if (!game.user.isGM && setting.restricted) return;\r\n        let toggle = \"\";\r\n        if (setting.type === Boolean) {\r\n            toggle = () => {\r\n                const state = game.settings.get(setting.namespace, setting.key);\r\n                return `<i class=\"s-toggle-setting fad fa-toggle-${state ? \"on\" : \"off\"}\" data-namespace=\"${setting.namespace}\" data-key=\"${setting.key}\"></i>`;\r\n            };\r\n        }\r\n        const icon = setting.icon ?? \"fas fa-cogs\";\r\n\r\n        let settingNamespace = \"\";\r\n        if (setting.namespace === game.system.id) settingNamespace = game.system.title;\r\n        else if (setting.namespace === \"core\") settingNamespace = game.i18n.localize(\"Core\");\r\n        else settingNamespace = game.modules.get(setting.namespace)?.title;\r\n        if (settingNamespace) settingNamespace = `<strong>${settingNamespace}</strong> - `;\r\n\r\n        index.push(\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(setting.name),\r\n                nameExtra: toggle,\r\n                description: settingNamespace + game.i18n.localize(setting.hint),\r\n                query: setting.key,\r\n                keywords: [`${setting.key}${setting.namespace}`],\r\n                type: localizedSettingName,\r\n                data: { ...setting },\r\n                img: null,\r\n                icon: [icon],\r\n                onClick: async function () {\r\n                    if (isMenu) {\r\n                        new setting.type().render(true);\r\n                        return;\r\n                    }\r\n                    game.settings.sheet.render(true);\r\n                    Hooks.once(\"renderSettingsConfig\", (app, html) => {\r\n                        html = html[0];\r\n                        const settNamespace = setting.namespace === game.system.id ? \"system\" : setting.namespace;\r\n                        const settingTab = html.querySelector(`.category-tab[data-tab=\"${settNamespace}\"]`);\r\n                        if (settingTab) settingTab.click();\r\n                        const settingFG = html.querySelector(`[data-setting-id=\"${setting.namespace + \".\" + setting.key}\"]`);\r\n                        if (settingFG) {\r\n                            setTimeout(() => {\r\n                                settingFG.scrollIntoView({ behavior: \"smooth\" });\r\n                            }, 100);\r\n                            settingFG.style.backgroundColor = \"#0000ff29\";\r\n                        }\r\n                    });\r\n                },\r\n            }),\r\n        );\r\n    };\r\n    game.settings.menus.forEach((s) => processSetting(s, true));\r\n    game.settings.settings.forEach(processSetting);\r\n    const localizedKeybindingsName = game.i18n.localize(\"spotlight-omnisearch.KEYBINDING\");\r\n    game.keybindings.actions.forEach((binding, key) => {\r\n        if (!game.user.isGM && binding.restricted) return;\r\n        const name = game.i18n.localize(binding.name);\r\n        let description = \"\";\r\n        const bindings = game.keybindings.bindings.get(key);\r\n        bindings.forEach((b) => {\r\n            description += `<span class=\"key\">${foundry.applications.sidebar.apps.ControlsConfig.humanizeBinding(b)}</span>`;\r\n        });\r\n        if (binding.hint) description += game.i18n.localize(binding.hint);\r\n        index.push(\r\n            new BaseSearchTerm({\r\n                name: name,\r\n                description: description,\r\n                keywords: [],\r\n                type: localizedKeybindingsName,\r\n                data: { ...binding },\r\n                img: null,\r\n                icon: [\"fas fa-keyboard\"],\r\n                onClick: async function () {\r\n                    new KeybindingsConfig().render(true);\r\n                    Hooks.once(\"renderKeybindingsConfig\", (app, html) => {\r\n                        html = html[0];\r\n                        const tab = html.querySelector(`.tab[data-tab=\"${binding.namespace}\"]`);\r\n                        const bindingFG = tab.querySelector(`[data-action-id=\"${key}\"]`);\r\n                        if (bindingFG) {\r\n                            setTimeout(() => {\r\n                                bindingFG.scrollIntoView({ behavior: \"smooth\" });\r\n                            }, 100);\r\n                            bindingFG.style.backgroundColor = \"#0000ff29\";\r\n                        }\r\n                    });\r\n                },\r\n            }),\r\n        );\r\n    });\r\n    INDEX.push(...index);\r\n}\r\n\r\nasync function buildSettingsTab() {\r\n    const settingsSidebar = document.querySelector(\".settings-sidebar#settings\");\r\n    const buttons = settingsSidebar.querySelectorAll(\"button\");\r\n    const tabSettingsLocalized = game.i18n.localize(\"SIDEBAR.TabSettings\");\r\n    const index = [];\r\n    buttons.forEach((button) => {\r\n        //the button innerhtml is formatted as follows <i class=\"fas fa-cogs\"></i>  Configure Settings\r\n        //extract the text and the i class\r\n        const buttonLabel = button.innerText.trim();\r\n        const i = button.querySelector(\"i\");\r\n        if (!i) return;\r\n        const icon = i.className;\r\n        if (!buttonLabel) return;\r\n        index.push(\r\n            new BaseSearchTerm({\r\n                name: buttonLabel,\r\n                keywords: [],\r\n                type: tabSettingsLocalized,\r\n                data: {},\r\n                img: null,\r\n                icon: [icon],\r\n                onClick: async function () {\r\n                    button.click();\r\n                },\r\n            }),\r\n        );\r\n    });\r\n    INDEX.push(...index);\r\n}\r\n\r\nlet previewAudio = null;\r\n\r\nasync function buildFiles() {\r\n    if (!game.user.isGM) return;\r\n    const fileCache = canvas.deepSearchCache?._fileIndexCache;\r\n    if (!fileCache) return;\r\n    const index = [];\r\n    for (const [fileName, files] of Object.entries(fileCache)) {\r\n        const ext = fileName.split(\".\").pop().toLowerCase();\r\n        let icon = \"fas fa-file\";\r\n        let isImageOrVideo = false;\r\n        let isAudio = false;\r\n        if (IMAGE.includes(ext)) {\r\n            icon = \"fas fa-image\";\r\n            isImageOrVideo = true;\r\n        }\r\n        if (VIDEO.includes(ext)) {\r\n            icon = \"fas fa-film\";\r\n            isImageOrVideo = true;\r\n        }\r\n        if (AUDIO.includes(ext)) {\r\n            icon = \"fas fa-volume-up\";\r\n            isAudio = true;\r\n        }\r\n\r\n        files.forEach((file) => {\r\n            let dropData = null;\r\n            if (isImageOrVideo) {\r\n                dropData = {\r\n                    type: \"Tile\",\r\n                    texture: {\r\n                        src: file,\r\n                    },\r\n                    fromFilePicker: true,\r\n                    tileSize: canvas?.grid?.size ?? 100,\r\n                };\r\n            }\r\n            if (isAudio) {\r\n                dropData = {\r\n                    src: file,\r\n                };\r\n            }\r\n            let onDrop = null;\r\n            const actions = [];\r\n            if (isAudio) {\r\n                onDrop = async function (event) {\r\n                    const target = document.elementFromPoint(event.clientX, event.clientY);\r\n                    if (!target) return;\r\n                    console.log(\"Dropped audio\", target);\r\n                    const isPlaylist = target.closest(\".document.playlist\");\r\n                    const isCanvas = target.closest(\"#board\");\r\n                    if (isPlaylist) {\r\n                        const playlistDocument = game.playlists.get(isPlaylist.dataset.entryId);\r\n                        const fnNoExt = fileName.split(\".\").slice(0, -1).join(\".\");\r\n                        const soundName = decodeURIComponent(fnNoExt);\r\n                        playlistDocument.createEmbeddedDocuments(\"PlaylistSound\", [\r\n                            {\r\n                                name: soundName,\r\n                                path: file,\r\n                            },\r\n                        ]);\r\n                    }\r\n                    if (isCanvas) {\r\n                        const [x, y] = [event.clientX, event.clientY];\r\n                        const t = canvas.stage.worldTransform;\r\n                        const cX = (x - t.tx) / canvas.stage.scale.x;\r\n                        const cy = (y - t.ty) / canvas.stage.scale.y;\r\n                        canvas.sounds.activate();\r\n                        canvas.scene.createEmbeddedDocuments(\"AmbientSound\", [\r\n                            {\r\n                                path: file,\r\n                                radius: canvas.scene.dimensions.distance * 3,\r\n                                x: cX,\r\n                                y: cy,\r\n                            },\r\n                        ]);\r\n                    }\r\n                };\r\n                actions.push({\r\n                    name: game.i18n.localize(`${MODULE_ID}.actions.playForEveryone`),\r\n                    icon: `<i class=\"fas fa-play\"></i>`,\r\n                    callback: async function () {\r\n                        if (previewAudio) previewAudio.stop();\r\n                        await foundry.audio.AudioHelper.play({ src: file, autoplay: true, volume: 0.7, loop: false }, true);\r\n                    },\r\n                });\r\n            }\r\n            index.push(\r\n                new BaseSearchTerm({\r\n                    name: decodeURIComponent(fileName),\r\n                    keywords: [file],\r\n                    type: \"file \" + fileName.split(\".\").pop().toLowerCase(),\r\n                    dragData: dropData,\r\n                    img: null,\r\n                    actions: actions,\r\n                    icon: [icon],\r\n                    onDragEnd: onDrop,\r\n                    onClick: async function () {\r\n                        if (isImageOrVideo) {\r\n                            new ImagePopout(file, {}).render(true);\r\n                        }\r\n                        if (isAudio) {\r\n                            if (previewAudio) previewAudio.stop();\r\n                            previewAudio = await foundry.audio.AudioHelper.play({ src: file, autoplay: true, volume: 0.5, loop: false }, false);\r\n                            const current = previewAudio;\r\n                            setTimeout(() => {\r\n                                if (current === previewAudio) previewAudio.stop();\r\n                            }, 5000);\r\n                        }\r\n                    },\r\n                }),\r\n            );\r\n        });\r\n    }\r\n    FILE_INDEX = index;\r\n}\r\n\r\nfunction getFoldersRecursive(document, folders = []) {\r\n    if (document.folder) folders.push(document.folder.name);\r\n    else return folders;\r\n    return getFoldersRecursive(document.folder, folders);\r\n}\r\n\r\nasync function buildStatusEffects() {\r\n    const effects = CONFIG.statusEffects;\r\n    for (const effect of effects) {\r\n        if (!effect.name) continue;\r\n        INDEX.push(\r\n            new BaseSearchTerm({\r\n                name: () => game.i18n.localize(effect.name),\r\n                keywords: [],\r\n                type: \"statusEffect\",\r\n                data: { ...effect },\r\n                img: effect.icon,\r\n                icon: [\"fas fa-earth-europe\", \"fas fa-bolt\"],\r\n                onClick: async function () {\r\n                    canvas.tokens.controlled.forEach((token) => {\r\n                        token.toggleEffect(effect);\r\n                    });\r\n                },\r\n            }),\r\n        );\r\n    }\r\n}\r\n\r\nasync function buildModuleIntegration() {\r\n    //dfreds\r\n    if (game.modules.get(\"dfreds-convenient-effects\")?.active) {\r\n        const allEffects = game.dfreds.effectInterface.findEffects();\r\n        const moduleName = game.modules.get(\"dfreds-convenient-effects\").title;\r\n        for (const effect of allEffects) {\r\n            INDEX.push(\r\n                new BaseSearchTerm({\r\n                    name: effect.name,\r\n                    description: effect.description,\r\n                    keywords: [],\r\n                    type: moduleName,\r\n                    data: { ...effect },\r\n                    img: effect.img,\r\n                    icon: [\"fas fa-hand-sparkles\", \"fas fa-bolt\"],\r\n                    onClick: async function () {\r\n                        game.dfreds.effectInterface.toggleEffect({effectId: effect.id});\r\n                    },\r\n                }),\r\n            );\r\n        }\r\n    }\r\n\r\n    if (game.itempiles) {\r\n        const users = Array.from(game.users).filter((u) => u !== game.user);\r\n        const actions = users.map((u) => {\r\n            return {\r\n                name: u.name,\r\n                icon: `<i class=\"fas fa-handshake\"></i>`,\r\n                callback: async function () {\r\n                    game.itempiles.API.requestTrade(u);\r\n                },\r\n            };\r\n        });\r\n        INDEX.push(\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(\"ITEM-PILES.ContextMenu.RequestTrade\"),\r\n                actions: actions,\r\n                keywords: [],\r\n                type: \"item-piles\",\r\n                data: {},\r\n                img: null,\r\n                icon: [\"fas fa-boxes\"],\r\n                onClick: async function () {\r\n                    game.itempiles.toggle();\r\n                },\r\n            }),\r\n        );\r\n    }\r\n\r\n    if (game.modules.get(\"mastercrafted\")?.active) {\r\n        const recipeBooks = ui.RecipeApp._currentApp._recipeBooks;\r\n        for (const book of recipeBooks) {\r\n            for (const recipe of book.recipes) {\r\n                INDEX.push(\r\n                    new BaseSearchTerm({\r\n                        name: recipe.name,\r\n                        description: book.name,\r\n                        keywords: [],\r\n                        type: \"mastercrafted recipe\",\r\n                        data: {},\r\n                        img: recipe.img,\r\n                        icon: [\"fas fa-book\", \"fas fa-hammer\"],\r\n                        onClick: async function () {\r\n                            new ui.RecipeApp(null, null, recipe.name).render(true);\r\n                        },\r\n                    }),\r\n                );\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nasync function buildWeatherEffects() {\r\n    if (!game.user.isGM) return;\r\n    const weatherFX = CONFIG.weatherEffects;\r\n    for (const [key, effect] of Object.entries(weatherFX)) {\r\n        const isFxMaster = CONFIG.fxmaster && key.includes(\"fxmaster\");\r\n        if (isFxMaster) {\r\n            const FXMKEY = key.replace(\"fxmaster.\", \"\");\r\n            const FXMEffect = CONFIG.fxmaster.particleEffects[FXMKEY];\r\n            INDEX.push(\r\n                new BaseSearchTerm({\r\n                    name: game.i18n.localize(FXMEffect.label),\r\n                    description: FXMEffect.description,\r\n                    keywords: [game.i18n.localize(\"SCENE.FIELDS.weather.label\")],\r\n                    type: \"fxmaster \" + game.i18n.localize(\"SCENE.FIELDS.weather.label\"),\r\n                    img: FXMEffect.icon,\r\n                    icon: [\"fas fa-wand-magic-sparkles\", \"fas fa-cloud-rain\"],\r\n                    onClick: async function () {\r\n                        const currentSceneWeather = game.scenes.viewed.weather;\r\n                        if (currentSceneWeather === key) {\r\n                            game.scenes.viewed.update({ weather: \"\" });\r\n                        } else {\r\n                            game.scenes.viewed.update({ weather: key });\r\n                        }\r\n                    },\r\n                }),\r\n            );\r\n        } else {\r\n            INDEX.push(\r\n                new BaseSearchTerm({\r\n                    name: game.i18n.localize(effect.label),\r\n                    description: effect.description,\r\n                    keywords: [game.i18n.localize(\"SCENE.FIELDS.weather.label\")],\r\n                    type: game.i18n.localize(\"SCENE.FIELDS.weather.label\"),\r\n                    icon: [\"fas fa-map\", \"fas fa-cloud-sun-rain\"],\r\n                    onClick: async function () {\r\n                        const currentSceneWeather = game.scenes.viewed.weather;\r\n                        if (currentSceneWeather === key) {\r\n                            game.scenes.viewed.update({ weather: \"\" });\r\n                        } else {\r\n                            game.scenes.viewed.update({ weather: key });\r\n                        }\r\n                    },\r\n                }),\r\n            );\r\n        }\r\n    }\r\n}\r\n","import { MODULE_ID } from \"./main.js\";\r\nimport {updateTimerInterval} from \"./timer.js\";\r\n\r\nexport function registerSettings() {\r\n    const settings = {\r\n        gmOnly: {\r\n            name: `${MODULE_ID}.settings.gmOnly.name`,\r\n            hint: `${MODULE_ID}.settings.gmOnly.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        compactMode: {\r\n            name: `${MODULE_ID}.settings.compactMode.name`,\r\n            hint: `${MODULE_ID}.settings.compactMode.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n            onChange: (value) => ui.spotlightOmnisearch?.classList.toggle(\"compact\", value),\r\n        },\r\n        clickToDismiss: {\r\n            name: `${MODULE_ID}.settings.clickToDismiss.name`,\r\n            hint: `${MODULE_ID}.settings.clickToDismiss.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        saveLastSearch: {\r\n            name: `${MODULE_ID}.settings.saveLastSearch.name`,\r\n            hint: `${MODULE_ID}.settings.saveLastSearch.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        useHistory: {\r\n            name: `${MODULE_ID}.settings.useHistory.name`,\r\n            hint: `${MODULE_ID}.settings.useHistory.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        position: {\r\n            name: `${MODULE_ID}.settings.position.name`,\r\n            hint: `${MODULE_ID}.settings.position.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: \"save\",\r\n            type: String,\r\n            choices: {\r\n                default: `${MODULE_ID}.settings.position.choices.default`,\r\n                save: `${MODULE_ID}.settings.position.choices.save`,\r\n            },\r\n        },\r\n        alwaysOnTop: {\r\n            name: `${MODULE_ID}.settings.alwaysOnTop.name`,\r\n            hint: `${MODULE_ID}.settings.alwaysOnTop.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        enableCtrlSpace: {\r\n            name: `${MODULE_ID}.settings.enableCtrlSpace.name`,\r\n            hint: `${MODULE_ID}.settings.enableCtrlSpace.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        spotlightWidth: {\r\n            name: `${MODULE_ID}.settings.spotlightWidth.name`,\r\n            hint: `${MODULE_ID}.settings.spotlightWidth.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: 700,\r\n            type: Number,\r\n            range: { min: 400, max: 1000, step: 50 },\r\n        },\r\n        showImages: {\r\n            name: `${MODULE_ID}.settings.showImages.name`,\r\n            hint: `${MODULE_ID}.settings.showImages.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        searchFiles: {\r\n            name: `${MODULE_ID}.settings.searchFiles.name`,\r\n            hint: `${MODULE_ID}.settings.searchFiles.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        searchSettings: {\r\n            name: `${MODULE_ID}.settings.searchSettings.name`,\r\n            hint: `${MODULE_ID}.settings.searchSettings.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        searchCompendium: {\r\n            name: `${MODULE_ID}.settings.searchCompendium.name`,\r\n            hint: `${MODULE_ID}.settings.searchCompendium.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        fullCompendiumJournalIndex: {\r\n            name: `${MODULE_ID}.settings.fullCompendiumJournalIndex.name`,\r\n            hint: `${MODULE_ID}.settings.fullCompendiumJournalIndex.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        searchSidebar: {\r\n            name: `${MODULE_ID}.settings.searchSidebar.name`,\r\n            hint: `${MODULE_ID}.settings.searchSidebar.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        searchUtils: {\r\n            name: `${MODULE_ID}.settings.searchUtils.name`,\r\n            hint: `${MODULE_ID}.settings.searchUtils.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        useMetricForLights: {\r\n            name: `${MODULE_ID}.settings.useMetricForLights.name`,\r\n            hint: `${MODULE_ID}.settings.useMetricForLights.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        spotlightPosition: {\r\n            scope: \"client\",\r\n            config: false,\r\n            default: null,\r\n            type: Object,\r\n        },\r\n        firstTime: {\r\n            scope: \"client\",\r\n            config: false,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        appData: {\r\n            scope: \"world\",\r\n            config: false,\r\n            default: {},\r\n            type: Object,\r\n            onChange: (value) => {\r\n                if (ui.spotlightOmnisearch?.rendered) {\r\n\r\n                    if(!(\"counter\" in value) || !game.user.isGM) ui.spotlightOmnisearch._onSearch();\r\n                }\r\n                updateTimerInterval();\r\n            },\r\n        },\r\n        recent: {\r\n            scope: \"client\",\r\n            config: false,\r\n            default: [],\r\n            type: Array,\r\n        }\r\n    };\r\n\r\n    registerSettingsArray(settings);\r\n}\r\n\r\nexport function getSetting(key) {\r\n    return game.settings.get(MODULE_ID, key);\r\n}\r\n\r\nexport async function setSetting(key, value) {\r\n    return await game.settings.set(MODULE_ID, key, value);\r\n}\r\n\r\nfunction registerSettingsArray(settings) {\r\n    for (const [key, value] of Object.entries(settings)) {\r\n        game.settings.register(MODULE_ID, key, value);\r\n    }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(208);\n"],"names":["interval","updateTimerInterval","game","user","isGM","clearInterval","intervalSetting","getSetting","timer","setInterval","Date","now","ChatMessage","create","content","i18n","localize","concat","MODULE_ID","speaker","alias","whisper","getWhisperRecipients","appData","setSetting","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","_OverloadYield","k","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperties","_toPropertyKey","key","_toPrimitive","_typeof","toPrimitive","String","Number","_get","Reflect","get","_superPropBase","hasOwnProperty","_getPrototypeOf","getOwnPropertyDescriptor","_setPrototypeOf","_createSuper","_isNativeReflectConstruct","s","constructor","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","HandlebarsApplication","_inherits","foundry","applications","api","HandlebarsApplicationMixin","ApplicationV2","_render","_prepareContext2","_super","_this","_classCallCheck","registerPositionSetting","savePosition","utils","debounce","_createClass","position","positionToSave","left","top","width","height","settings","set","this","APP_ID","setPosition","_get2","_len","args","Array","_key","POSITION_SETTING_REGISTERED","_regeneratorRuntime","mark","_callee","options","data","wrap","_callee$","_context","prev","next","getData","abrupt","stop","_prepareContext","_x","activateListeners","_onRender","context","DEFAULT_OPTIONS","window","preventEscapeClose","instances","id","close","style","display","html","element","_callee2","options1","options2","activeOptions","_args2","_callee2$","_context2","undefined","render","_this$DEFAULT_OPTIONS","register","scope","config","type","default","resetSavedPosition","name","split","join","toLowerCase","template","classes","scrollable","tag","title","frame","positioned","icon","controls","minimizable","resizable","contentTag","contentClasses","actions","form","handler","submitOnChange","closeOnSubmit","mergeClone","obj","other","deepClone","mergeObject","_classStaticPrivateMethodGet","_assertClassBrand","has","CompendiumConfig","_HandlebarsApplicatio","SETTING_KEY","sett","compendiums","_i","_compendiums","_sett$id","_ref","_game$modules$get","compendium","compendiumsByPackage","_i2","_data","_compendium","checkAllButton","uncheckAllButton","saveButton","from","packs","metadata","push","checked","label","package","packageType","system","modules","packageName","sort","b","localeCompare","action","buttons","querySelectorAll","forEach","el","addEventListener","event","preventDefault","_step","_iterator","_createForOfIteratorHelper","closest","err","_step2","_iterator2","charAt","slice","onCheckAll","checkAll","onUncheckAll","uncheckAll","_onSubmit","footer","_step3","_iterator3","_step4","_iterator4","registerMenu","hint","restricted","_onSubmit3","formData","result","ux","FormDataExtended","object","sent","CONFIG","SpotlightOmnisearch","rebuildIndex","isArray","_unsupportedIterableToArray","_n","F","_arrayLikeToArray","toString","test","SPOTLIGHT_WIDTH","LAST_SEARCH","query","filters","LAST_INPUT_TIME","Spotlight","_close","_ui$spotlightOmnisear","first","toTaskbar","isPrompt","promptOptions","promise","_resolve","ACTOR_ITEMS_INDEX","ui","spotlightOmnisearch","_onSearch","updateStoredPosition","document","onClickAway","indexActorItems","_canvas$tokens$contro","_canvas","_this2","actors","canvas","tokens","controlled","map","token","actor","_token","includes","character","_loop","_this2$ACTOR_ITEMS_IN","items","item","_callback","_onClick","use","callback","BaseSearchTerm","description","img","uuid","documentName","onClick","sheet","_toConsumableArray","_callee3","_callee3$","_context3","lastSearch","_this$promptOptions","_this3","windowApp","_html","buildIndex","classList","add","filtersContainer","querySelector","filter","filterElement","createElement","innerText","dataset","stopPropagation","remove","appendChild","_onKeyDown","setTimeout","disabled","focus","positionType","storedPosition","innerWidth","innerHeight","zIndex","getBoundingClientRect","maxHeight","hasTaskbar","contains","toggle","_getFilters","match","replace","trim","inputTime","inputDelta","isShift","shiftKey","isAlt","altKey","selected","firstItem","selectedAction","click","actionButton","lastFilter","button","ctrlKey","previousElementSibling","nextElementSibling","scrollIntoView","block","behavior","_selectedAction$previ","_selectedAction$nextE","_this4","closing","input","inputSuggestion","hasSpace","convertFullWidthToRegular","text","fullWidthNumbers","regularNumbers","regex","RegExp","indexOf","filtersData","hasFilters","matchedFilters","FILTERS","startsWith","suggestionText","inputSpacer","innerHTML","matchingFilters","singleFilter","spanFilter","section","isActiveTimer","results","completeSearch","_getSetting","types","recent","recentHeader","justifyContent","background","suggestionAdded","list","_loop2","_Object$entries$_i","_slicedToArray","_Object$entries","typeResults","sortedTypeResults","doesNotStartWithQuery","lc","splitQuery","some","q","typeHeader","replaceAll","entries","placeholder","SearchFilter","cleanQuery","SPECIAL_SEARCHES","_loop6","search","every","SearchItem","_ret6","_loop3","_ret3","_loop4","INDEX","_ret4","_loop5","FILE_INDEX","_ret5","setDraggingState","_this5","_callee4","_args4","_callee4$","_context4","removeEventListener","_ui$spotlightOmnisear2","target","_ref2","bottom","localizations","searchTerm","_searchTerm$nameExtra","_this$element$classLi","loadBasicLocalizations","MACRO","JOURNAL_ENTRY","ROLL_TABLE","PLAYLIST","SCENE","JOURNAL_ENTRY_PAGE","nameExtra","isSpecialApp","dragData","_searchItem","addElementListeners","_this6","_this6$searchTerm$onC","_this6$searchTerm","updateRecent","setDraggable","body","_this$searchTerm$acti","_this$searchTerm","icons","getActions","_this$data","isJournalOrPage","wrapper","insertAdjacentElement","actionsContainer","settingToggle","state","namespace","_ref3","_this$data$uuid","_callback8","_callback7","_callback6","_callback5","_callback4","_callback3","_callback2","_this7","isCompendiumDocument","_callee5","_callee5$","_context5","fromUuid","execute","_callee9","_callee9$","_context9","draw","playlist","fromUuidSync","playing","_callee0","_callee0$","_context0","stopAll","_callee1","_callee1$","_context1","playAll","matchingActions","_callee6","_callee6$","_context6","view","_callee7","_callee7$","_context7","activate","_callee8","scene","_callee8$","_context8","scenes","preload","setDragging","_this$searchTerm$onDr","_this$searchTerm2","onDragStart","endDragging","_this$searchTerm$onDr2","_this$searchTerm3","onDragEnd","_this8","setAttribute","dataTransfer","setData","JSON","stringify","_this8$searchTerm$onD","_this8$searchTerm","onDrop","_getSetting2","unshift","pop","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Hooks","on","_prompt","registerSettings","app","SearchTerm","prompt","current","spotlight","_args","values","find","console","warn","once","keybindings","editable","modifiers","precedence","CONST","KEYBINDING_PRECEDENCE","PRIORITY","onDown","LAST_COUNTER_FOCUS","initSpecialSearches","_initSpecialSearches","_callee28","NOTE_MATCHING","ROLL_MATCHING","TIMER_MATCHING","TRACKER_MATCHING","COUNTER_MATCHING","UNITS_MAPPING","UNITS","LIGHT_LOCALIZATION","parseTime","useMetricForLights","conversionRatio","lightEffects","getSplatterData","_callee28$","_context28","_parseTime3","hours","minutes","seconds","hourMinSecRegex","minSecRegex","minutesRegex","secondsRegex","parseInt","int","isNaN","ft","in","_in","yd","mi","lb","lbs","oz","gal","pt","flOz","tbsp","_","C","cm","km","kg","g","ml","keys","eval","_unused","_unused2","navigator","clipboard","writeText","notifications","info","_query$match","_query$match2","_UNITS$find","numberPart","alphaPart","closestUnit","unit","_converted$match","_converted$match2","parseFloat","converted","convertedValue","convertedUnit","toFixed","_query$match3","_query$match4","convertedEl","keyword","_page$text$content","noteText","journalName","journal","todayDate","nowTime","page","currentContent","getName","JournalEntry","toLocaleDateString","toLocaleTimeString","pages","createEmbeddedDocuments","update","_onClick2","Roll","toMessage","_x2","listElements","translations","special","help","baseDescription","filterSpans","_onClick3","_x3","remaining","Math","floor","setting","_parseTime","_onClick4","_parseTime2","totalSeconds","startTimestamp","endTimestamp","error","_x4","_onClick5","_x5","tracker","success","fail","checkedSuccessDotsCount","checkedFailDotsCount","container","successEls","dot","j","reverse","slash","failEls","_onClick6","_x6","counter","counterEls","counterContainer","upDownContainer","up","down","_currentSetting$count","currentSetting","attribute","Set","users","isOwner","ul","li","getProperty","_foundry$utils$getPro","queryWithoutLastPart","_onClick7","_callee10","_callee10$","_context10","_x7","_onClick8","_callee11","updates","_callee11$","_context11","_id","light","alpha","angle","bright","coloration","dim","luminosity","saturation","contrast","shadows","animation","speed","intensity","darkness","min","max","color","attenuation","updateEmbeddedDocuments","_x8","_onClick9","_callee12","_callee12$","_context12","_x9","_onClick0","_callee13","_callee13$","_context13","_x0","_onClick1","_callee14","_callee14$","_context14","_x1","_onClick10","_callee15","_callee15$","_context15","_x10","_onClick11","_callee16","_callee16$","_context16","_x11","_onClick12","_callee17","_callee17$","_context17","_x12","keywords","_callee18","_callee18$","_context18","animateDarkness","_callee19","_callee19$","_context19","_callee20","_callee20$","_context20","_callee21","_callee21$","_context21","_onClick13","_callee22","_callee22$","_context22","active","maxHpPath","currentHpPath","isWoundSystem","currentHPValue","maxHPValue","finalPath","heal","amount","newHp","_defineProperty","damage","kill","restore","_onClick14","_callee23","_callee23$","_context23","_onClick15","_callee24","_callee24$","_context24","numericPartWithSign","_onClick16","_callee25","_search$query$match$","_search$query$match","val","_callee25$","_context25","_x13","_x14","_onClick17","_callee26","_search$query$match$2","_search$query$match2","_callee26$","_context26","_x15","_x16","_onClick18","_callee27","_callee27$","_context27","SpotlightOmniseach","_ref$nameExtra","_ref$description","_ref$keywords","_ref$actions","_ref$data","_ref$onClick","_ref$onDragStart","_ref$onDragEnd","_ref$match","_ref$activateListener","_name","_description","_actions","_nameExtra","_onDragEnd","_onDragStart","IMAGE","IMAGE_FILE_EXTENSIONS","AUDIO","AUDIO_FILE_EXTENSIONS","VIDEO","VIDEO_FILE_EXTENSIONS","indexBuilt","_buildIndex","faSearch","promises","filtersArray","faSpinner","buildModuleIntegration","buildWeatherEffects","buildSettings","buildSettingsTab","buildCollections","buildStatusEffects","buildCompendiumIndex","buildFiles","callAll","all","term","_filtersArray","rendered","createDocumentTypeTypeString","documentType","capitalizedType","capitalize","_validLocStrings","toUpperCase","str","loc","_buildCompendiumIndex","allowedCompendiums","pageLocalized","fullCompendiumJournalIndex","index","localizedCompendiumName","getIndex","pack","packPackageName","packIndex","localizedDocumentName","_packIndex","_loop$","t0","t1","banner","_objectSpread","sidebarIcon","entry","_document","_loop2$","getDocument","pageId","anchor","pageActions","tocKeywords","ImagePopout","src","toc","simpleQuest","isSimpleQuestPage","openToPage","slug","delegateYield","finish","_buildCollections","collections","exclude","playerLocalized","_i3","_collections","collection","localizedCollectionName","_loop3$","_document$name","_document$speaker","testUserPermission","DOCUMENT_OWNERSHIP_LEVELS","OBSERVER","extraType","folder","getFoldersRecursive","_document$flags$item","itemPileType","flags","hasPlayerOwner","_buildSettings","localizedSettingName","processSetting","localizedKeybindingsName","_setting$icon","_game$modules$get2","isMenu","settingNamespace","settNamespace","settingTab","settingFG","backgroundColor","menus","binding","bindings","sidebar","apps","ControlsConfig","humanizeBinding","KeybindingsConfig","bindingFG","_buildSettingsTab","settingsSidebar","tabSettingsLocalized","buttonLabel","className","previewAudio","_buildFiles","_canvas$deepSearchCac","fileCache","_i4","deepSearchCache","_fileIndexCache","fileName","files","ext","isImageOrVideo","isAudio","_loop4$","file","_canvas$grid$size","dropData","texture","fromFilePicker","tileSize","grid","size","isPlaylist","isCanvas","playlistDocument","fnNoExt","soundName","_ref4","x","cX","cy","elementFromPoint","clientX","clientY","log","playlists","entryId","decodeURIComponent","path","stage","worldTransform","tx","scale","ty","sounds","radius","dimensions","distance","audio","AudioHelper","play","autoplay","volume","loop","folders","_buildStatusEffects","effects","_context29","statusEffects","effect","_loop5$","toggleEffect","_buildModuleIntegration","_callee29","_game$modules$get3","_game$modules$get4","allEffects","moduleName","recipeBooks","book","_iterator5","_step5","_loop7","_callee29$","_context36","dfreds","effectInterface","findEffects","_loop6$","_context31","_context30","effectId","itempiles","_context32","API","requestTrade","_context33","RecipeApp","_currentApp","_recipeBooks","recipes","recipe","_loop7$","_context35","_context34","t3","t4","_buildWeatherEffects","_callee32","weatherFX","_loop8","_i5","_Object$entries2","_callee32$","_context40","weatherEffects","_Object$entries2$_i","FXMKEY","FXMEffect","_loop8$","_context39","fxmaster","particleEffects","_callee30","_callee30$","_context37","viewed","weather","_callee31","_callee31$","_context38","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","registerSettingsArray","gmOnly","compactMode","onChange","clickToDismiss","saveLastSearch","useHistory","choices","save","alwaysOnTop","enableCtrlSpace","spotlightWidth","range","step","showImages","searchFiles","searchSettings","searchCompendium","searchSidebar","searchUtils","spotlightPosition","firstTime","_setSetting","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","definition","prop","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}