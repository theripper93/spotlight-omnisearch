{"version":3,"file":"./index.js","mappings":"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","sources":["webpack:///./scripts/timer.js","webpack:///./scripts/lib/utils.js","webpack:///./scripts/app/CompendiumConfig.js","webpack:///./scripts/app/spotlight.js","webpack:///./scripts/main.js","webpack:///./scripts/searchTerms/special.js","webpack:///./scripts/searchTerms/baseSearchTerm.js","webpack:///./scripts/searchTerms/buildTermIndex.js","webpack:///./scripts/settings.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/startup"],"sourcesContent":["import {MODULE_ID} from \"./main\";\r\nimport { getSetting, setSetting } from \"./settings\";\r\n\r\nlet interval = null;\r\n\r\nexport function updateTimerInterval() {\r\n    if (!game.user.isGM) return;\r\n    clearInterval(interval);\r\n    const intervalSetting = getSetting(\"appData\").timer;\r\n    //if there is no timer set, clear the interval\r\n    if (!intervalSetting) {\r\n        return;\r\n    }\r\n    //set the interval\r\n    interval = setInterval(() => {\r\n        const timestampNow = Date.now();\r\n        const isExpired = timestampNow > intervalSetting;\r\n        if (isExpired) {\r\n            clearInterval(interval);\r\n            ChatMessage.create({\r\n                content: game.i18n.localize(`${MODULE_ID}.special.timer.expired`),\r\n                speaker: {alias: \"Timer\"},\r\n                whisper: ChatMessage.getWhisperRecipients(\"GM\"),\r\n            });\r\n            const appData = getSetting(\"appData\");\r\n            appData.timer = null;\r\n            setSetting(\"appData\", appData);\r\n            return;\r\n        }\r\n    }, 1000);\r\n}\r\n","import { MODULE_ID } from \"../main.js\";\n\nexport class HandlebarsApplication extends foundry.applications.api.HandlebarsApplicationMixin(\n    foundry.applications.api.ApplicationV2,\n) {\n    constructor() {\n        super();\n        this.constructor.registerPositionSetting();\n        this.savePosition = foundry.utils.debounce(\n            this.savePosition.bind(this),\n            100,\n        );\n    }\n\n    static registerPositionSetting() {\n        if (\n            this.POSITION_SETTING_REGISTERED ||\n            !this.DEFAULT_OPTIONS.window?.savePosition\n        )\n            return;\n        this.POSITION_SETTING_REGISTERED = true;\n        game.settings.register(MODULE_ID, this.APP_ID + \"-position\", {\n            scope: \"client\",\n            config: false,\n            type: Object,\n            default: {},\n        });\n    }\n\n    static resetSavedPosition() {\n        game.settings.set(MODULE_ID, this.APP_ID + \"-position\", {});\n    }\n\n    savePosition(position) {\n        const positionToSave = {\n            left: position.left,\n            top: position.top,\n            width: position.width,\n            height: position.height,\n        };\n        if (positionToSave.width === \"auto\") delete positionToSave.width;\n        if (positionToSave.height === \"auto\") delete positionToSave.height;\n        game.settings.set(MODULE_ID, this.APP_ID + \"-position\", positionToSave);\n    }\n\n    setPosition(...args) {\n        const r = super.setPosition(...args);\n        if (this.constructor.POSITION_SETTING_REGISTERED)\n            this.savePosition(this.position);\n        return r;\n    }\n\n    static get APP_ID() {\n        return this.name\n            .split(/(?=[A-Z])/)\n            .join(\"-\")\n            .toLowerCase();\n    }\n\n    get APP_ID() {\n        return this.constructor.APP_ID;\n    }\n\n    static get PARTS() {\n        return {\n            content: {\n                template: `modules/${MODULE_ID}/templates/${this.APP_ID}.hbs`,\n                classes: [],\n                scrollable: [],\n            },\n        };\n    }\n\n    static get DEFAULT_OPTIONS() {\n        return {\n            tag: \"div\",\n            id: this.APP_ID,\n            window: {\n                title: `${MODULE_ID}.${this.APP_ID}.title`,\n                frame: true,\n                positioned: true,\n                icon: \"\",\n                controls: [],\n                minimizable: true,\n                resizable: false,\n                contentTag: \"section\",\n                contentClasses: [],\n                savePosition: false,\n                preventEscapeClose: false\n            },\n            actions: {},\n            form: {\n                handler: undefined,\n                submitOnChange: false,\n                closeOnSubmit: false,\n            },\n            position: {\n                width: 560,\n                height: \"auto\",\n            },\n        };\n    }\n\n    async _prepareContext(options) {\n        if (this.getData) return this.getData();\n        const data = {};\n        return { data };\n    }\n\n    activateListeners() {}\n\n    _onRender(context, options) {\n        super._onRender(context, options);\n        if (this.constructor.DEFAULT_OPTIONS.window.preventEscapeClose) {\n            foundry.applications.instances.delete(this.id, this);\n            this.window.close.style.display = \"none\"\n        }\n        const html = this.element;\n        if (this.activateListeners) this.activateListeners(html);\n    }\n\n    async render(options1 = {}, options2 = {}) {\n        const activeOptions =\n            typeof options1 === \"boolean\" ? options2 : options1;\n        if (\n            !activeOptions.position &&\n            this.constructor.POSITION_SETTING_REGISTERED\n        )\n            activeOptions.position = game.settings.get(\n                MODULE_ID,\n                this.APP_ID + \"-position\",\n            );\n        return super.render(options1, options2);\n    }\n}\n\nexport function dynamicImport(url) {\n    const dynamicImport = new Function(\"url\", \"return import(url)\");\n    return dynamicImport(url);\n}\n\nexport function confirm(title, content, options = {}) {\n    title = l(title);\n    content = l(content);\n    return foundry.applications.api.DialogV2.confirm({\n        window: { title },\n        content,\n    });\n}\n\nexport function prompt(title, content, options = {}) {\n    title = l(title);\n    content = l(content);\n    return foundry.applications.api.DialogV2.prompt({\n        window: { title },\n        content,\n        ...options,\n    });\n}\n\nexport function deepClone(obj) {\n    return foundry.utils.deepClone(obj);\n}\n\nexport function expandObject(obj) {\n    return foundry.utils.expandObject(obj);\n}\n\nexport function flattenObject(obj) {\n    return foundry.utils.flattenObject(obj);\n}\n\nexport function mergeObject(obj, other) {\n    return foundry.utils.mergeObject(obj, other);\n}\n\nexport function mergeClone(obj, other) {\n    obj = foundry.utils.deepClone(obj);\n    other = foundry.utils.deepClone(other);\n    return foundry.utils.mergeObject(obj, other);\n}\n\nexport function randomID(length = 20) {\n    return foundry.utils.randomID(length);\n}\n\nexport function setProperty(obj, key, value) {\n    return foundry.utils.setProperty(obj, key, value);\n}\n\nexport function getProperty(obj, key) {\n    return foundry.utils.getProperty(obj, key);\n}\n\nexport function l(x) {\n    return game.i18n.localize(x);\n}\n\nexport function easeInSine(x) {\n    return 1 - Math.cos((x * Math.PI) / 2);\n}\n\nexport function easeOutSine(x) {\n    return Math.sin((x * Math.PI) / 2);\n}\n\nexport function easeInOutSine(x) {\n    return -(Math.cos(Math.PI * x) - 1) / 2;\n}\n\nexport function easeInQuad(x) {\n    return x * x;\n}\n\nexport function easeOutQuad(x) {\n    return 1 - (1 - x) * (1 - x);\n}\n\nexport function easeInOutQuad(x) {\n    return x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2;\n}\n\nexport function easeInCubic(x) {\n    return x * x * x;\n}\n\nexport function easeOutCubic(x) {\n    return 1 - Math.pow(1 - x, 3);\n}\n\nexport function easeInOutCubic(x) {\n    return x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2;\n}\n\nexport function easeInQuart(x) {\n    return x * x * x * x;\n}\n\nexport function easeOutQuart(x) {\n    return 1 - Math.pow(1 - x, 4);\n}\n\nexport function easeInOutQuart(x) {\n    return x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2;\n}\n\nexport function easeInQuint(x) {\n    return x * x * x * x * x;\n}\n\nexport function easeOutQuint(x) {\n    return 1 - Math.pow(1 - x, 5);\n}\n\nexport function easeInOutQuint(x) {\n    return x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2;\n}\n\nexport function easeInExpo(x) {\n    return x == 0 ? x : Math.pow(2, 10 * (x - 1));\n}\n\nexport function easeOutExpo(x) {\n    return x == 1 ? x : 1 - Math.pow(2, -10 * x);\n}\n\nexport function easeInOutExpo(x) {\n    return x == 0\n        ? 0\n        : x == 1\n          ? 1\n          : x < 0.5\n            ? Math.pow(2, 20 * x - 10) / 2\n            : (2 - Math.pow(2, -20 * x + 10)) / 2;\n}\n\nexport function easeInCirc(x) {\n    return 1 - Math.sqrt(1 - Math.pow(x, 2));\n}\n\nexport function easeOutCirc(x) {\n    return Math.sqrt(1 - Math.pow(x - 1, 2));\n}\n\nexport function easeInOutCirc(x) {\n    return x < 0.5\n        ? 1 - Math.sqrt(1 - Math.pow(2 * x, 2)) / 2\n        : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2;\n}\n\nexport function easeInElastic(x) {\n    let s = 1.70158;\n    let p = 0;\n    let a = 1;\n    if (x == 0) return 0;\n    if ((x /= 1) == 1) return 1;\n    if (!p) p = 0.3;\n    if (a < 1) {\n        a = 1;\n        s = p / 4;\n    } else {\n        s = (p / (2 * Math.PI)) * Math.asin(1 / a);\n    }\n    return -(\n        a *\n        Math.pow(2, 10 * (x -= 1)) *\n        Math.sin(((x * 1 - s) * (2 * Math.PI)) / p)\n    );\n}\n\nexport function easeOutElastic(x) {\n    let s = 1.70158;\n    let p = 0;\n    let a = 1;\n    if (x == 0) return 0;\n    if ((x /= 1) == 1) return 1;\n    if (!p) p = 0.3;\n    if (a < 1) {\n        a = 1;\n        s = p / 4;\n    } else {\n        s = (p / (2 * Math.PI)) * Math.asin(1 / a);\n    }\n    return (\n        a * Math.pow(2, -10 * x) * Math.sin(((x * 1 - s) * (2 * Math.PI)) / p) +\n        1\n    );\n}\n\nexport function easeInOutElastic(x) {\n    let s = 1.70158;\n    let p = 0;\n    let a = 1;\n    if (x == 0) return 0;\n    if ((x /= 1 / 2) == 2) return 1;\n    if (!p) p = 0.3 * (0.3 + 1);\n    if (a < 1) {\n        a = 1;\n        s = p / 4;\n    } else {\n        s = (p / (2 * Math.PI)) * Math.asin(1 / a);\n    }\n    if (x < 1)\n        return (\n            -0.5 *\n            (a *\n                Math.pow(2, 10 * (x -= 1)) *\n                Math.sin(((x * 1 - s) * (2 * Math.PI)) / p))\n        );\n    return (\n        a *\n            Math.pow(2, -10 * (x -= 1)) *\n            Math.sin(((x * 1 - s) * (2 * Math.PI)) / p) *\n            0.5 +\n        1\n    );\n}\n\nexport function easeInBack(x) {\n    let s = 1.70158;\n    return x * x * ((s + 1) * x - s);\n}\n\nexport function easeOutBack(x) {\n    let s = 1.70158;\n    return 1 - (1 - x) * (1 - x) * ((s + 1) * x - s);\n}\n\nexport function easeInOutBack(x) {\n    let s = 1.70158;\n    if ((x /= 1 / 2) < 1)\n        return (1 / 2) * (x * x * (((s *= 1.525) + 1) * x - s));\n    return (1 / 2) * ((x -= 2) * x * (((s *= 1.525) + 1) * x + s) + 2);\n}\n\nexport function addColorPicker(input, { value, opacity = false } = {}) {\n    const hexToComponents = (hex) => {\n        const hexColor =\n            hex.length < 9 ? hex + \"f\".repeat(9 - hex.length) : hex;\n\n        const colorValue = hexColor.slice(0, 7);\n        const alphaValue = parseInt(hexColor.slice(7, 9), 16) / 255;\n        return { color: colorValue, alpha: alphaValue };\n    };\n\n    const componentsToHex = (color, alpha) => {\n        const colorValue = color.replace(\"#\", \"\");\n        const alphaValue = Math.round(alpha * 255)\n            .toString(16)\n            .padStart(2, \"0\");\n        return `#${colorValue}${alphaValue}`;\n    };\n\n    const textInput =\n        input.type === \"text\"\n            ? input\n            : input.querySelector(\"input[type='text']\");\n    if (textInput.classList.contains(\"color-picker-added\")) return;\n\n    textInput.classList.add(\"color-picker-added\");\n    textInput.classList.add(\"color\");\n    const parent = textInput.parentElement;\n\n    value ??= textInput.value || \"#000000ff\";\n\n    const { color, alpha } = hexToComponents(value);\n\n    const colorPickerElement = document.createElement(\"input\");\n    colorPickerElement.setAttribute(\"type\", \"color\");\n    if (opacity) colorPickerElement.style.maxWidth = \"2rem\";\n\n    const alphaPickerHtml = `<range-picker min=\"0\" max=\"1\" step=\"0.01\" value=\"${alpha}\" data-tooltip=\"Alpha\" style=\"min-width: 6rem;\"></range-picker>`;\n    const alphaPickerElement = new DOMParser()\n        .parseFromString(alphaPickerHtml, \"text/html\")\n        .querySelector(\"range-picker\");\n\n    const updateTextInput = (color, alpha) => {\n        const hex = componentsToHex(color, alpha);\n        if (!opacity) textInput.value = hex.slice(0, 7);\n        else textInput.value = hex;\n        textInput.dispatchEvent(new Event(\"change\"));\n    };\n\n    colorPickerElement.value = color;\n    alphaPickerElement.value = alpha;\n\n    colorPickerElement.addEventListener(\"input\", (event) => {\n        const color = event.target.value;\n        const alpha = alphaPickerElement.value;\n        updateTextInput(color, alpha);\n    });\n\n    alphaPickerElement.addEventListener(\"input\", (event) => {\n        const alpha = event.target.value;\n        const color = colorPickerElement.value;\n        updateTextInput(color, alpha);\n    });\n\n    textInput.after(colorPickerElement);\n    opacity && colorPickerElement.after(alphaPickerElement);\n}\n","import { MODULE_ID } from \"../main.js\";\r\nimport { HandlebarsApplication, mergeClone } from \"../lib/utils.js\";\r\n\r\nexport class CompendiumConfig extends HandlebarsApplication {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    static get SETTING_KEY() {\r\n        return this.name.charAt(0).toLowerCase() + this.name.slice(1);\r\n    }\r\n\r\n    get SETTING_KEY() {\r\n        return this.constructor.SETTING_KEY;\r\n    }\r\n\r\n    static get DEFAULT_OPTIONS() {\r\n        return mergeClone(super.DEFAULT_OPTIONS, {\r\n            tag: \"form\",\r\n            window: {\r\n                title: game.i18n.localize(`${MODULE_ID}.settings.${this.SETTING_KEY}.label`),\r\n                contentClasses: [\"standard-form\"],\r\n            },\r\n            actions: {\r\n                onCheckAll: this.checkAll,\r\n                onUncheckAll: this.uncheckAll,\r\n            },\r\n            form: {\r\n                handler: this.#onSubmit,\r\n                closeOnSubmit: true,\r\n            },\r\n            position: {\r\n                width: 800,\r\n            },\r\n        });\r\n    }\r\n\r\n    static get PARTS() {\r\n        return {\r\n            content: {\r\n                template: `modules/${MODULE_ID}/templates/${this.APP_ID}.hbs`,\r\n                classes: [\"standard-form\", \"scrollable\"],\r\n            },\r\n            footer: {\r\n                template: \"templates/generic/form-footer.hbs\",\r\n            }\r\n        };\r\n    }\r\n\r\n    async _prepareContext(options) {\r\n        const sett = game.settings.get(MODULE_ID, this.SETTING_KEY);\r\n        const compendiums = Array.from(game.packs);\r\n        const data = [];\r\n        for (const compendium of compendiums) {\r\n            const id = compendium.metadata.id;\r\n            data.push({\r\n                id,\r\n                checked: sett[id] ?? true,\r\n                name: compendium.metadata.label,\r\n                package: (compendium.metadata.packageType === \"system\" ? game.system.title : game.modules.get(compendium.metadata.packageName)?.title) ?? game.i18n.localize(\"PACKAGE.Type.world\"),\r\n            });\r\n        }\r\n\r\n        //sort by package name\r\n        data.sort((a, b) => a.package.localeCompare(b.package));\r\n\r\n        const compendiumsByPackage = {};\r\n        for (const compendium of data) {\r\n            if (!compendiumsByPackage[compendium.package]) {\r\n                compendiumsByPackage[compendium.package] = [];\r\n            }\r\n            compendiumsByPackage[compendium.package].push(compendium);\r\n        }\r\n        // Sort by package name\r\n        for (const p in compendiumsByPackage) {\r\n            compendiumsByPackage[p].sort((a, b) => a.name.localeCompare(b.name));\r\n        }\r\n\r\n        const checkAllButton = {\r\n            type: \"button\",\r\n            action: \"onCheckAll\",\r\n            icon: \"fas fa-check-square\",\r\n            label: \"Select All\",\r\n        };\r\n        const uncheckAllButton = {\r\n            type: \"button\",\r\n            action: \"onUncheckAll\",\r\n            icon: \"fas fa-square\",\r\n            label: \"Unselect All\",\r\n        };\r\n        const saveButton = {\r\n            type: \"submit\",\r\n            action: \"submit\",\r\n            icon: \"fas fa-save\",\r\n            label: \"Save\",\r\n        };\r\n        return { compendiumsByPackage, buttons: [checkAllButton, uncheckAllButton, saveButton] };\r\n    }\r\n\r\n    _onRender(context, options) {\r\n        super._onRender(context, options);\r\n        const html = this.element;\r\n        html.querySelectorAll(\".check-all\").forEach((el) => {\r\n            el.addEventListener(\"click\", (event) => {\r\n                event.preventDefault();\r\n                const group = el.closest(\"fieldset\").querySelectorAll(\"input[type=checkbox]\");\r\n                for (const checkbox of group) {\r\n                    checkbox.checked = true;\r\n                }\r\n            });\r\n        });\r\n        html.querySelectorAll(\".uncheck-all\").forEach((el) => {\r\n            el.addEventListener(\"click\", (event) => {\r\n                event.preventDefault();\r\n                const group = el.closest(\"fieldset\").querySelectorAll(\"input[type=checkbox]\");\r\n                for (const checkbox of group) {\r\n                    checkbox.checked = false;\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    static checkAll() {\r\n        for (const checkbox of this.element.querySelectorAll(\"input[type=checkbox]\")) {\r\n            checkbox.checked = true;\r\n        }\r\n    }\r\n\r\n    static uncheckAll() {\r\n        for (const checkbox of this.element.querySelectorAll(\"input[type=checkbox]\")) {\r\n            checkbox.checked = false;\r\n        }\r\n    }\r\n\r\n    static async #onSubmit() {\r\n        const form = this.element;\r\n        const formData = new foundry.applications.ux.FormDataExtended(form).object;\r\n        const result = await game.settings.set(MODULE_ID, this.SETTING_KEY, formData);\r\n        CONFIG.SpotlightOmnisearch.rebuildIndex();\r\n        return result;\r\n    }\r\n\r\n    static register() {\r\n        game.settings.registerMenu(MODULE_ID, this.APP_ID, {\r\n            name: game.i18n.localize(`${MODULE_ID}.settings.${this.SETTING_KEY}.name`),\r\n            label: game.i18n.localize(`${MODULE_ID}.settings.${this.SETTING_KEY}.label`),\r\n            hint: game.i18n.localize(`${MODULE_ID}.settings.${this.SETTING_KEY}.hint`),\r\n            icon: \"fas fa-atlas\",\r\n            type: this,\r\n            restricted: true,\r\n            scope: \"world\",\r\n        });\r\n\r\n        game.settings.register(MODULE_ID, this.SETTING_KEY, {\r\n            scope: \"world\",\r\n            config: false,\r\n            default: {},\r\n            type: Object,\r\n        });\r\n    }\r\n}\r\n","import { MODULE_ID } from \"../main.js\";\r\nimport { SPECIAL_SEARCHES } from \"../searchTerms/special.js\";\r\n\r\nimport { INDEX, FILE_INDEX, buildIndex, FILTERS } from \"../searchTerms/buildTermIndex.js\";\r\nimport { getSetting, setSetting } from \"../settings.js\";\r\nimport { BaseSearchTerm } from \"../searchTerms/baseSearchTerm.js\";\r\nimport { HandlebarsApplication, mergeClone } from \"../lib/utils.js\";\r\n\r\nlet SPOTLIGHT_WIDTH = 700;\r\n\r\nlet LAST_SEARCH = { query: \"\", filters: [] };\r\n\r\nlet LAST_INPUT_TIME = 0;\r\n\r\nexport class Spotlight extends HandlebarsApplication {\r\n    constructor({ first, toTaskbar, isPrompt, promptOptions } = {}) {\r\n        super();\r\n        SPOTLIGHT_WIDTH = getSetting(\"spotlightWidth\") || 700;\r\n        this.promise = new Promise((resolve) => {\r\n            this._resolve = resolve;\r\n        });\r\n        this.noTitleBar = true;\r\n        this.first = first;\r\n        this.toTaskbar = toTaskbar;\r\n        this.isPrompt = isPrompt;\r\n        this.promptOptions = promptOptions;\r\n        this.ACTOR_ITEMS_INDEX = [];\r\n        ui.spotlightOmnisearch?.close();\r\n        ui.spotlightOmnisearch = this;\r\n        this._onSearch = foundry.utils.debounce(this._onSearch, 167);\r\n        this.updateStoredPosition = foundry.utils.debounce(this.updateStoredPosition, 167);\r\n        document.addEventListener(\"mousedown\", Spotlight.onClickAway);\r\n        this.indexActorItems();\r\n    }\r\n    static get DEFAULT_OPTIONS() {\r\n        return mergeClone(super.DEFAULT_OPTIONS, {\r\n            classes: getSetting(\"compactMode\") ? [\"compact\"] : [],\r\n            window: {\r\n                title: `${MODULE_ID}.${this.APP_ID}.title`,\r\n            },\r\n            position: {\r\n                width: SPOTLIGHT_WIDTH,\r\n                height: \"auto\",\r\n            },\r\n        });\r\n    }\r\n\r\n    static onClickAway(event) {\r\n        if (!getSetting(\"clickToDismiss\")) return;\r\n        if (event.target.closest(\"#spotlight\")) return;\r\n        ui.spotlightOmnisearch?.close();\r\n    }\r\n\r\n    // get classList() {\r\n    //     return super.classList.concat(getSetting(\"compactMode\") ? [\"compact\"] : [])\r\n    // }\r\n\r\n    indexActorItems() {\r\n        const actors = canvas?.tokens?.controlled.map((token) => token.actor) ?? [];\r\n        if (_token && !actors.includes(_token.actor)) actors.push(_token.actor);\r\n        if (!actors.includes(game.user.character)) actors.push(game.user.character);\r\n        for (const actor of actors) {\r\n            if (!actor) continue;\r\n            const items = actor.items.map((item) => {\r\n                const actions = [];\r\n                if (item.use) {\r\n                    actions.push({\r\n                        name: `${MODULE_ID}.actions.use-item`,\r\n                        icon: '<i class=\"fas fa-hand-paper\"></i>',\r\n                        callback: async () => {\r\n                            item.use();\r\n                        },\r\n                    });\r\n                }\r\n                return new BaseSearchTerm({\r\n                    name: item.name,\r\n                    type: \"Item owned\",\r\n                    description: actor.name,\r\n                    img: item.img,\r\n                    icon: [\"fas fa-user-circle\", \"fas fa-suitcase\"],\r\n                    data: { uuid: item.uuid, documentName: \"Item\" },\r\n                    actions: actions,\r\n                    onClick: async () => {\r\n                        item.sheet.render(true);\r\n                    },\r\n                });\r\n            });\r\n            this.ACTOR_ITEMS_INDEX.push(...items);\r\n        }\r\n    }\r\n\r\n    async _prepareContext(options) {\r\n        const appData = getSetting(\"appData\");\r\n        const saveLastSearch = getSetting(\"saveLastSearch\");\r\n        if (!saveLastSearch) LAST_SEARCH = { query: \"\", filters: [] };\r\n        const timer = appData.timer;\r\n        if (game.user.isGM && timer && Date.now() > timer) {\r\n            delete appData.timer;\r\n            await setSetting(\"appData\", appData);\r\n        }\r\n        return { first: this.first, lastSearch: LAST_SEARCH.query };\r\n    }\r\n\r\n    _onRender(context, options) {\r\n        super._onRender(context, options);\r\n\r\n        const html = this.element;\r\n        const windowApp = html.closest(\"#spotlight\");\r\n        this._html = html;\r\n        \r\n        buildIndex().then((r) => {\r\n            if (r) {\r\n                this._onSearch();\r\n            }\r\n        });\r\n\r\n        if (this.toTaskbar) {\r\n            windowApp.classList.add(\"to-taskbar\");\r\n        }\r\n        const filtersContainer = html.querySelector(\".filters-container\");\r\n        LAST_SEARCH.filters.forEach((filter) => {\r\n            const filterElement = document.createElement(\"span\");\r\n            filterElement.innerText = filter;\r\n            filterElement.classList.add(\"filter\");\r\n            filterElement.dataset.filter = filter;\r\n            filterElement.addEventListener(\"click\", (e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                filterElement.remove();\r\n                this._onSearch();\r\n            });\r\n            filtersContainer.appendChild(filterElement);\r\n        });\r\n        html.querySelector(\"input\").addEventListener(\"input\", this._onSearch.bind(this));\r\n        //if enter is pressed on the search input, click on the first result\r\n        html.querySelector(\"input\").addEventListener(\"keydown\", this._onKeyDown.bind(this));\r\n        //timeout for janky core behavior\r\n        setTimeout(() => {\r\n            //enable the input\r\n            html.querySelector(\"input\").disabled = false;\r\n            //focus the input\r\n            html.querySelector(\"input\").focus();\r\n        }, 50);\r\n\r\n        html.closest(\"#spotlight\").classList.add(\"force-opacity\");\r\n        setTimeout(() => {\r\n            html.closest(\"#spotlight\").classList.remove(\"force-opacity\");\r\n        }, 300);\r\n        const positionType = getSetting(\"position\");\r\n        const storedPosition = getSetting(\"spotlightPosition\");\r\n        if (storedPosition && positionType === \"save\") {\r\n            //check if the stored position is within the window\r\n            if (!(storedPosition.left + SPOTLIGHT_WIDTH > window.innerWidth || storedPosition.top > window.innerHeight || storedPosition.top < 0 || storedPosition.left < 0)) {\r\n                this.setPosition({ left: storedPosition.left, top: storedPosition.top, width: SPOTLIGHT_WIDTH });\r\n            }\r\n        }\r\n        if (getSetting(\"alwaysOnTop\")) html.closest(\"#spotlight\").style.zIndex = \"9999 !important\";\r\n        if (this.first) html.querySelector(\"input\").value = \"?\";\r\n        if (this.promptOptions?.query) html.querySelector(\"input\").value = this.promptOptions.query;\r\n        this._onSearch();\r\n    }\r\n\r\n    setPosition(...args) {\r\n        if (!this.element) return;\r\n        super.setPosition(...args);\r\n        //get max availeble vertical space\r\n        const windowApp = this._html.closest(\"#spotlight\");\r\n        const top = windowApp.getBoundingClientRect().top;\r\n        const searchHeight = 100;\r\n        const maxHeight = window.innerHeight - top - searchHeight;\r\n        const prev = this._html.querySelector(\".search-section\").style.maxHeight;\r\n        this._html.querySelector(\".search-section\").style.maxHeight = `${maxHeight}px`;\r\n        if (prev !== this._html.querySelector(\".search-section\").style.maxHeight) {\r\n            const hasTaskbar = windowApp.classList.contains(\"to-taskbar\");\r\n            windowApp.classList.toggle(\"inverted\", maxHeight < window.innerHeight / 3 || hasTaskbar);\r\n            this.setPosition({ height: \"auto\" });\r\n        }\r\n        this.updateStoredPosition();\r\n    }\r\n\r\n    updateStoredPosition() {\r\n        setSetting(\"spotlightPosition\", { left: this.position.left, top: this.position.top });\r\n    }\r\n\r\n    _getFilters(query) {\r\n        const filters = [];\r\n        while (query.includes(\"!\")) {\r\n            const filter = query.match(/^!(\\S+)/g);\r\n            if (filter) {\r\n                filters.push(filter[0].replace(\"!\", \"\").toLowerCase());\r\n                query = query.replace(filter[0], \"\").trim();\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n        return { filters, query };\r\n    }\r\n\r\n    _onKeyDown(event) {\r\n        const html = this._html;\r\n        const inputTime = Date.now();\r\n        const inputDelta = inputTime - LAST_INPUT_TIME;\r\n        html.querySelector(\".input-suggestion\").innerText = \"\";\r\n        LAST_INPUT_TIME = inputTime;\r\n        if (event.key === \"Enter\") {\r\n            event.preventDefault();\r\n            const isShift = event.shiftKey;\r\n            const isAlt = event.altKey;\r\n            const selected = html.querySelector(\".search-item:not(.type-header).selected\");\r\n            const firstItem = selected ?? html.querySelector(\".search-item:not(.type-header)\");\r\n            const selectedAction = firstItem?.querySelector(\".search-item-actions button.selected\");\r\n            if (selectedAction) {\r\n                selectedAction.click();\r\n                return this.close();\r\n            }\r\n            if (!firstItem) return;\r\n            if (isShift) {\r\n                //find the first action button\r\n                const actionButton = firstItem.querySelector(\".search-item-actions button\");\r\n                if (actionButton) actionButton.click();\r\n            } else if (isAlt) {\r\n                //find the second action button\r\n                const actionButton = firstItem.querySelectorAll(\".search-item-actions button\")[1];\r\n                if (actionButton) actionButton.click();\r\n            } else {\r\n                firstItem?.click();\r\n            }\r\n            this.close();\r\n        }\r\n        //if escape is pressed, close the spotlight\r\n        if (event.key === \"Escape\") {\r\n            this.close();\r\n        }\r\n        //if backspace is pressed and the input is empty, remove the last filter\r\n        if (event.key === \"Backspace\" && !html.querySelector(\"input\").value) {\r\n            const filters = html.querySelectorAll(\".filters-container .filter\");\r\n            const lastFilter = filters[filters.length - 1];\r\n            if (lastFilter) lastFilter.remove();\r\n            this._onSearch();\r\n        }\r\n        //if arrow up or down is pressed, move the selection\r\n        if (event.key === \"ArrowUp\" || event.key === \"ArrowDown\") {\r\n            html.querySelectorAll(\"button\").forEach((button) => button.classList.remove(\"selected\"));\r\n            const selected = html.querySelector(\".search-item.selected\");\r\n            if (!selected) {\r\n                const first = html.querySelector(\".search-item:not(.type-header)\");\r\n                if (first) first.classList.add(\"selected\");\r\n                return;\r\n            }\r\n            let next;\r\n            if (event.ctrlKey) {\r\n                //jump to next or previous type header\r\n                next = selected[event.key === \"ArrowUp\" ? \"previousElementSibling\" : \"nextElementSibling\"];\r\n                while (next && !next.classList.contains(\"type-header\")) {\r\n                    next = next[event.key === \"ArrowUp\" ? \"previousElementSibling\" : \"nextElementSibling\"];\r\n                }\r\n                if (next) {\r\n                    next = next[event.key === \"ArrowUp\" ? \"previousElementSibling\" : \"nextElementSibling\"];\r\n                    //if the key is arrow up, loop until there is a type header above\r\n                    if (event.key === \"ArrowUp\") {\r\n                        while (next && !next.classList.contains(\"type-header\")) {\r\n                            next = next.previousElementSibling;\r\n                        }\r\n                        next = next.nextElementSibling;\r\n                    }\r\n                }\r\n            } else {\r\n                next = selected[event.key === \"ArrowUp\" ? \"previousElementSibling\" : \"nextElementSibling\"];\r\n                if (next && next.classList.contains(\"type-header\")) next = next[event.key === \"ArrowUp\" ? \"previousElementSibling\" : \"nextElementSibling\"];\r\n            }\r\n            if (next) {\r\n                selected.classList.remove(\"selected\");\r\n                next.classList.add(\"selected\");\r\n                //scroll to the selected element\r\n                next.scrollIntoView({ block: \"nearest\", behavior: \"smooth\" });\r\n            }\r\n        }\r\n        //if arrow left or right is pressed, highlight action in currently selected item\r\n        if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\r\n            const selected = html.querySelector(\".search-item.selected\");\r\n            if (!selected) return;\r\n            const actions = selected.querySelectorAll(\".search-item-actions button\");\r\n            if (!actions.length) return;\r\n            const selectedAction = selected.querySelector(\".search-item-actions button.selected\");\r\n            if (!selectedAction) {\r\n                actions[0].classList.add(\"selected\");\r\n                return;\r\n            }\r\n            let next;\r\n            if (event.key === \"ArrowLeft\") {\r\n                next = selectedAction.previousElementSibling ?? actions[actions.length - 1];\r\n            } else {\r\n                next = selectedAction.nextElementSibling ?? actions[0];\r\n            }\r\n            selectedAction.classList.remove(\"selected\");\r\n            next.classList.add(\"selected\");\r\n        }\r\n        //if space + shift is pressed, close the spotlight\r\n        if (event.key === \" \" && event.shiftKey && inputDelta < 400) {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    _onSearch() {\r\n        if (this.closing) return;\r\n        const input = this._html.querySelector(\"input\");\r\n        const inputSuggestion = this._html.querySelector(\".input-suggestion\");\r\n        let query = input.value.toLowerCase();\r\n        query = convertFullWidthToRegular(query);\r\n        const hasSpace = query.includes(\" \");\r\n        query = query.trim();\r\n        if (!query) inputSuggestion.innerText = \"\";\r\n        //check the query for filtered searches such as !keyword\r\n        const filtersData = this._getFilters(query);\r\n        const filters = filtersData.filters;\r\n        query = filtersData.query;\r\n        let hasFilters = filters.length > 0;\r\n        if (hasFilters) {\r\n            const matchedFilters = FILTERS.filter((f) => f.startsWith(filters[0]));\r\n            const suggestionText = `${matchedFilters.join(\" / \")}`.replace(filters[0], \"\");\r\n            const inputSpacer = document.createElement(\"span\");\r\n            inputSpacer.classList.add(\"input-spacer\");\r\n            inputSpacer.innerText = input.value;\r\n            inputSuggestion.appendChild(inputSpacer);\r\n            inputSuggestion.innerHTML += suggestionText;\r\n            // inputSuggestion.innerText = `<span class=\"input-spacer\">${input.value}</span>${suggestionText}`;\r\n        }\r\n        if (hasFilters && hasSpace) {\r\n            const filtersContainer = this._html.querySelector(\".filters-container\");\r\n            filters.forEach((filter) => {\r\n                const filterElement = document.createElement(\"span\");\r\n                const matchingFilters = FILTERS.filter((f) => f.startsWith(filter));\r\n                const singleFilter = matchingFilters.length === 1 ? matchingFilters[0] : filter;\r\n                filterElement.innerText = singleFilter;\r\n                filterElement.classList.add(\"filter\");\r\n                filterElement.dataset.filter = singleFilter;\r\n                filterElement.addEventListener(\"click\", (e) => {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    filterElement.remove();\r\n                    this._onSearch();\r\n                });\r\n\r\n                filtersContainer.appendChild(filterElement);\r\n                input.value = this._html.querySelector(\"input\").value.replace(`!${filter}`, \"\").trim();\r\n                inputSuggestion.innerText = \"\";\r\n            });\r\n        }\r\n        const spanFilters = this._html.querySelectorAll(\".filters-container .filter\");\r\n        spanFilters.forEach((spanFilter) => {\r\n            filters.push(spanFilter.dataset.filter);\r\n        });\r\n        hasFilters = filters.length > 0;\r\n        LAST_SEARCH = {\r\n            query,\r\n            filters,\r\n        };\r\n        const section = this._html.querySelector(\".search-section\");\r\n        const isActiveTimer = !!getSetting(\"appData\").timer;\r\n        section.classList.toggle(\"no-results\", !query && !isActiveTimer && !hasFilters);\r\n        if (!query && !isActiveTimer && !hasFilters) {\r\n            this._html.querySelector(\"#search-result\").innerHTML = \"\";\r\n            this.setPosition({ height: \"auto\" });\r\n            return;\r\n        }\r\n        const results = [];\r\n\r\n        const completeSearch = () => {\r\n            //sort by type\r\n            const types = {\r\n                \"special-app\": [],\r\n                \"recent-searches\": [],\r\n            };\r\n            const useHistory = getSetting(\"useHistory\");\r\n            const recent = useHistory ? getSetting(\"recent\") ?? [] : [];\r\n            const recentHeader = document.createElement(\"li\");\r\n            recentHeader.classList.add(\"type-header\");\r\n            recentHeader.style.justifyContent = \"space-between\";\r\n            recentHeader.style.background = \"none\";\r\n            recentHeader.innerHTML = `${game.i18n.localize(`${MODULE_ID}.recent-searches`)} <span class=\"clear-recent\"><i data-tooltip=\"${game.i18n.localize(`${MODULE_ID}.recent-tooltip`)}\" style=\"cursor: pointer;pointer-events: all;\" class=\"fas fa-trash-clock\"></i></span>`;\r\n            recentHeader.querySelector(\"i\").addEventListener(\"click\", () => {\r\n                setSetting(\"recent\", []);\r\n                this._onSearch();\r\n            });\r\n\r\n            results.forEach((result) => {\r\n                if (recent.includes(result.name)) {\r\n                    types[\"recent-searches\"].push(result);\r\n                    return;\r\n                }\r\n                if (!types[result.type]) types[result.type] = [];\r\n                types[result.type].push(result);\r\n            });\r\n\r\n            let suggestionAdded = false;\r\n\r\n            const list = this._html.querySelector(\"#search-result\");\r\n            list.innerHTML = \"\";\r\n            for (const [type, typeResults] of Object.entries(types)) {\r\n                if (!typeResults.length) continue;\r\n                //sort typeResults by name, then bring to the top the ones that start with the query\r\n                const sortedTypeResults = [];\r\n                const doesNotStartWithQuery = [];\r\n                typeResults.forEach((result) => {\r\n                    const lc = result.name.toLowerCase();\r\n                    if (splitQuery.some((q) => lc.startsWith(q))) sortedTypeResults.push(result);\r\n                    else doesNotStartWithQuery.push(result);\r\n                });\r\n                doesNotStartWithQuery.sort((a, b) => a.name.localeCompare(b.name));\r\n                sortedTypeResults.sort((a, b) => a.name.localeCompare(b.name));\r\n                sortedTypeResults.push(...doesNotStartWithQuery);\r\n\r\n                let typeHeader = document.createElement(\"li\");\r\n                typeHeader.innerText = type\r\n                    .replaceAll(\"-\", \" \")\r\n                    .replaceAll(\" \", \" - \")\r\n                    .replace(/([a-z])([A-Z])/g, \"$1 $2\");\r\n\r\n                typeHeader.classList.add(\"type-header\");\r\n                if (type === \"recent-searches\") typeHeader = recentHeader;\r\n                if (!type.includes(\"special-app\")) list.appendChild(typeHeader);\r\n                sortedTypeResults.forEach((result) => {\r\n                    if (!suggestionAdded) {\r\n                        suggestionAdded = true;\r\n                        if(inputSuggestion.innerText) {\r\n                            inputSuggestion.innerHTML = inputSuggestion.innerText;\r\n                        } else {\r\n                            // const tempSpan = document.createElement(\"div\");\r\n                            // tempSpan.innerHTML = result.name;\r\n                            const inputSpacer = document.createElement(\"span\");\r\n                            inputSpacer.classList.add(\"input-spacer\");\r\n                            inputSpacer.innerText = input.value;\r\n                            inputSuggestion.appendChild(inputSpacer);\r\n                            inputSuggestion.innerHTML += \" \" + result.name;\r\n                        }\r\n\r\n                        // inputSuggestion.appendChild(inputSpacer);\r\n                        // inputSuggestion.innerHTML += \" \" + tempSpan.innerText;\r\n                        // inputSuggestion.innerHTML = !inputSuggestion.innerText ? `<span class=\"input-spacer\">${input.value}</span>` + \" \" + tempSpan.innerText : inputSuggestion.innerText;\r\n                    }\r\n                    list.appendChild(result.element);\r\n                });\r\n            }\r\n            if (!results.length) {\r\n                section.classList.add(\"no-results\");\r\n            }\r\n            this.setPosition({ height: \"auto\" });\r\n            input.placeholder = \"\";\r\n        };\r\n\r\n        query = foundry.applications.ux.SearchFilter.cleanQuery(query);\r\n        //match special searches\r\n        for (const search of SPECIAL_SEARCHES) {\r\n            search.query = query;\r\n            if (hasFilters && !filters.every((filter) => search.type.toLowerCase().includes(filter))) continue;\r\n            if (isActiveTimer && search.type.includes(\"timer\")) {\r\n                results.push(new SearchItem(search));\r\n                if (!query) break;\r\n                continue;\r\n            }\r\n            if (search.match(query)) {\r\n                results.push(new SearchItem(search));\r\n            }\r\n        }\r\n\r\n        const splitQuery = query\r\n            .split(\" \")\r\n            .map((q) => q.trim())\r\n            .filter((q) => q);\r\n\r\n        if (!query && isActiveTimer) {\r\n            return completeSearch();\r\n        }\r\n\r\n        //match actor items\r\n        for (let i = 0; i < this.ACTOR_ITEMS_INDEX.length; i++) {\r\n            if (results.length > 50) break;\r\n            const search = this.ACTOR_ITEMS_INDEX[i];\r\n            search.query = query;\r\n            if (hasFilters && !filters.every((filter) => search.type.toLowerCase().includes(filter))) continue;\r\n            if (splitQuery.every((q) => search.match(q))) {\r\n                results.push(new SearchItem(search));\r\n            }\r\n        }\r\n\r\n        //match index\r\n        for (let i = 0; i < INDEX.length; i++) {\r\n            if (results.length > 50) break;\r\n            const search = INDEX[i];\r\n            search.query = query;\r\n            if (hasFilters && !filters.every((filter) => search.type.toLowerCase().includes(filter))) continue;\r\n            if (splitQuery.every((q) => search.match(q))) {\r\n                results.push(new SearchItem(search));\r\n            }\r\n        }\r\n\r\n        //match file index\r\n        for (let i = 0; i < FILE_INDEX.length; i++) {\r\n            if (results.length > 50) break;\r\n            const search = FILE_INDEX[i];\r\n            search.query = query;\r\n            if (hasFilters && !filters.some((filter) => search.type.toLowerCase().includes(filter))) continue;\r\n            if (splitQuery.every((q) => search.match(q))) {\r\n                results.push(new SearchItem(search));\r\n            }\r\n        }\r\n\r\n        //set the list to the results\r\n        completeSearch();\r\n    }\r\n\r\n    setDraggingState(toggle) {\r\n        setTimeout(() => {\r\n            this._html.closest(\"#spotlight\").classList.toggle(\"dragging\", toggle);\r\n        }, 1);\r\n    }\r\n\r\n    async close(options = {}) {\r\n        ui.spotlightOmnisearch = null;\r\n        this._resolve(options.result);\r\n        document.removeEventListener(\"mousedown\", Spotlight.onClickAway);\r\n        return super.close(options);\r\n    }\r\n\r\n    static toTaskbar({ left, bottom }) {\r\n        new Spotlight({ toTaskbar: left }).render({force: true, position: {left}});\r\n    }\r\n}\r\n\r\nfunction convertFullWidthToRegular(text) {\r\n    const fullWidthNumbers = \"\";\r\n    const regularNumbers = \"0123456789\";\r\n    const regex = new RegExp(\"[\" + fullWidthNumbers + \"]\", \"g\");\r\n    return text.replace(regex, function (match) {\r\n        return regularNumbers[fullWidthNumbers.indexOf(match)];\r\n    });\r\n}\r\n\r\nlet localizations = null;\r\n\r\nfunction loadBasicLocalizations() {\r\n    localizations = {\r\n        MACRO: game.i18n.localize(\"DOCUMENT.Macro\"),\r\n        JOURNAL_ENTRY: game.i18n.localize(\"DOCUMENT.JournalEntry\"),\r\n        ROLL_TABLE: game.i18n.localize(\"DOCUMENT.RollTable\"),\r\n        PLAYLIST: game.i18n.localize(\"DOCUMENT.Playlist\"),\r\n        SCENE: game.i18n.localize(\"DOCUMENT.Scene\"),\r\n        JOURNAL_ENTRY_PAGE: game.i18n.localize(\"DOCUMENT.JournalEntryPage\"),\r\n    };\r\n}\r\n\r\nclass SearchItem {\r\n    constructor(searchTerm) {\r\n        if (!localizations) loadBasicLocalizations();\r\n        this.name = searchTerm.name;\r\n        this.nameExtra = searchTerm.nameExtra ?? \"\";\r\n        this.description = searchTerm.description;\r\n        this.type = searchTerm.type;\r\n        this.isSpecialApp = this.type.includes(\"special-app\");\r\n        this.data = searchTerm.data;\r\n        this.img = searchTerm.img;\r\n        this.dragData = searchTerm.dragData;\r\n        this.actions = searchTerm.actions;\r\n        if (!getSetting(\"showImages\")) this.img = null;\r\n        this.icon = Array.isArray(searchTerm.icon) ? searchTerm.icon : [searchTerm.icon];\r\n        this.element = document.createElement(\"li\");\r\n        this.element._searchItem = this;\r\n        this.element.classList.add(\"search-item\", ...this.type.split(\" \"));\r\n        if (this.icon.length > 1) {\r\n            this.element.classList.add(\"multi-icons\");\r\n        }\r\n        this.searchTerm = searchTerm;\r\n        this.render();\r\n        this.addElementListeners();\r\n    }\r\n\r\n    addElementListeners() {\r\n        this.element.addEventListener(\"click\", (e) => {\r\n            if (!this.isSpecialApp) updateRecent(this.name);\r\n            if (ui.spotlightOmnisearch.isPrompt) return ui.spotlightOmnisearch.close({ result: this.searchTerm });\r\n            this.searchTerm.onClick?.(e, this.searchTerm);\r\n        });\r\n        this.setDraggable();\r\n\r\n        if (!!getSetting(\"appData\").timer && this.type.includes(\"timer\")) {\r\n            let interval;\r\n            interval = setInterval(() => {\r\n                //if the element is removed from the dom, clear the interval\r\n                if (!document.body.contains(this.element)) {\r\n                    clearInterval(interval);\r\n                    return;\r\n                }\r\n\r\n                this.name = this.searchTerm.name;\r\n                this.render();\r\n            }, 1000);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const icons = this.icon.map((icon) => `<i class=\"${icon}\"></i>`).join(\"\");\r\n        this.element.innerHTML = `${this.img ? `<img src=\"${this.img}\" alt=\"${this.name}\">` : \"\"} ${icons} <div class=\"search-info\"><span class=\"search-entry-name\">${this.name + this.nameExtra}</span>${this.description ? `<p>${this.description}</p>` : \"\"}</div>`;\r\n        const actions = this.getActions();\r\n        if (actions) {\r\n            const isJournalOrPage = this.data?.documentName?.includes(\"Journal\");\r\n            //wrap name in a div so we can insert the actions after it\r\n            const wrapper = document.createElement(\"div\");\r\n            if (actions.actions.length <= 3 && !isJournalOrPage) {\r\n                wrapper.classList.add(\"search-entry-name-wrapper\");\r\n            }\r\n            wrapper.appendChild(this.element.querySelector(\".search-entry-name\"));\r\n            //set as first child of search-info\r\n            this.element.querySelector(\".search-info\").insertAdjacentElement(\"afterbegin\", wrapper);\r\n            wrapper.appendChild(actions.actionsContainer);\r\n        }\r\n        const settingToggle = this.element.querySelector(\".s-toggle-setting\");\r\n        if (settingToggle) {\r\n            settingToggle.addEventListener(\"click\", (e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                const state = game.settings.get(settingToggle.dataset.namespace, settingToggle.dataset.key);\r\n                game.settings.set(settingToggle.dataset.namespace, settingToggle.dataset.key, !state);\r\n                settingToggle.classList.remove(\"fa-toggle-on\", \"fa-toggle-off\");\r\n                settingToggle.classList.add(`fa-toggle-${!state ? \"on\" : \"off\"}`);\r\n            });\r\n        }\r\n        this.searchTerm.activateListeners?.(this.element);\r\n    }\r\n\r\n    getActions() {\r\n        const actions = [...this.actions] ?? [];\r\n        const isCompendiumDocument = this.data.uuid?.includes(\"Compendium\");\r\n        if (this.type.includes(localizations.MACRO)) {\r\n            actions.push({\r\n                name: `${MODULE_ID}.actions.execute`,\r\n                icon: '<i class=\"fas fa-terminal\"></i>',\r\n                callback: async () => {\r\n                    (await fromUuid(this.data.uuid)).execute();\r\n                },\r\n            });\r\n        } else if (this.type == localizations.SCENE && !isCompendiumDocument) {\r\n            actions.push(\r\n                {\r\n                    name: `${MODULE_ID}.actions.view`,\r\n                    icon: '<i class=\"fas fa-eye\"></i>',\r\n                    callback: async () => {\r\n                        (await fromUuid(this.data.uuid)).view();\r\n                    },\r\n                },\r\n                {\r\n                    name: `${MODULE_ID}.actions.activate`,\r\n                    icon: '<i class=\"fas fa-play\"></i>',\r\n                    callback: async () => {\r\n                        (await fromUuid(this.data.uuid)).activate();\r\n                    },\r\n                },\r\n                {\r\n                    name: `${MODULE_ID}.actions.preload`,\r\n                    icon: '<i class=\"fas fa-download\"></i>',\r\n                    callback: async () => {\r\n                        const scene = fromUuidSync(this.data.uuid);\r\n                        game.scenes.preload(scene.id, true);\r\n                    },\r\n                },\r\n            );\r\n        } else if (this.type.includes(localizations.ROLL_TABLE)) {\r\n            actions.push({\r\n                name: `${MODULE_ID}.actions.roll-table`,\r\n                icon: '<i class=\"fas fa-dice-d20\"></i>',\r\n                callback: async () => {\r\n                    (await fromUuid(this.data.uuid)).draw();\r\n                },\r\n            });\r\n        } else if (this.type.includes(localizations.PLAYLIST)) {\r\n            const playlist = fromUuidSync(this.data.uuid);\r\n            if (playlist && !isCompendiumDocument) {\r\n                if (playlist.playing) {\r\n                    actions.push({\r\n                        name: `${MODULE_ID}.actions.stop-playlist`,\r\n                        icon: '<i class=\"fas fa-stop\"></i>',\r\n                        callback: async () => {\r\n                            playlist.stopAll();\r\n                        },\r\n                    });\r\n                } else {\r\n                    actions.push({\r\n                        name: `${MODULE_ID}.actions.play-playlist`,\r\n                        icon: '<i class=\"fas fa-play\"></i>',\r\n                        callback: async () => {\r\n                            playlist.playAll();\r\n                        },\r\n                    });\r\n                }\r\n            }\r\n        } else if (this.type.includes(localizations.JOURNAL_ENTRY) || this.type.includes(localizations.JOURNAL_ENTRY_PAGE)) {\r\n            const query = this.searchTerm.query.toLowerCase();\r\n            const matchingActions = actions.filter((action) => action.name.toLowerCase().includes(query));\r\n            if (matchingActions.length) {\r\n                actions.length = 0;\r\n                actions.push(...matchingActions);\r\n            }\r\n        }\r\n\r\n        if (!actions.length) return null;\r\n        const actionsContainer = document.createElement(\"div\");\r\n        actionsContainer.classList.add(\"search-item-actions\");\r\n        actions.forEach((action) => {\r\n            const button = document.createElement(\"button\");\r\n            button.innerHTML = action.icon + \" \" + game.i18n.localize(action.name);\r\n            button.addEventListener(\"click\", (e) => {\r\n                if (!this.isSpecialApp) updateRecent(this.name);\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                action.callback(e);\r\n            });\r\n            actionsContainer.appendChild(button);\r\n        });\r\n        return { actionsContainer, actions };\r\n    }\r\n\r\n    setDragging(event) {\r\n        this.searchTerm.onDragStart?.(event);\r\n        setTimeout(() => {\r\n            document.querySelector(\"#spotlight\").classList.add(\"dragging\");\r\n        }, 1);\r\n    }\r\n\r\n    endDragging(event) {\r\n        document.querySelector(\"#spotlight\").classList.remove(\"dragging\");\r\n        this.searchTerm.onDragEnd?.(event);\r\n    }\r\n\r\n    setDraggable() {\r\n        if (this.data.uuid) {\r\n            this.element.setAttribute(\"draggable\", true);\r\n            this.element.addEventListener(\"dragstart\", (event) => {\r\n                this.setDragging(event);\r\n                event.dataTransfer.setData(\"text/plain\", JSON.stringify({ type: this.data.documentName, uuid: this.data.uuid }));\r\n            });\r\n            this.element.addEventListener(\"dragend\", (event) => {\r\n                this.endDragging(event);\r\n            });\r\n        }\r\n        if (this.dragData) {\r\n            this.element.setAttribute(\"draggable\", true);\r\n            this.element.addEventListener(\"dragstart\", (event) => {\r\n                this.setDragging(event);\r\n                event.dataTransfer.setData(\"text/plain\", JSON.stringify(this.dragData));\r\n            });\r\n            this.element.addEventListener(\"dragend\", (event) => {\r\n                this.endDragging(event);\r\n            });\r\n            this.element.addEventListener(\"drop\", (event) => {\r\n                this.searchTerm.onDrop?.(event);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nfunction updateRecent(name) {\r\n    const useHistory = getSetting(\"useHistory\");\r\n    if (!useHistory) return;\r\n    const recent = getSetting(\"recent\") ?? [];\r\n    if (recent.includes(name)) return;\r\n    recent.unshift(name);\r\n    if (recent.length > 50) recent.pop();\r\n    return setSetting(\"recent\", recent);\r\n}\r\n","import { CompendiumConfig } from \"./app/CompendiumConfig.js\";\r\nimport { Spotlight } from \"./app/spotlight.js\";\r\nimport { initConfig } from \"./config.js\";\r\nimport { BaseSearchTerm } from \"./searchTerms/baseSearchTerm.js\";\r\nimport { INDEX, buildIndex } from \"./searchTerms/buildTermIndex.js\";\r\nimport { getSetting, registerSettings, setSetting } from \"./settings.js\";\r\nimport { updateTimerInterval } from \"./timer.js\";\r\nimport \"../scss/module.scss\";\r\n\r\nexport const MODULE_ID = \"spotlight-omnisearch\";\r\n\r\nHooks.on(\"init\", () => {\r\n    initConfig();\r\n    registerSettings();\r\n    CompendiumConfig.register();\r\n    CONFIG.SpotlightOmnisearch = {\r\n        app: Spotlight,\r\n        INDEX: INDEX,\r\n        SearchTerm: BaseSearchTerm,\r\n        rebuildIndex: () => buildIndex(true),\r\n        prompt: async (options = {query : \"\"}) => {\r\n            if (!game.user.isGM && getSetting(\"gmOnly\")) return null;\r\n            const current = [...foundry.applications.instances.values()].find((w) => w instanceof Spotlight);\r\n            if (current) {\r\n                current.close();\r\n            }\r\n            const spotlight = new Spotlight({promptOptions: options, isPrompt: true});\r\n            spotlight.render(true);\r\n            return spotlight.promise;\r\n        },\r\n    };\r\n    //setup a getter for the typo in the api config\r\n    Object.defineProperty(CONFIG, \"SpotlightOmniseach\", {\r\n        get: () => {\r\n            console.warn(\"The CONFIG.SpotlightOmniseach contained a typo, please update your modules to use the correct spelling by using CONFIG.SpotlightOmnisearch. This will be removed in version 1.0.0.\");\r\n            return CONFIG.SpotlightOmnisearch;\r\n        },\r\n    });\r\n});\r\n\r\nHooks.once(\"canvasReady\", () => {\r\n    if (getSetting(\"firstTime\")) {\r\n        setTimeout(() => {\r\n            if (!game.user.isGM && getSetting(\"gmOnly\")) return;\r\n            new Spotlight({ first: true }).render(true);\r\n        }, 1000);\r\n        setSetting(\"firstTime\", false);\r\n    }\r\n});\r\n\r\nHooks.on(\"ready\", () => {\r\n    if (getSetting(\"enableCtrlSpace\")) {\r\n        //hardcode a ctrl + space hotkey\r\n        document.addEventListener(\"keydown\", (e) => {\r\n            if (e.ctrlKey && e.key === \" \") {\r\n                if (!game.user.isGM && getSetting(\"gmOnly\")) return;\r\n                const current = [...foundry.applications.instances.values()].find((w) => w instanceof Spotlight);\r\n                if (current) {\r\n                    current.close();\r\n                } else {\r\n                    new Spotlight().render(true);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    updateTimerInterval();\r\n});\r\n\r\nHooks.on(\"init\", () => {\r\n    game.keybindings.register(MODULE_ID, \"toggleSpotlight\", {\r\n        name: `${MODULE_ID}.hotkeys.toggleSpotlight.name`,\r\n        editable: [{ key: \"Space\", modifiers: [\"Shift\"] }],\r\n        restricted: false,\r\n        precedence: CONST.KEYBINDING_PRECEDENCE.PRIORITY,\r\n        onDown: (e) => {\r\n            if (!game.user.isGM && getSetting(\"gmOnly\")) return;\r\n            const current = [...foundry.applications.instances.values()].find((w) => w instanceof Spotlight);\r\n            if (current) {\r\n                current.close();\r\n            } else {\r\n                new Spotlight().render(true);\r\n            }\r\n        },\r\n    });\r\n});\r\n","import { BaseSearchTerm } from \"./baseSearchTerm\";\r\nimport { MODULE_ID } from \"../main\";\r\nimport {getSetting, setSetting} from \"../settings\";\r\nimport { FILTERS } from \"./buildTermIndex\";\r\n\r\nexport const SPECIAL_SEARCHES = [];\r\n\r\nlet LAST_COUNTER_FOCUS = null;\r\n\r\nexport async function initSpecialSearches() {\r\n    SPECIAL_SEARCHES.length = 0;\r\n\r\n    const NOTE_MATCHING = [\"notes\", \"note:\", \"notes:\", \"n:\", \"n \", game.i18n.localize(`${MODULE_ID}.special.note.local-keyword`)];\r\n    const ROLL_MATCHING = [\"!roll\", \"roll:\", \"r:\", \"r \", game.i18n.localize(`${MODULE_ID}.special.roll.local-keyword`)];\r\n    const TIMER_MATCHING = [\"timer:\", \"time\", \"time:\", \"t:\", \"t \", game.i18n.localize(`${MODULE_ID}.special.timer.local-keyword`)];\r\n    const TRACKER_MATCHING = [\"tracker:\", \"t:\", \"t \", \"track\", \"track:\", \"s:\", \"s \", \"f:\", \"f \", game.i18n.localize(`${MODULE_ID}.special.tracker.local-keyword`)];\r\n    const COUNTER_MATCHING = [\"counter:\", \"c:\", \"c \", \"count\", \"count:\", \"c:\", \"c \", game.i18n.localize(`${MODULE_ID}.special.counter.local-keyword`)];\r\n\r\n    const UNITS_MAPPING = {\r\n        ft: (value) => value * 0.3048 + \"m\",\r\n        in: (value) => value * 2.54 + \"cm\",\r\n        yd: (value) => value * 0.9144 + \"m\",\r\n        mi: (value) => value * 1.60934 + \"km\",\r\n        lb: (value) => value * 0.453592 + \"kg\",\r\n        lbs: (value) => value * 0.453592 + \"kg\",\r\n        oz: (value) => value * 28.3495 + \"g\",\r\n        gal: (value) => value * 3.78541 + \"l\",\r\n        pt: (value) => value * 473.176 + \"ml\",\r\n        \"fl oz\": (value) => value * 29.5735 + \"ml\",\r\n        tbsp: (value) => value * 14.7868 + \"ml\",\r\n        f: (value) => ((value - 32) * 5) / 9 + \"c\",\r\n        \"\": (value) => (value * 9) / 5 + 32 + \"f\",\r\n        \"C\": (value) => (value * 9) / 5 + 32 + \"F\",\r\n        \"F\": (value) => ((value - 32) * 5) / 9 + \"C\",\r\n        c: (value) => (value * 9) / 5 + 32 + \"f\",\r\n        m: (value) => value * 3.28084 + \"ft\",\r\n        cm: (value) => value * 0.393701 + \"in\",\r\n        km: (value) => value * 0.621371 + \"mi\",\r\n        kg: (value) => value * 2.20462 + \"lb\",\r\n        g: (value) => value * 0.035274 + \"oz\",\r\n        l: (value) => value * 0.264172 + \"gal\",\r\n        ml: (value) => value * 0.00211338 + \"pt\",\r\n    };\r\n\r\n    const UNITS = Object.keys(UNITS_MAPPING);\r\n\r\n    const LIGHT_LOCALIZATION = game.i18n.localize(`Light`);\r\n\r\n    SPECIAL_SEARCHES.push(\r\n        //Calculator\r\n        new BaseSearchTerm({\r\n            name: function (search) {\r\n                try {\r\n                    return `${eval(search.query)}`;\r\n                } catch {\r\n                    //remove characters from the end until the last character is a number\r\n                    let query = search.query;\r\n                    while (query.length > 0 && isNaN(query[query.length - 1])) {\r\n                        query = query.slice(0, -1);\r\n                    }\r\n                    try {\r\n                        return `${eval(query)}`;\r\n                    } catch {\r\n                        return \"...\";\r\n                    }\r\n                }\r\n            },\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-calculator\",\r\n            match: (query) => {\r\n                return query && query.match(/^[0-9\\+\\-\\*\\/\\(\\)\\.\\s]*$/);\r\n            },\r\n            onClick: function (search) {\r\n                navigator.clipboard.writeText(this.name);\r\n                ui.notifications.info(game.i18n.localize(`${MODULE_ID}.notifications.calc-clipboard`));\r\n            },\r\n        }),\r\n        //unit converter\r\n        new BaseSearchTerm({\r\n            name: function (search) {\r\n                //remove all spaces\r\n                let query = search.query.replaceAll(\" \", \"\");\r\n                //check if the query contains a number and a unit, the number should be matched for plus and minus signs as well\r\n                const numberPart = query.match(/[\\d+-.]+/)?.[0];\r\n                //alpha part should also include the  symbol\r\n                const alphaPart = query.match(/[a-zA-Z]+/)?.[0];\r\n                const closestUnit = UNITS.find((unit) => alphaPart === unit) ?? UNITS.find((unit) => alphaPart.includes(unit));\r\n                if (numberPart && closestUnit) {\r\n                    const value = parseFloat(numberPart);\r\n                    const unit = closestUnit;\r\n                    const converted = UNITS_MAPPING[unit](value);\r\n                    let convertedValue = converted.match(/[\\d+-.]+/)?.[0];\r\n                    const convertedUnit = converted.match(/[a-zA-Z]+/)?.[0];\r\n                    //round to 2 decimal places\r\n                    if (convertedValue) convertedValue = parseFloat(convertedValue).toFixed(2);\r\n                    return `<div class=\"unit-converter-result\"><span>${value} ${unit}</span> <i class=\"fas fa-equals\"></i> <span data-converted=\"${convertedValue}\">${convertedValue} ${convertedUnit}</span></div>`;\r\n                }\r\n                return \"...\";\r\n            },\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-calculator\",\r\n            match: (query) => {\r\n                //remove all spaces\r\n                query = query.replaceAll(\" \", \"\");\r\n                //check if the query contains a number and a unit\r\n                const numberPart = query.match(/[\\d.]+/)?.[0];\r\n                //alpha part should also include the  symbol\r\n                const alphaPart = query.match(/[a-zA-Z]+/)?.[0];\r\n                return numberPart && UNITS.includes(alphaPart);\r\n            },\r\n            onClick: function (event, search) {\r\n                const convertedEl = document.createElement(\"div\");\r\n                convertedEl.innerHTML = search.name;\r\n                const convertedValue = convertedEl.querySelector(\"span[data-converted]\").dataset.converted;\r\n                navigator.clipboard.writeText(convertedValue);\r\n                ui.notifications.info(game.i18n.localize(`${MODULE_ID}.notifications.calc-clipboard`));\r\n            },\r\n        }),\r\n        //notes\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.note.name`),\r\n            description: (search) => {\r\n                const noteText = search.query.replace(/(note|notes|!note|!notes|note:|notes:|!n|n:)/i, \"\").trim();\r\n                return noteText;\r\n            },\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-sticky-note\",\r\n            match: (query) => {\r\n                return NOTE_MATCHING.some((keyword) => query.startsWith(keyword));\r\n            },\r\n            onClick: async function (search) {\r\n                const noteText = this.description;\r\n                if (!noteText) return;\r\n                const journalName = `Omnisearch Notes [${game.user.name}]`;\r\n                let journal = game.journal.getName(journalName);\r\n                if (!journal) {\r\n                    journal = await JournalEntry.create({\r\n                        name: journalName,\r\n                    });\r\n                }\r\n                const todayDate = new Date().toLocaleDateString();\r\n                const nowTime = new Date().toLocaleTimeString();\r\n                let page = journal.pages.getName(todayDate);\r\n                if (!page) {\r\n                    page = await journal.createEmbeddedDocuments(\"JournalEntryPage\", [\r\n                        {\r\n                            name: todayDate,\r\n                            type: \"text\",\r\n                        },\r\n                    ]);\r\n                    page = page[0];\r\n                }\r\n                const currentContent = page.text.content ?? \"\";\r\n                page.update({\r\n                    \"text.content\": `${currentContent} <h3>${nowTime}:</h3><p>${noteText}</p>`,\r\n                });\r\n                ui.notifications.info(game.i18n.localize(`${MODULE_ID}.notifications.note`));\r\n            },\r\n        }),\r\n        //roll\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.roll.name`),\r\n            description: (search) => {\r\n                const rollText = search.query.replace(/(roll|!roll|roll:|!r|r:|r )/i, \"\").trim();\r\n                return rollText;\r\n            },\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-dice-d20\",\r\n            match: (query) => {\r\n                return ROLL_MATCHING.some((keyword) => query.startsWith(keyword));\r\n            },\r\n            onClick: async function (search) {\r\n                new Roll(this.description).toMessage();\r\n            },\r\n        }),\r\n        //help\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.help.name`),\r\n            description: (search) => {\r\n                const listElements = game.i18n.translations[\"spotlight-omnisearch\"].special.help.list;\r\n                const baseDescription = `<ul>${listElements.map((element) => `<li style=\"pointer-events:none\">${element}</li>`).join(\"\")}</ul>`;\r\n                const filterSpans = FILTERS.map((filter) => `<span class=\"filter\" data-filter=\"${filter}\">${filter}</span>`).join(\"\");\r\n                return `${baseDescription} <div class=\"filters-help\">${filterSpans}</div>`;\r\n            },\r\n            type: \"special-app help\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-question\",\r\n            match: (query) => {\r\n                return query.includes(\"help\") || query.startsWith(\"?\");\r\n            },\r\n            onClick: async function (search) {},\r\n        }),\r\n        //timer\r\n        new BaseSearchTerm({\r\n            name: () => {\r\n                let label = game.i18n.localize(`${MODULE_ID}.special.timer.name`);\r\n                const current = getSetting(\"appData\").timer;\r\n                if (current) {\r\n                    const remaining = current - Date.now();\r\n                    if (remaining > 0) {\r\n                        const hours = Math.floor(remaining / 3600000);\r\n                        const minutes = Math.floor((remaining % 3600000) / 60000);\r\n                        let seconds = Math.floor((remaining % 60000) / 1000);\r\n                        if (seconds < 10) seconds = `0${seconds}`;\r\n                        label += `<hr><strong style=\"font-size: larger;\">${hours ? `${hours}:` : \"\"}${minutes ? `${minutes}:` : \"\"}${seconds ? `${seconds}` : \"\"}</strong>`;\r\n                    }\r\n                } else {\r\n                    if (current !== undefined && game.user.isGM) {\r\n                        const setting = getSetting(\"appData\");\r\n                        delete setting.timer;\r\n                        setSetting(\"appData\", setting);\r\n                    }\r\n                }\r\n                return label;\r\n            },\r\n            description: (search) => {\r\n                const noteText = search.query.replace(/(timer|timer:|time|time:|t:|t )/i, \"\").trim();\r\n                const { hours, minutes, seconds } = parseTime(noteText);\r\n                const textOutput = `${hours ? `${hours}h ` : \"\"}${minutes ? `${minutes}m ` : \"\"}${seconds ? `${seconds}s` : \"\"}`;\r\n                return textOutput;\r\n            },\r\n            type: \"special-app timer\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-stopwatch\",\r\n            match: (query) => {\r\n                return TIMER_MATCHING.some((keyword) => query.startsWith(keyword));\r\n            },\r\n            onClick: async function (search) {\r\n                if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.timer-gm`));\r\n                const noteText = this.query.replace(/(timer|timer:|time|time:|t:|t )/i, \"\").trim();\r\n                const { hours, minutes, seconds } = parseTime(noteText);\r\n                const totalSeconds = hours * 3600 + minutes * 60 + seconds;\r\n                if (totalSeconds <= 0) return;\r\n                const startTimestamp = Date.now();\r\n                const endTimestamp = startTimestamp + totalSeconds * 1000;\r\n                const setting = getSetting(\"appData\");\r\n                setting.timer = endTimestamp;\r\n                await setSetting(\"appData\", setting);\r\n                ui.spotlightOmnisearch?._onSearch();\r\n            },\r\n        }),\r\n        //success fail tracker\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.tracker.name`),\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-check-circle\",\r\n            match: (query) => {\r\n                return TRACKER_MATCHING.some((keyword) => query.startsWith(keyword));\r\n            },\r\n            onClick: async function (search) {},\r\n            activateListeners: function (html) {\r\n                const successDotsCount = 7;\r\n                const failDotsCount = 7;\r\n                const setting = getSetting(\"appData\");\r\n                if (!setting.tracker) setting.tracker = { success: 2, fail: 3 };\r\n                let checkedSuccessDotsCount = setting.tracker.success;\r\n                let checkedFailDotsCount = setting.tracker.fail;\r\n                const container = document.createElement(\"div\");\r\n                container.classList.add(\"tracker-container\");\r\n                //create success dots then fail dots separated by a  /\r\n                const successEls = [];\r\n                for (let i = 0; i < successDotsCount; i++) {\r\n                    const dot = document.createElement(\"div\");\r\n                    dot.classList.add(\"tracker-dot\", \"success\");\r\n                    if (i < checkedSuccessDotsCount) dot.classList.add(\"checked\");\r\n                    successEls.push(dot);\r\n                    dot.addEventListener(\"click\", async () => {\r\n                        if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.tracker-gm`));\r\n                        const isChecked = dot.classList.contains(\"checked\");\r\n                        if (isChecked && i === checkedSuccessDotsCount - 1) {\r\n                            dot.classList.remove(\"checked\");\r\n                            setting.tracker.success--;\r\n                            checkedSuccessDotsCount--;\r\n                        } else {\r\n                            //set all dots to unchecked\r\n                            successEls.forEach((el) => el.classList.remove(\"checked\"));\r\n                            for (let j = 0; j <= i; j++) {\r\n                                successEls[j].classList.add(\"checked\");\r\n                            }\r\n                            setting.tracker.success = i + 1;\r\n                            checkedSuccessDotsCount = i + 1;\r\n                        }\r\n                        await setSetting(\"appData\", setting);\r\n                    });\r\n                }\r\n                successEls.reverse().forEach((el) => container.appendChild(el));\r\n                successEls.reverse();\r\n                const slash = document.createElement(\"div\");\r\n                slash.classList.add(\"tracker-slash\");\r\n                slash.innerHTML = `<i class=\"fa-sharp fa-solid fa-slash-forward\"></i>`;\r\n                container.appendChild(slash);\r\n                const failEls = [];\r\n                for (let i = 0; i < failDotsCount; i++) {\r\n                    const dot = document.createElement(\"div\");\r\n                    dot.classList.add(\"tracker-dot\", \"fail\");\r\n                    if (i < checkedFailDotsCount) dot.classList.add(\"checked\");\r\n                    container.appendChild(dot);\r\n                    failEls.push(dot);\r\n                    dot.addEventListener(\"click\", async () => {\r\n                        if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.tracker-gm`));\r\n                        const isChecked = dot.classList.contains(\"checked\");\r\n                        if (isChecked && i === checkedFailDotsCount - 1) {\r\n                            dot.classList.remove(\"checked\");\r\n                            setting.tracker.fail--;\r\n                            checkedFailDotsCount--;\r\n                        } else {\r\n                            //set all dots to unchecked\r\n                            failEls.forEach((el) => el.classList.remove(\"checked\"));\r\n                            for (let j = 0; j <= i; j++) {\r\n                                failEls[j].classList.add(\"checked\");\r\n                            }\r\n                            setting.tracker.fail = i + 1;\r\n                            checkedFailDotsCount = i + 1;\r\n                        }\r\n                        await setSetting(\"appData\", setting);\r\n                    });\r\n                }\r\n                html.querySelector(\".search-info\").appendChild(container);\r\n            },\r\n        }),\r\n        //counter\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.counter.name`),\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-plus-circle\",\r\n            match: (query) => {\r\n                return COUNTER_MATCHING.some((keyword) => query.startsWith(keyword));\r\n            },\r\n            onClick: async function (search) {},\r\n            activateListeners: function (html) {\r\n                const setting = getSetting(\"appData\");\r\n                if (!setting.counter) {\r\n                    setting.counter = [0, 0, 0, 0];\r\n                    setSetting(\"appData\", setting);\r\n                }\r\n                const counterEls = [];\r\n                const container = document.createElement(\"div\");\r\n                container.classList.add(\"counter-container\");\r\n                for (let i = 0; i < 4; i++) {\r\n                    const counter = document.createElement(\"input\");\r\n                    counter.type = \"number\";\r\n                    counter.value = setting.counter[i] || 0;\r\n                    const counterContainer = document.createElement(\"div\");\r\n                    counterContainer.classList.add(\"counter-input-container\");\r\n                    counterContainer.appendChild(counter);\r\n                    const upDownContainer = document.createElement(\"div\");\r\n                    upDownContainer.classList.add(\"up-down-container\");\r\n                    const up = document.createElement(\"i\");\r\n                    up.classList.add(\"fas\", \"fa-chevron-up\");\r\n                    up.addEventListener(\"click\", async () => {\r\n                        if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.counter-gm`));\r\n                        counter.value = parseInt(counter.value) + 1;\r\n                        setting.counter[i] = counter.value;\r\n                        await setSetting(\"appData\", setting);\r\n                    });\r\n                    upDownContainer.appendChild(up);\r\n                    const down = document.createElement(\"i\");\r\n                    down.classList.add(\"fas\", \"fa-chevron-down\");\r\n                    down.addEventListener(\"click\", async () => {\r\n                        if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.counter-gm`));\r\n                        counter.value = parseInt(counter.value) - 1;\r\n                        setting.counter[i] = counter.value;\r\n                        await setSetting(\"appData\", setting);\r\n                    });\r\n                    upDownContainer.appendChild(down);\r\n                    counterContainer.appendChild(upDownContainer);\r\n                    counterEls.push(counterContainer);\r\n                    counter.addEventListener(\"keyup\", async () => {\r\n                        if (!game.user.isGM) return ui.notifications.error(game.i18n.localize(`${MODULE_ID}.notifications.counter-gm`));\r\n                        const currentSetting = getSetting(\"appData\");\r\n                        currentSetting.counter = currentSetting.counter ?? [0, 0, 0, 0];\r\n                        currentSetting.counter[i] = parseInt(counter.value);\r\n                        LAST_COUNTER_FOCUS = i;\r\n                        await setSetting(\"appData\", setting);\r\n                    });\r\n                }\r\n                counterEls.forEach((el) => container.appendChild(el));\r\n                html.querySelector(\".search-info\").appendChild(container);\r\n            },\r\n        }),\r\n        //attribute\r\n        new BaseSearchTerm({\r\n            name: (search) => {\r\n                const attribute = search.query.replace(/(attr:|@)/i, \"\").trim();\r\n                return game.i18n.localize(`${MODULE_ID}.special.attribute.name`) + \": \" + attribute;\r\n            },\r\n            description: (search) => {\r\n                const query = search.query.replace(/(attr:|@)/i, \"\").trim();\r\n                const actors = Array.from(\r\n                    new Set(\r\n                        game.users\r\n                            .map((user) => user.character)\r\n                            .concat(canvas.tokens.controlled.map((token) => token.actor))\r\n                            .filter((actor) => actor && actor.isOwner),\r\n                    ),\r\n                ).sort((a, b) => a.name.localeCompare(b.name));\r\n                const container = document.createElement(\"div\");\r\n                const ul = document.createElement(\"ul\");\r\n                container.appendChild(ul);\r\n                actors.forEach((actor) => {\r\n                    const li = document.createElement(\"li\");\r\n                    let value = query ? foundry.utils.getProperty(actor.system, query) : foundry.utils.getProperty(actor, \"system\");\r\n                    if (value === undefined) {\r\n                        //first remove the last part of the object path\r\n                        const queryWithoutLastPart = query.split(\".\").slice(0, -1).join(\".\");\r\n                        value = queryWithoutLastPart ? foundry.utils.getProperty(actor.system, queryWithoutLastPart) ?? \"?\" : foundry.utils.getProperty(actor, \"system\");\r\n                    }\r\n                    if (typeof value === \"object\") {\r\n                        value = Object.keys(value)\r\n                            .map((key) => `<strong>${key}</strong>`)\r\n                            .join(\", \");\r\n                    } else {\r\n                        value = `<strong>${value}</strong>`;\r\n                    }\r\n                    li.innerHTML = `<div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 5px;width: 100%\"><span>${actor.name}</span><span>${value}</span></div>`;\r\n                    ul.appendChild(li);\r\n                });\r\n                return container.innerHTML;\r\n            },\r\n            type: \"special-app\",\r\n            data: {},\r\n            img: \"\",\r\n            icon: \"fad fa-brackets-curly\",\r\n            match: (query) => {\r\n                return query.startsWith(\"attr:\") || query.startsWith(\"@\");\r\n            },\r\n            onClick: async function (search) {},\r\n        }),\r\n    );\r\n\r\n    function parseTime(input) {\r\n        let hours = 0,\r\n            minutes = 0,\r\n            seconds = 0;\r\n\r\n        // Regular expressions to match different time formats\r\n        const hourMinSecRegex = /(\\d+)[\\s:]+(\\d+)[\\s:]+(\\d+)/;\r\n        const minSecRegex = /(\\d+)[\\s:]+(\\d+)/;\r\n        const minutesRegex = /(\\d+)\\s*m/;\r\n        const secondsRegex = /(\\d+)\\s*s/;\r\n\r\n        // Check each regex pattern against the input\r\n        if (hourMinSecRegex.test(input)) {\r\n            const match = input.match(hourMinSecRegex);\r\n            hours = parseInt(match[1]);\r\n            minutes = parseInt(match[2]);\r\n            seconds = parseInt(match[3]);\r\n        } else if (minSecRegex.test(input)) {\r\n            const match = input.match(minSecRegex);\r\n            minutes = parseInt(match[1]);\r\n            seconds = parseInt(match[2]);\r\n        } else if (minutesRegex.test(input)) {\r\n            const match = input.match(minutesRegex);\r\n            minutes = parseInt(match[1]);\r\n        } else if (secondsRegex.test(input)) {\r\n            const match = input.match(secondsRegex);\r\n            seconds = parseInt(match[1]);\r\n        } else {\r\n            const int = parseInt(input);\r\n            if (!isNaN(int)) {\r\n                seconds = int;\r\n            }\r\n            return { hours, minutes, seconds };\r\n        }\r\n\r\n        return { hours, minutes, seconds };\r\n    }\r\n\r\n    const useMetricForLights = getSetting(\"useMetricForLights\");\r\n    const conversionRatio = useMetricForLights ? 0.3048 : 1;\r\n\r\n    const lightEffects = [\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.torch`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/sundries/lights/torch-black.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 360,\r\n                            bright: 20 * conversionRatio,\r\n                            coloration: 1,\r\n                            dim: 40 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 5,\r\n                                intensity: 5,\r\n                                reverse: false,\r\n                                type: \"torch\",\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#fea50b\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n        //candle\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.candle`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/sundries/lights/candle-lit-yellow.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 360,\r\n                            bright: 5 * conversionRatio,\r\n                            coloration: 1,\r\n                            dim: 10 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 5,\r\n                                intensity: 5,\r\n                                reverse: false,\r\n                                type: \"torch\",\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#fea50b\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n        //lantern\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.lantern`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/sundries/lights/lantern-iron-yellow.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 360,\r\n                            bright: 30 * conversionRatio,\r\n                            coloration: 1,\r\n                            dim: 60 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 5,\r\n                                intensity: 5,\r\n                                reverse: false,\r\n                                type: \"torch\",\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#fea50b\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n        //lantern shut\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.lantern-shut`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/sundries/lights/lantern-steel.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 360,\r\n                            bright: 0,\r\n                            coloration: 1,\r\n                            dim: 5 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 5,\r\n                                intensity: 5,\r\n                                reverse: false,\r\n                                type: \"torch\",\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#fea50b\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n        //magical\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.magical`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/magic/light/explosion-star-glow-blue.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 360,\r\n                            bright: 20 * conversionRatio,\r\n                            coloration: 1,\r\n                            dim: 20 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 2,\r\n                                intensity: 5,\r\n                                reverse: false,\r\n                                type: \"torch\",\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#b3f0ff\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n        //flashlight\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.flashlight`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/magic/light/orb-lightbulb-gray.webp\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            alpha: 0.5,\r\n                            angle: 90,\r\n                            bright: 20 * conversionRatio,\r\n                            coloration: 1,\r\n                            dim: 20 * conversionRatio,\r\n                            luminosity: 0.5,\r\n                            saturation: 0,\r\n                            contrast: 0,\r\n                            shadows: 0,\r\n                            animation: {\r\n                                speed: 2,\r\n                                intensity: 2,\r\n                                reverse: false,\r\n                                type: null,\r\n                            },\r\n                            darkness: {\r\n                                min: 0,\r\n                                max: 1,\r\n                            },\r\n                            color: \"#ffffff\",\r\n                            attenuation: 0.5,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n\r\n        //off\r\n        new BaseSearchTerm({\r\n            name: () => game.i18n.localize(`${MODULE_ID}.special.light.off`),\r\n            description: () => game.i18n.localize(`${MODULE_ID}.special.light.info`),\r\n            img: \"icons/svg/light-off.svg\",\r\n            icon: [\"fas fa-fire-flame\", \"fas fa-sun\"],\r\n            type: LIGHT_LOCALIZATION,\r\n            onClick: async function (search) {\r\n                const updates = canvas.tokens.controlled.map((token) => {\r\n                    return {\r\n                        _id: token.document.id,\r\n                        light: {\r\n                            bright: 0,\r\n                            dim: 0,\r\n                        },\r\n                    };\r\n                });\r\n                canvas.scene.updateEmbeddedDocuments(\"Token\", updates);\r\n            },\r\n        }),\r\n    ];\r\n\r\n    SPECIAL_SEARCHES.push(...lightEffects);\r\n\r\n    //scene darkness action\r\n\r\n    SPECIAL_SEARCHES.push(\r\n        new BaseSearchTerm({\r\n            name: game.i18n.localize(`SCENE.FIELDS.environment.darknessLevel.label`),\r\n            description: \"\",\r\n            keywords: [],\r\n            actions: [\r\n                {\r\n                    name: game.i18n.localize(`${MODULE_ID}.special.darkness.night`),\r\n                    icon: `<i class=\"fas fa-moon\"></i>`,\r\n                    callback: async function () {\r\n                        canvas.scene.update({ darkness: 1 }, { animateDarkness: 10000 });\r\n                    },\r\n                },\r\n                //dawn\r\n                {\r\n                    name: game.i18n.localize(`${MODULE_ID}.special.darkness.dawn`),\r\n                    icon: `<i class=\"fas fa-sunrise\"></i>`,\r\n                    callback: async function () {\r\n                        canvas.scene.update({ darkness: 0.3 }, { animateDarkness: 10000 });\r\n                    },\r\n                },\r\n                //day\r\n                {\r\n                    name: game.i18n.localize(`${MODULE_ID}.special.darkness.day`),\r\n                    icon: `<i class=\"fas fa-sun\"></i>`,\r\n                    callback: async function () {\r\n                        canvas.scene.update({ darkness: 0 }, { animateDarkness: 10000 });\r\n                    },\r\n                },\r\n                //dusk\r\n                {\r\n                    name: game.i18n.localize(`${MODULE_ID}.special.darkness.dusk`),\r\n                    icon: `<i class=\"fas fa-sunset\"></i>`,\r\n                    callback: async function () {\r\n                        canvas.scene.update({ darkness: 0.7 }, { animateDarkness: 10000 });\r\n                    },\r\n                },\r\n            ],\r\n            type: game.i18n.localize(`SCENES.Darkness`),\r\n            data: {},\r\n            img: null,\r\n            icon: [\"fas fa-moon-over-sun\"],\r\n            onClick: async function () {},\r\n        }),\r\n    );\r\n\r\n    if (game.modules.get(\"splatter\")?.active) {\r\n        const getSplatterData = (actor) => {\r\n            const maxHpPath = game.settings.get(\"splatter\", \"maxHp\");\r\n            const currentHpPath = game.settings.get(\"splatter\", \"currentHp\");\r\n            const isWoundSystem = game.settings.get(\"splatter\", \"useWounds\");\r\n            const currentHPValue = foundry.utils.getProperty(actor.system, currentHpPath);\r\n            const maxHPValue = foundry.utils.getProperty(actor.system, maxHpPath);\r\n            const finalPath = `system.${currentHpPath}`;\r\n\r\n            return {\r\n                heal: (amount) => {\r\n                    const newHp = isWoundSystem ? currentHPValue - amount : currentHPValue + amount;\r\n                    actor.update({ [finalPath]: newHp });\r\n                },\r\n                damage: (amount) => {\r\n                    const newHp = isWoundSystem ? currentHPValue + amount : currentHPValue - amount;\r\n                    actor.update({ [finalPath]: newHp });\r\n                },\r\n                kill: () => {\r\n                    isWoundSystem ? actor.update({ [finalPath]: maxHPValue }) : actor.update({ [finalPath]: 0 });\r\n                },\r\n                restore: () => {\r\n                    isWoundSystem ? actor.update({ [finalPath]: 0 }) : actor.update({ [finalPath]: maxHPValue });\r\n                },\r\n            };\r\n        };\r\n\r\n        //add the kill, restore, damage and heal terms\r\n\r\n        SPECIAL_SEARCHES.push(\r\n            //kill\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(`${MODULE_ID}.special.kill.name`),\r\n                description: game.i18n.localize(`${MODULE_ID}.special.kill.description`),\r\n                keywords: [],\r\n                type: \"special-app\",\r\n                data: {},\r\n                img: null,\r\n                icon: [\"fas fa-skull-crossbones\"],\r\n                onClick: async function () {\r\n                    const actors = canvas.tokens.controlled.map((t) => t.actor);\r\n                    actors.forEach((actor) => {\r\n                        const splatterData = getSplatterData(actor);\r\n                        splatterData.kill();\r\n                    });\r\n                },\r\n            }),\r\n            //restore\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(`${MODULE_ID}.special.restore.name`),\r\n                description: game.i18n.localize(`${MODULE_ID}.special.restore.description`),\r\n                keywords: [],\r\n                type: \"special-app\",\r\n                data: {},\r\n                img: null,\r\n                icon: [\"fas fa-heart\"],\r\n                onClick: async function () {\r\n                    const actors = canvas.tokens.controlled.map((t) => t.actor);\r\n                    actors.forEach((actor) => {\r\n                        const splatterData = getSplatterData(actor);\r\n                        splatterData.restore();\r\n                    });\r\n                },\r\n            }),\r\n            //damage\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(`${MODULE_ID}.special.damage.name`),\r\n                description: (search) => {\r\n                    let query = search.query;\r\n                    const numericPartWithSign = query.match(/-?\\d+/);\r\n                    const damageValue = numericPartWithSign ? parseInt(numericPartWithSign[0]) : 0;\r\n                    return damageValue;\r\n                },\r\n                keywords: [],\r\n                type: \"special-app\",\r\n                data: {},\r\n                img: null,\r\n                icon: [\"fas fa-sword\"],\r\n                match: function (query) {\r\n                    //remove numbers from the query\r\n                    query = query.replace(/-?\\d+/g, \"\").trim();\r\n                    return this.name.toLowerCase().includes(query);\r\n                },\r\n                onClick: async function (event, search) {\r\n                    const actors = canvas.tokens.controlled.map((t) => t.actor);\r\n                    const val = parseInt(search.query.match(/-?\\d+/)?.[0] ?? 0);\r\n                    actors.forEach((actor) => {\r\n                        const splatterData = getSplatterData(actor);\r\n                        splatterData.damage(val);\r\n                    });\r\n                },\r\n            }),\r\n            //heal\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(`${MODULE_ID}.special.heal.name`),\r\n                description: (search) => {\r\n                    let query = search.query;\r\n                    const numericPartWithSign = query.match(/-?\\d+/);\r\n                    const healValue = numericPartWithSign ? parseInt(numericPartWithSign[0]) : 0;\r\n                    return healValue;\r\n                },\r\n                keywords: [],\r\n                type: \"special-app\",\r\n                data: {},\r\n                img: null,\r\n                icon: [\"fas fa-plus\"],\r\n                match: function (query) {\r\n                    //remove numbers from the query\r\n                    query = query.replace(/-?\\d+/g, \"\").trim();\r\n                    return this.name.toLowerCase().includes(query);\r\n                },\r\n                onClick: async function (event, search) {\r\n                    const actors = canvas.tokens.controlled.map((t) => t.actor);\r\n                    const val = parseInt(search.query.match(/-?\\d+/)?.[0] ?? 0);\r\n                    actors.forEach((actor) => {\r\n                        const splatterData = getSplatterData(actor);\r\n                        splatterData.heal(val);\r\n                    });\r\n                },\r\n            }),\r\n        );\r\n    }\r\n\r\n    //add action for reindexing\r\n    SPECIAL_SEARCHES.push(\r\n        new BaseSearchTerm({\r\n            name: game.i18n.localize(`${MODULE_ID}.special.reindex.name`),\r\n            description: game.i18n.localize(`${MODULE_ID}.special.reindex.description`),\r\n            keywords: [],\r\n            type: game.i18n.localize(`${MODULE_ID}.special.reindex.name`),\r\n            data: {},\r\n            img: null,\r\n            icon: [\"fas fa-search\"],\r\n            onClick: async function () {\r\n                CONFIG.SpotlightOmniseach.rebuildIndex();\r\n            },\r\n        }),\r\n    );\r\n}\r\n","export class BaseSearchTerm {\r\n    /**\r\n     * Creates an instance of BaseSearchTerm.\r\n     * @constructor\r\n     * @param {Object} options - The options for creating the search term.\r\n     * @param {string|Function} options.name - The name or function returning the name of the search term. This will be used to match the search term against a query.\r\n     * @param {string|Function} [options.nameExtra=\"\"] - The additional name or function returning the additional name of the search term. This will be added to the name but will not be used to match the search term against a query.\r\n     * @param {string|Function} [options.description=\"\"] - The description or function returning the description of the search term.\r\n     * @param {Array<string>} [options.keywords=[]] - The array of keywords associated with the search term. This will be used to match the search term against a query.\r\n     * @param {Array<Function>} [options.actions=[]] - The array of actions associated with the search term.\r\n     * @param {*} options.dragData - The data associated with the drag action.\r\n     * @param {string} options.type - The type of the search term. This will be split by space and used to match !type filters.\r\n     * @param {Object} [options.data={}] - Additional data associated with the search term.\r\n     * @param {string} options.img - The image URL associated with the search term.\r\n     * @param {string|Array<string>} options.icon - The icon URL associated with the search term. If 2 icons are provided, they will be rendered on the right of the search term.\r\n     * @param {Function} [options.onClick=null] - The function to handle click events.\r\n     * @param {Function} [options.onDragStart=null] - The function to handle drag start events.\r\n     * @param {Function} [options.onDragEnd=null] - The function to handle drag end events.\r\n     * @param {Function} [options.match=null] - The function to match the search term against a query. If not provided, the name and keywords will be used to match the search term against a query.\r\n     * @param {Function} [options.activateListeners=null] - The function to activate listeners for the search term.\r\n     */\r\n\r\n    constructor({ name, nameExtra = \"\", description = \"\", keywords = [], actions = [], dragData, type, data = {}, img, icon, onClick = null, onDragStart = null, onDragEnd = null, match = null, activateListeners = null }) {\r\n        this._name = typeof name === \"function\" ? name.bind(this) : () => name;\r\n        this._description = typeof description === \"function\" ? description.bind(this) : () => description;\r\n        this._actions = typeof actions === \"function\" ? actions.bind(this) : () => actions;\r\n        this.dragData = dragData;\r\n        this.keywords = keywords.map((keyword) => keyword.toLowerCase());\r\n        this.type = type;\r\n        this.data = data;\r\n        this.img = img;\r\n        this.icon = icon;\r\n        this._nameExtra = typeof nameExtra === \"function\" ? nameExtra.bind(this) : () => nameExtra;\r\n        if (activateListeners) this.activateListeners = activateListeners.bind(this);\r\n        if (onClick) this._onClick = onClick.bind(this);\r\n        if (onDragEnd) this._onDragEnd = onDragEnd.bind(this);\r\n        if (onDragStart) this._onDragStart = onDragStart.bind(this);\r\n        if (match) this.match = match.bind(this);\r\n    }\r\n\r\n    onClick(...args) {\r\n        if (this._onClick) {\r\n            this._onClick(...args);\r\n        }\r\n    }\r\n\r\n    onDragStart(...args) {\r\n        if (this._onDragStart) {\r\n            this._onDragStart(...args);\r\n        }\r\n    }\r\n\r\n    onDragEnd(...args) {\r\n        if (this._onDragEnd) {\r\n            this._onDragEnd(...args);\r\n        }\r\n    }\r\n\r\n    match(query) {\r\n        try {\r\n            const cleanQuery = foundry.applications.ux.SearchFilter.cleanQuery(this.name);\r\n            return cleanQuery.toLowerCase().includes(query) || this.keywords.some((keyword) => keyword.includes(query));\r\n        } catch (error) {\r\n            console.error(`Error matching search term:`, this);\r\n            console.error(error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    get name() {\r\n        return this._name(this);\r\n    }\r\n\r\n    get nameExtra() {\r\n        return this._nameExtra(this);\r\n    }\r\n\r\n    get description() {\r\n        return this._description(this);\r\n    }\r\n\r\n    get actions() {\r\n        return this._actions(this);\r\n    }\r\n}\r\n","import { MODULE_ID } from \"../main\";\r\nimport { getSetting } from \"../settings\";\r\nimport { BaseSearchTerm } from \"./baseSearchTerm\";\r\nimport { initSpecialSearches } from \"./special\";\r\n\r\nconst IMAGE = Object.keys(CONST.IMAGE_FILE_EXTENSIONS);\r\nconst AUDIO = Object.keys(CONST.AUDIO_FILE_EXTENSIONS);\r\nconst VIDEO = Object.keys(CONST.VIDEO_FILE_EXTENSIONS);\r\n\r\nexport const INDEX = [];\r\nexport const FILTERS = [];\r\n\r\nexport let FILE_INDEX = [];\r\n\r\nlet indexBuilt = false;\r\n\r\nexport async function buildIndex(force = false) {\r\n    if (force) {\r\n        indexBuilt = false;\r\n        INDEX.length = 0;\r\n        FILTERS.length = 0;\r\n        FILE_INDEX.length = 0;\r\n    }\r\n    if (indexBuilt) return;\r\n    indexBuilt = true;\r\n\r\n    if (ui.spotlightOmnisearch?._html) {\r\n        const faSearch = ui.spotlightOmnisearch._html.querySelector(\".fa-search\");\r\n        if (faSearch) {\r\n            faSearch.classList.add(\"fa-spin\");\r\n            faSearch.classList.remove(\"fa-search\");\r\n            faSearch.classList.add(\"fa-spinner\");\r\n        }\r\n    }\r\n\r\n    await initSpecialSearches();\r\n    await buildModuleIntegration();\r\n    await buildWeatherEffects();\r\n    if (getSetting(\"searchSettings\")) await buildSettings();\r\n    if (getSetting(\"searchUtils\")) await buildSettingsTab();\r\n    if (getSetting(\"searchSidebar\")) await buildCollections();\r\n    await buildStatusEffects();\r\n    if (getSetting(\"searchCompendium\")) await buildCompendiumIndex();\r\n    if (getSetting(\"searchFiles\")) await buildFiles();\r\n\r\n    const promises = [];\r\n    Hooks.callAll(\"spotlightOmnisearch.indexBuilt\", INDEX, promises);\r\n    await Promise.all(promises);\r\n\r\n    const filters = new Set();\r\n\r\n    INDEX.forEach((term) => {\r\n        filters.add(term.type);\r\n    });\r\n\r\n    let filtersArray = [\"mp3\", \"ogg\", \"webm\", \"webp\", \"png\", \"jpg\", \"jpeg\"];\r\n    Array.from(filters).forEach((filter) => {\r\n        filtersArray.push(...filter.split(\" \").map((f) => f.toLowerCase()));\r\n    });\r\n    filtersArray.sort((a, b) => a.localeCompare(b));\r\n    //remove duplicates\r\n    filtersArray = Array.from(new Set(filtersArray));\r\n    FILTERS.push(...filtersArray);\r\n\r\n    if (ui.spotlightOmnisearch?.rendered) {\r\n        const faSpinner = ui.spotlightOmnisearch._html.querySelector(\".fa-spinner\");\r\n        if (faSpinner) {\r\n            faSpinner.classList.remove(\"fa-spin\");\r\n            faSpinner.classList.remove(\"fa-spinner\");\r\n            faSpinner.classList.add(\"fa-search\");\r\n        }\r\n    }\r\n\r\n    return INDEX;\r\n}\r\n\r\nfunction createDocumentTypeTypeString(documentName, documentType) {\r\n    if (!documentType) return \"\";\r\n    const capitalizedType = documentType.capitalize();\r\n    const validLocStrings = [`${documentName.toUpperCase()}.Type${capitalizedType}`, `TYPES.${documentName}.${documentType}`];\r\n    for (const str of validLocStrings) {\r\n        const loc = game.i18n.localize(str);\r\n        if (str !== loc) return loc;\r\n    }\r\n    return capitalizedType;\r\n}\r\n\r\nasync function buildCompendiumIndex() {\r\n    const allowedCompendiums = getSetting(\"compendiumConfig\");\r\n    const packs = Array.from(game.packs).filter((p) => (game.user.isGM || !p.private) && allowedCompendiums[p.metadata.id] !== false);\r\n    const pageLocalized = game.i18n.localize(\"DOCUMENT.JournalEntryPage\");\r\n    const fullCompendiumJournalIndex = getSetting(\"fullCompendiumJournalIndex\");\r\n    const index = [];\r\n    await Promise.all(packs.map((p) => p.getIndex()));\r\n    const localizedCompendiumName = game.i18n.localize(\"PACKAGE.TagCompendium\");\r\n    for (const pack of packs) {\r\n        const packPackageName = (pack.metadata.packageType === \"system\" ? game.system.title : game.modules.get(pack.metadata.packageName)?.title) ?? game.i18n.localize(\"PACKAGE.Type.world\");\r\n        const packIndex = Array.from(await pack.getIndex());\r\n        const localizedDocumentName = game.i18n.localize(`DOCUMENT.${pack.documentName}`);\r\n\r\n        index.push(\r\n            new BaseSearchTerm({\r\n                name: pack.title,\r\n                description: packPackageName,\r\n                img: pack.banner,\r\n                keywords: [],\r\n                type: localizedCompendiumName,\r\n                data: { ...pack.metadata },\r\n                icon: [CONFIG[pack.documentName].sidebarIcon, \"fas fa-atlas\"],\r\n                onClick: async function () {\r\n                    pack.render(true);\r\n                },\r\n            }),\r\n        );\r\n\r\n        for (const entry of packIndex) {\r\n            if (pack.documentName === \"JournalEntry\" && fullCompendiumJournalIndex) {\r\n                const document = await pack.getDocument(entry._id);\r\n                const actions = [];\r\n                document.pages.forEach((page) => {\r\n                    actions.push({\r\n                        name: page.name,\r\n                        icon: `<i class=\"fa-solid fa-file-lines\"></i>`,\r\n                        callback: async function () {\r\n                            const entity = await fromUuid(document.uuid);\r\n                            entity.sheet.render(true, { pageId: page.id, anchor: null });\r\n                        },\r\n                    });\r\n\r\n                    const pageActions = [];\r\n                    const tocKeywords = [];\r\n\r\n                    if (page.type === \"image\")\r\n                        pageActions.push({\r\n                            name: game.i18n.localize(\"JOURNAL.ActionShow\"),\r\n                            icon: `<i class=\"fa-solid fa-image\"></i>`,\r\n                            callback: async function () {\r\n                                new ImagePopout(page.src, {}).render(true);\r\n                            },\r\n                        });\r\n\r\n                    Object.values(page.toc).forEach((toc) => {\r\n                        tocKeywords.push(toc.text.toLowerCase());\r\n                        pageActions.push({\r\n                            name: toc.text,\r\n                            icon: `<i class=\"fa-solid fa-hashtag\"></i>`,\r\n                            callback: async function () {\r\n                                if (ui.simpleQuest && ui.simpleQuest.isSimpleQuestPage(page.uuid)) return ui.simpleQuest.openToPage(page.uuid, toc.slug);\r\n                                const entity = await fromUuid(document.uuid);\r\n                                entity.sheet.render(true, { pageId: page.id, anchor: toc.slug });\r\n                            },\r\n                        });\r\n                    });\r\n\r\n                    index.push(\r\n                        new BaseSearchTerm({\r\n                            name: page.name + ` (${document.name})`,\r\n                            actions: pageActions,\r\n                            keywords: tocKeywords,\r\n                            description: packPackageName,\r\n                            type: pageLocalized,\r\n                            data: { ...page, documentName: page.documentName, uuid: page.uuid },\r\n                            img: page.img,\r\n                            icon: [\"fas fa-atlas\", \"fas fa-file-lines\"],\r\n                            onClick: async function () {\r\n                                if (ui.simpleQuest && ui.simpleQuest.isSimpleQuestPage(page.uuid)) return ui.simpleQuest.openToPage(page.uuid);\r\n                                const entity = await fromUuid(document.uuid);\r\n                                entity.sheet.render(true, { pageId: page.id, anchor: null });\r\n                            },\r\n                        }),\r\n                    );\r\n                });\r\n\r\n                index.push(\r\n                    new BaseSearchTerm({\r\n                        name: entry.name,\r\n                        description: pack.title + \" - \" + packPackageName,\r\n                        keywords: [pack.title],\r\n                        actions: actions,\r\n                        type: localizedDocumentName + \" \" + localizedCompendiumName + createDocumentTypeTypeString(pack.documentName, entry.type),\r\n                        data: { ...entry, documentName: pack.documentName },\r\n                        img: entry.img,\r\n                        icon: [\"fas fa-atlas\", CONFIG[pack.documentName].sidebarIcon],\r\n                        onClick: async function () {\r\n                            const entity = await fromUuid(entry.uuid);\r\n                            entity.sheet.render(true);\r\n                        },\r\n                    }),\r\n                );\r\n            } else {\r\n                index.push(\r\n                    new BaseSearchTerm({\r\n                        name: entry.name,\r\n                        description: pack.title + \" - \" + packPackageName,\r\n                        keywords: [pack.title],\r\n                        type: localizedDocumentName + \" \" + localizedCompendiumName + createDocumentTypeTypeString(pack.documentName, entry.type),\r\n                        data: { ...entry, documentName: pack.documentName },\r\n                        img: entry.img,\r\n                        icon: [\"fas fa-atlas\", CONFIG[pack.documentName].sidebarIcon],\r\n                        onClick: async function () {\r\n                            const entity = await fromUuid(entry.uuid);\r\n                            entity.sheet.render(true);\r\n                        },\r\n                    }),\r\n                );\r\n            }\r\n        }\r\n    }\r\n    //sort index by type\r\n    index.sort((a, b) => a.type.localeCompare(b.type));\r\n    INDEX.push(...index);\r\n}\r\n\r\nasync function buildCollections() {\r\n    const collections = Array.from(game.collections);\r\n\r\n    const index = [];\r\n\r\n    const exclude = [\"Combat\", \"Setting\", \"FogExploration\", \"ChatMessage\", \"Folder\"];\r\n\r\n    const pageLocalized = game.i18n.localize(\"DOCUMENT.JournalEntryPage\");\r\n\r\n    const playerLocalized = game.i18n.localize(\"PLAYERS.Title\");\r\n\r\n    for (const collection of collections) {\r\n        const localizedCollectionName = game.i18n.localize(`DOCUMENT.${collection.documentName}`);\r\n        if (exclude.includes(collection.documentName)) continue;\r\n        const documents = Array.from(collection);\r\n        documents.forEach((document) => {\r\n            if (!document.testUserPermission(game.user, CONST.DOCUMENT_OWNERSHIP_LEVELS.OBSERVER)) return;\r\n            const keywords = [];\r\n            let description = \"\";\r\n            let extraType = \"\";\r\n            if (document.folder) description = \"<i style='display: inline; opacity: 0.3;' class='fas fa-folder'></i> \" + getFoldersRecursive(document).join(\" / \");\r\n            const actions = [];\r\n            if (collection.documentName === \"JournalEntry\") {\r\n                document.pages.forEach((page) => {\r\n                    if (!page.testUserPermission(game.user, CONST.DOCUMENT_OWNERSHIP_LEVELS.OBSERVER)) return;\r\n                    actions.push({\r\n                        name: page.name,\r\n                        icon: `<i class=\"fa-solid fa-file-lines\"></i>`,\r\n                        callback: async function () {\r\n                            const entity = await fromUuid(document.uuid);\r\n                            entity.sheet.render(true, { pageId: page.id, anchor: null });\r\n                        },\r\n                    });\r\n\r\n                    const pageActions = [];\r\n                    const tocKeywords = [];\r\n\r\n                    if (page.type === \"image\")\r\n                        pageActions.push({\r\n                            name: game.i18n.localize(\"JOURNAL.ActionShow\"),\r\n                            icon: `<i class=\"fa-solid fa-image\"></i>`,\r\n                            callback: async function () {\r\n                                new ImagePopout(page.src, {}).render(true);\r\n                            },\r\n                        });\r\n\r\n                    Object.values(page.toc).forEach((toc) => {\r\n                        tocKeywords.push(toc.text.toLowerCase());\r\n                        pageActions.push({\r\n                            name: toc.text,\r\n                            icon: `<i class=\"fa-solid fa-hashtag\"></i>`,\r\n                            callback: async function () {\r\n                                if (ui.simpleQuest && ui.simpleQuest.isSimpleQuestPage(page.uuid)) return ui.simpleQuest.openToPage(page.uuid, toc.slug);\r\n                                const entity = await fromUuid(document.uuid);\r\n                                entity.sheet.render(true, { pageId: page.id, anchor: toc.slug });\r\n                            },\r\n                        });\r\n                    });\r\n\r\n                    index.push(\r\n                        new BaseSearchTerm({\r\n                            name: page.name + ` (${document.name})`,\r\n                            actions: pageActions,\r\n                            keywords: tocKeywords,\r\n                            description: description,\r\n                            type: pageLocalized,\r\n                            data: { ...page, documentName: page.documentName, uuid: page.uuid },\r\n                            img: page.img,\r\n                            icon: [\"fas fa-earth-europe\", \"fas fa-file-lines\"],\r\n                            onClick: async function () {\r\n                                if (ui.simpleQuest && ui.simpleQuest.isSimpleQuestPage(page.uuid)) return ui.simpleQuest.openToPage(page.uuid);\r\n                                const entity = await fromUuid(document.uuid);\r\n                                entity.sheet.render(true, { pageId: page.id, anchor: null });\r\n                            },\r\n                        }),\r\n                    );\r\n                });\r\n            }\r\n            if (collection.documentName === \"Actor\") {\r\n                const itemPileType = document.flags[\"item-piles\"]?.data?.type;\r\n                if (itemPileType) {\r\n                    keywords.push(itemPileType);\r\n                    extraType += ` ${itemPileType}`;\r\n                }\r\n                if (document.hasPlayerOwner) extraType += ` ${playerLocalized}`;\r\n            }\r\n            index.push(\r\n                new BaseSearchTerm({\r\n                    name: document.name ?? document.speaker?.alias ?? document.content,\r\n                    description: description,\r\n                    keywords: keywords,\r\n                    actions: actions,\r\n                    type: localizedCollectionName + extraType,\r\n                    data: { ...document, documentName: collection.documentName, uuid: document.uuid },\r\n                    img: document.img,\r\n                    icon: [\"fas fa-earth-europe\", CONFIG[collection.documentName].sidebarIcon],\r\n                    onClick: async function () {\r\n                        const entity = await fromUuid(document.uuid);\r\n                        entity.sheet.render(true);\r\n                    },\r\n                }),\r\n            );\r\n        });\r\n    }\r\n\r\n    //sort index by type\r\n    index.sort((a, b) => a.type.localeCompare(b.type));\r\n    INDEX.push(...index);\r\n}\r\n\r\nasync function buildSettings() {\r\n    const index = [];\r\n    const localizedSettingName = game.i18n.localize(\"DOCUMENT.Setting\");\r\n    const processSetting = (setting, isMenu = false) => {\r\n        isMenu = isMenu === true ? true : false;\r\n        if (!setting.name || (!setting.config && !isMenu) || setting.config === false) return;\r\n        if (!game.user.isGM && setting.scope === \"world\") return;\r\n        if (!game.user.isGM && setting.restricted) return;\r\n        let toggle = \"\";\r\n        if (setting.type === Boolean) {\r\n            toggle = () => {\r\n                const state = game.settings.get(setting.namespace, setting.key);\r\n                return `<i class=\"s-toggle-setting fad fa-toggle-${state ? \"on\" : \"off\"}\" data-namespace=\"${setting.namespace}\" data-key=\"${setting.key}\"></i>`;\r\n            };\r\n        }\r\n        const icon = setting.icon ?? \"fas fa-cogs\";\r\n\r\n        let settingNamespace = \"\";\r\n        if (setting.namespace === game.system.id) settingNamespace = game.system.title;\r\n        else if (setting.namespace === \"core\") settingNamespace = game.i18n.localize(\"Core\");\r\n        else settingNamespace = game.modules.get(setting.namespace)?.title;\r\n        if (settingNamespace) settingNamespace = `<strong>${settingNamespace}</strong> - `;\r\n\r\n        index.push(\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(setting.name),\r\n                nameExtra: toggle,\r\n                description: settingNamespace + game.i18n.localize(setting.hint),\r\n                query: setting.key,\r\n                keywords: [`${setting.key}${setting.namespace}`],\r\n                type: localizedSettingName,\r\n                data: { ...setting },\r\n                img: null,\r\n                icon: [icon],\r\n                onClick: async function () {\r\n                    if (isMenu) {\r\n                        new setting.type().render(true);\r\n                        return;\r\n                    }\r\n                    game.settings.sheet.render(true);\r\n                    Hooks.once(\"renderSettingsConfig\", (app, html) => {\r\n                        html = html[0];\r\n                        const settNamespace = setting.namespace === game.system.id ? \"system\" : setting.namespace;\r\n                        const settingTab = html.querySelector(`.category-tab[data-tab=\"${settNamespace}\"]`);\r\n                        if (settingTab) settingTab.click();\r\n                        const settingFG = html.querySelector(`[data-setting-id=\"${setting.namespace + \".\" + setting.key}\"]`);\r\n                        if (settingFG) {\r\n                            setTimeout(() => {\r\n                                settingFG.scrollIntoView({ behavior: \"smooth\" });\r\n                            }, 100);\r\n                            settingFG.style.backgroundColor = \"#0000ff29\";\r\n                        }\r\n                    });\r\n                },\r\n            }),\r\n        );\r\n    };\r\n    game.settings.menus.forEach((s) => processSetting(s, true));\r\n    game.settings.settings.forEach(processSetting);\r\n    const localizedKeybindingsName = game.i18n.localize(\"spotlight-omnisearch.KEYBINDING\");\r\n    game.keybindings.actions.forEach((binding, key) => {\r\n        if (!game.user.isGM && binding.restricted) return;\r\n        const name = game.i18n.localize(binding.name);\r\n        let description = \"\";\r\n        const bindings = game.keybindings.bindings.get(key);\r\n        bindings.forEach((b) => {\r\n            description += `<span class=\"key\">${foundry.applications.sidebar.apps.ControlsConfig.humanizeBinding(b)}</span>`;\r\n        });\r\n        if (binding.hint) description += game.i18n.localize(binding.hint);\r\n        index.push(\r\n            new BaseSearchTerm({\r\n                name: name,\r\n                description: description,\r\n                keywords: [],\r\n                type: localizedKeybindingsName,\r\n                data: { ...binding },\r\n                img: null,\r\n                icon: [\"fas fa-keyboard\"],\r\n                onClick: async function () {\r\n                    new KeybindingsConfig().render(true);\r\n                    Hooks.once(\"renderKeybindingsConfig\", (app, html) => {\r\n                        html = html[0];\r\n                        const tab = html.querySelector(`.tab[data-tab=\"${binding.namespace}\"]`);\r\n                        const bindingFG = tab.querySelector(`[data-action-id=\"${key}\"]`);\r\n                        if (bindingFG) {\r\n                            setTimeout(() => {\r\n                                bindingFG.scrollIntoView({ behavior: \"smooth\" });\r\n                            }, 100);\r\n                            bindingFG.style.backgroundColor = \"#0000ff29\";\r\n                        }\r\n                    });\r\n                },\r\n            }),\r\n        );\r\n    });\r\n    INDEX.push(...index);\r\n}\r\n\r\nasync function buildSettingsTab() {\r\n    const settingsSidebar = document.querySelector(\".settings-sidebar#settings\");\r\n    const buttons = settingsSidebar.querySelectorAll(\"button\");\r\n    const tabSettingsLocalized = game.i18n.localize(\"SIDEBAR.TabSettings\");\r\n    const index = [];\r\n    buttons.forEach((button) => {\r\n        //the button innerhtml is formatted as follows <i class=\"fas fa-cogs\"></i>  Configure Settings\r\n        //extract the text and the i class\r\n        const buttonLabel = button.innerText.trim();\r\n        const i = button.querySelector(\"i\");\r\n        if (!i) return;\r\n        const icon = i.className;\r\n        if (!buttonLabel) return;\r\n        index.push(\r\n            new BaseSearchTerm({\r\n                name: buttonLabel,\r\n                keywords: [],\r\n                type: tabSettingsLocalized,\r\n                data: {},\r\n                img: null,\r\n                icon: [icon],\r\n                onClick: async function () {\r\n                    button.click();\r\n                },\r\n            }),\r\n        );\r\n    });\r\n    INDEX.push(...index);\r\n}\r\n\r\nlet previewAudio = null;\r\n\r\nasync function buildFiles() {\r\n    if (!game.user.isGM) return;\r\n    const fileCache = canvas.deepSearchCache?._fileIndexCache;\r\n    if (!fileCache) return;\r\n    const index = [];\r\n    for (const [fileName, files] of Object.entries(fileCache)) {\r\n        const ext = fileName.split(\".\").pop().toLowerCase();\r\n        let icon = \"fas fa-file\";\r\n        let isImageOrVideo = false;\r\n        let isAudio = false;\r\n        if (IMAGE.includes(ext)) {\r\n            icon = \"fas fa-image\";\r\n            isImageOrVideo = true;\r\n        }\r\n        if (VIDEO.includes(ext)) {\r\n            icon = \"fas fa-film\";\r\n            isImageOrVideo = true;\r\n        }\r\n        if (AUDIO.includes(ext)) {\r\n            icon = \"fas fa-volume-up\";\r\n            isAudio = true;\r\n        }\r\n\r\n        files.forEach((file) => {\r\n            let dropData = null;\r\n            if (isImageOrVideo) {\r\n                dropData = {\r\n                    type: \"Tile\",\r\n                    texture: {\r\n                        src: file,\r\n                    },\r\n                    fromFilePicker: true,\r\n                    tileSize: canvas?.grid?.size ?? 100,\r\n                };\r\n            }\r\n            if (isAudio) {\r\n                dropData = {\r\n                    src: file,\r\n                };\r\n            }\r\n            let onDrop = null;\r\n            const actions = [];\r\n            if (isAudio) {\r\n                onDrop = async function (event) {\r\n                    const target = document.elementFromPoint(event.clientX, event.clientY);\r\n                    if (!target) return;\r\n                    console.log(\"Dropped audio\", target);\r\n                    const isPlaylist = target.closest(\".document.playlist\");\r\n                    const isCanvas = target.closest(\"#board\");\r\n                    if (isPlaylist) {\r\n                        const playlistDocument = game.playlists.get(isPlaylist.dataset.entryId);\r\n                        const fnNoExt = fileName.split(\".\").slice(0, -1).join(\".\");\r\n                        const soundName = decodeURIComponent(fnNoExt);\r\n                        playlistDocument.createEmbeddedDocuments(\"PlaylistSound\", [\r\n                            {\r\n                                name: soundName,\r\n                                path: file,\r\n                            },\r\n                        ]);\r\n                    }\r\n                    if (isCanvas) {\r\n                        const [x, y] = [event.clientX, event.clientY];\r\n                        const t = canvas.stage.worldTransform;\r\n                        const cX = (x - t.tx) / canvas.stage.scale.x;\r\n                        const cy = (y - t.ty) / canvas.stage.scale.y;\r\n                        canvas.sounds.activate();\r\n                        canvas.scene.createEmbeddedDocuments(\"AmbientSound\", [\r\n                            {\r\n                                path: file,\r\n                                radius: canvas.scene.dimensions.distance * 3,\r\n                                x: cX,\r\n                                y: cy,\r\n                            },\r\n                        ]);\r\n                    }\r\n                };\r\n                actions.push({\r\n                    name: game.i18n.localize(`${MODULE_ID}.actions.playForEveryone`),\r\n                    icon: `<i class=\"fas fa-play\"></i>`,\r\n                    callback: async function () {\r\n                        if (previewAudio) previewAudio.stop();\r\n                        await foundry.audio.AudioHelper.play({ src: file, autoplay: true, volume: 0.7, loop: false }, true);\r\n                    },\r\n                });\r\n            }\r\n            index.push(\r\n                new BaseSearchTerm({\r\n                    name: decodeURIComponent(fileName),\r\n                    keywords: [file],\r\n                    type: \"file \" + fileName.split(\".\").pop().toLowerCase(),\r\n                    dragData: dropData,\r\n                    img: null,\r\n                    actions: actions,\r\n                    icon: [icon],\r\n                    onDragEnd: onDrop,\r\n                    onClick: async function () {\r\n                        if (isImageOrVideo) {\r\n                            new ImagePopout(file, {}).render(true);\r\n                        }\r\n                        if (isAudio) {\r\n                            if (previewAudio) previewAudio.stop();\r\n                            previewAudio = await foundry.audio.AudioHelper.play({ src: file, autoplay: true, volume: 0.5, loop: false }, false);\r\n                            const current = previewAudio;\r\n                            setTimeout(() => {\r\n                                if (current === previewAudio) previewAudio.stop();\r\n                            }, 5000);\r\n                        }\r\n                    },\r\n                }),\r\n            );\r\n        });\r\n    }\r\n    FILE_INDEX = index;\r\n}\r\n\r\nfunction getFoldersRecursive(document, folders = []) {\r\n    if (document.folder) folders.push(document.folder.name);\r\n    else return folders;\r\n    return getFoldersRecursive(document.folder, folders);\r\n}\r\n\r\nasync function buildStatusEffects() {\r\n    const effects = CONFIG.statusEffects;\r\n    for (const effect of effects) {\r\n        if (!effect.name) continue;\r\n        INDEX.push(\r\n            new BaseSearchTerm({\r\n                name: () => game.i18n.localize(effect.name),\r\n                keywords: [],\r\n                type: \"statusEffect\",\r\n                data: { ...effect },\r\n                img: effect.icon,\r\n                icon: [\"fas fa-earth-europe\", \"fas fa-bolt\"],\r\n                onClick: async function () {\r\n                    canvas.tokens.controlled.forEach((token) => {\r\n                        token.toggleEffect(effect);\r\n                    });\r\n                },\r\n            }),\r\n        );\r\n    }\r\n}\r\n\r\nasync function buildModuleIntegration() {\r\n    //dfreds\r\n    if (game.modules.get(\"dfreds-convenient-effects\")?.active) {\r\n        const allEffects = game.dfreds.effectInterface.findEffects();\r\n        const moduleName = game.modules.get(\"dfreds-convenient-effects\").title;\r\n        for (const effect of allEffects) {\r\n            INDEX.push(\r\n                new BaseSearchTerm({\r\n                    name: effect.name,\r\n                    description: effect.description,\r\n                    keywords: [],\r\n                    type: moduleName,\r\n                    data: { ...effect },\r\n                    img: effect.img,\r\n                    icon: [\"fas fa-hand-sparkles\", \"fas fa-bolt\"],\r\n                    onClick: async function () {\r\n                        game.dfreds.effectInterface.toggleEffect({effectId: effect.id});\r\n                    },\r\n                }),\r\n            );\r\n        }\r\n    }\r\n\r\n    if (game.itempiles) {\r\n        const users = Array.from(game.users).filter((u) => u !== game.user);\r\n        const actions = users.map((u) => {\r\n            return {\r\n                name: u.name,\r\n                icon: `<i class=\"fas fa-handshake\"></i>`,\r\n                callback: async function () {\r\n                    game.itempiles.API.requestTrade(u);\r\n                },\r\n            };\r\n        });\r\n        INDEX.push(\r\n            new BaseSearchTerm({\r\n                name: game.i18n.localize(\"ITEM-PILES.ContextMenu.RequestTrade\"),\r\n                actions: actions,\r\n                keywords: [],\r\n                type: \"item-piles\",\r\n                data: {},\r\n                img: null,\r\n                icon: [\"fas fa-boxes\"],\r\n                onClick: async function () {\r\n                    game.itempiles.toggle();\r\n                },\r\n            }),\r\n        );\r\n    }\r\n\r\n    if (game.modules.get(\"mastercrafted\")?.active) {\r\n        const recipeBooks = ui.RecipeApp._currentApp._recipeBooks;\r\n        for (const book of recipeBooks) {\r\n            for (const recipe of book.recipes) {\r\n                INDEX.push(\r\n                    new BaseSearchTerm({\r\n                        name: recipe.name,\r\n                        description: book.name,\r\n                        keywords: [],\r\n                        type: \"mastercrafted recipe\",\r\n                        data: {},\r\n                        img: recipe.img,\r\n                        icon: [\"fas fa-book\", \"fas fa-hammer\"],\r\n                        onClick: async function () {\r\n                            new ui.RecipeApp(null, null, recipe.name).render(true);\r\n                        },\r\n                    }),\r\n                );\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nasync function buildWeatherEffects() {\r\n    if (!game.user.isGM) return;\r\n    const weatherFX = CONFIG.weatherEffects;\r\n    for (const [key, effect] of Object.entries(weatherFX)) {\r\n        const isFxMaster = CONFIG.fxmaster && key.includes(\"fxmaster\");\r\n        if (isFxMaster) {\r\n            const FXMKEY = key.replace(\"fxmaster.\", \"\");\r\n            const FXMEffect = CONFIG.fxmaster.particleEffects[FXMKEY];\r\n            INDEX.push(\r\n                new BaseSearchTerm({\r\n                    name: game.i18n.localize(FXMEffect.label),\r\n                    description: FXMEffect.description,\r\n                    keywords: [game.i18n.localize(\"SCENE.FIELDS.weather.label\")],\r\n                    type: \"fxmaster \" + game.i18n.localize(\"SCENE.FIELDS.weather.label\"),\r\n                    img: FXMEffect.icon,\r\n                    icon: [\"fas fa-wand-magic-sparkles\", \"fas fa-cloud-rain\"],\r\n                    onClick: async function () {\r\n                        const currentSceneWeather = game.scenes.viewed.weather;\r\n                        if (currentSceneWeather === key) {\r\n                            game.scenes.viewed.update({ weather: \"\" });\r\n                        } else {\r\n                            game.scenes.viewed.update({ weather: key });\r\n                        }\r\n                    },\r\n                }),\r\n            );\r\n        } else {\r\n            INDEX.push(\r\n                new BaseSearchTerm({\r\n                    name: game.i18n.localize(effect.label),\r\n                    description: effect.description,\r\n                    keywords: [game.i18n.localize(\"SCENE.FIELDS.weather.label\")],\r\n                    type: game.i18n.localize(\"SCENE.FIELDS.weather.label\"),\r\n                    icon: [\"fas fa-map\", \"fas fa-cloud-sun-rain\"],\r\n                    onClick: async function () {\r\n                        const currentSceneWeather = game.scenes.viewed.weather;\r\n                        if (currentSceneWeather === key) {\r\n                            game.scenes.viewed.update({ weather: \"\" });\r\n                        } else {\r\n                            game.scenes.viewed.update({ weather: key });\r\n                        }\r\n                    },\r\n                }),\r\n            );\r\n        }\r\n    }\r\n}\r\n","import { MODULE_ID } from \"./main.js\";\r\nimport {updateTimerInterval} from \"./timer.js\";\r\n\r\nexport function registerSettings() {\r\n    const settings = {\r\n        gmOnly: {\r\n            name: `${MODULE_ID}.settings.gmOnly.name`,\r\n            hint: `${MODULE_ID}.settings.gmOnly.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        compactMode: {\r\n            name: `${MODULE_ID}.settings.compactMode.name`,\r\n            hint: `${MODULE_ID}.settings.compactMode.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n            onChange: (value) => ui.spotlightOmnisearch?.classList.toggle(\"compact\", value),\r\n        },\r\n        clickToDismiss: {\r\n            name: `${MODULE_ID}.settings.clickToDismiss.name`,\r\n            hint: `${MODULE_ID}.settings.clickToDismiss.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        saveLastSearch: {\r\n            name: `${MODULE_ID}.settings.saveLastSearch.name`,\r\n            hint: `${MODULE_ID}.settings.saveLastSearch.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        useHistory: {\r\n            name: `${MODULE_ID}.settings.useHistory.name`,\r\n            hint: `${MODULE_ID}.settings.useHistory.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        position: {\r\n            name: `${MODULE_ID}.settings.position.name`,\r\n            hint: `${MODULE_ID}.settings.position.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: \"save\",\r\n            type: String,\r\n            choices: {\r\n                default: `${MODULE_ID}.settings.position.choices.default`,\r\n                save: `${MODULE_ID}.settings.position.choices.save`,\r\n            },\r\n        },\r\n        alwaysOnTop: {\r\n            name: `${MODULE_ID}.settings.alwaysOnTop.name`,\r\n            hint: `${MODULE_ID}.settings.alwaysOnTop.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        enableCtrlSpace: {\r\n            name: `${MODULE_ID}.settings.enableCtrlSpace.name`,\r\n            hint: `${MODULE_ID}.settings.enableCtrlSpace.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        spotlightWidth: {\r\n            name: `${MODULE_ID}.settings.spotlightWidth.name`,\r\n            hint: `${MODULE_ID}.settings.spotlightWidth.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: 700,\r\n            type: Number,\r\n            range: { min: 400, max: 1000, step: 50 },\r\n        },\r\n        showImages: {\r\n            name: `${MODULE_ID}.settings.showImages.name`,\r\n            hint: `${MODULE_ID}.settings.showImages.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        searchFiles: {\r\n            name: `${MODULE_ID}.settings.searchFiles.name`,\r\n            hint: `${MODULE_ID}.settings.searchFiles.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        searchSettings: {\r\n            name: `${MODULE_ID}.settings.searchSettings.name`,\r\n            hint: `${MODULE_ID}.settings.searchSettings.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        searchCompendium: {\r\n            name: `${MODULE_ID}.settings.searchCompendium.name`,\r\n            hint: `${MODULE_ID}.settings.searchCompendium.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        fullCompendiumJournalIndex: {\r\n            name: `${MODULE_ID}.settings.fullCompendiumJournalIndex.name`,\r\n            hint: `${MODULE_ID}.settings.fullCompendiumJournalIndex.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        searchSidebar: {\r\n            name: `${MODULE_ID}.settings.searchSidebar.name`,\r\n            hint: `${MODULE_ID}.settings.searchSidebar.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        searchUtils: {\r\n            name: `${MODULE_ID}.settings.searchUtils.name`,\r\n            hint: `${MODULE_ID}.settings.searchUtils.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        useMetricForLights: {\r\n            name: `${MODULE_ID}.settings.useMetricForLights.name`,\r\n            hint: `${MODULE_ID}.settings.useMetricForLights.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n        },\r\n        spotlightPosition: {\r\n            scope: \"client\",\r\n            config: false,\r\n            default: null,\r\n            type: Object,\r\n        },\r\n        firstTime: {\r\n            scope: \"client\",\r\n            config: false,\r\n            default: true,\r\n            type: Boolean,\r\n        },\r\n        appData: {\r\n            scope: \"world\",\r\n            config: false,\r\n            default: {},\r\n            type: Object,\r\n            onChange: (value) => {\r\n                if (ui.spotlightOmnisearch?.rendered) {\r\n\r\n                    if(!(\"counter\" in value) || !game.user.isGM) ui.spotlightOmnisearch._onSearch();\r\n                }\r\n                updateTimerInterval();\r\n            },\r\n        },\r\n        recent: {\r\n            scope: \"client\",\r\n            config: false,\r\n            default: [],\r\n            type: Array,\r\n        }\r\n    };\r\n\r\n    registerSettingsArray(settings);\r\n}\r\n\r\nexport function getSetting(key) {\r\n    return game.settings.get(MODULE_ID, key);\r\n}\r\n\r\nexport async function setSetting(key, value) {\r\n    return await game.settings.set(MODULE_ID, key, value);\r\n}\r\n\r\nfunction registerSettingsArray(settings) {\r\n    for (const [key, value] of Object.entries(settings)) {\r\n        game.settings.register(MODULE_ID, key, value);\r\n    }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(208);\n"],"names":["interval","updateTimerInterval","game","user","isGM","clearInterval","intervalSetting","getSetting","timer","setInterval","Date","now","ChatMessage","create","content","i18n","localize","concat","MODULE_ID","speaker","alias","whisper","getWhisperRecipients","appData","setSetting","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","_OverloadYield","k","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperties","_toPropertyKey","key","_toPrimitive","_typeof","toPrimitive","String","Number","_get","Reflect","get","_superPropBase","hasOwnProperty","_getPrototypeOf","getOwnPropertyDescriptor","_setPrototypeOf","_createSuper","_isNativeReflectConstruct","s","constructor","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","HandlebarsApplication","_inherits","foundry","applications","api","HandlebarsApplicationMixin","ApplicationV2","_render","_prepareContext2","_super","_this","_classCallCheck","registerPositionSetting","savePosition","utils","debounce","_createClass","position","positionToSave","left","top","width","height","settings","set","this","APP_ID","setPosition","_get2","_len","args","Array","_key","POSITION_SETTING_REGISTERED","_regeneratorRuntime","mark","_callee","options","data","wrap","_callee$","_context","prev","next","getData","abrupt","stop","_prepareContext","_x","activateListeners","_onRender","context","DEFAULT_OPTIONS","window","preventEscapeClose","instances","id","close","style","display","html","element","_callee2","options1","options2","activeOptions","_args2","_callee2$","_context2","undefined","render","_this$DEFAULT_OPTIONS","register","scope","config","type","default","resetSavedPosition","name","split","join","toLowerCase","template","classes","scrollable","tag","title","frame","positioned","icon","controls","minimizable","resizable","contentTag","contentClasses","actions","form","handler","submitOnChange","closeOnSubmit","mergeClone","obj","other","deepClone","mergeObject","_classStaticPrivateMethodGet","_assertClassBrand","has","CompendiumConfig","_HandlebarsApplicatio","SETTING_KEY","sett","compendiums","_i","_compendiums","_sett$id","_ref","_game$modules$get","compendium","compendiumsByPackage","_i2","_data","_compendium","checkAllButton","uncheckAllButton","saveButton","from","packs","metadata","push","checked","label","package","packageType","system","modules","packageName","sort","b","localeCompare","action","buttons","querySelectorAll","forEach","el","addEventListener","event","preventDefault","_step","_iterator","_createForOfIteratorHelper","closest","err","_step2","_iterator2","charAt","slice","onCheckAll","checkAll","onUncheckAll","uncheckAll","_onSubmit","footer","_step3","_iterator3","_step4","_iterator4","registerMenu","hint","restricted","_onSubmit3","formData","result","ux","FormDataExtended","object","sent","CONFIG","SpotlightOmnisearch","rebuildIndex","isArray","_unsupportedIterableToArray","_n","F","_arrayLikeToArray","toString","test","SPOTLIGHT_WIDTH","LAST_SEARCH","query","filters","LAST_INPUT_TIME","Spotlight","_close","_ui$spotlightOmnisear","first","toTaskbar","isPrompt","promptOptions","promise","_resolve","noTitleBar","ACTOR_ITEMS_INDEX","ui","spotlightOmnisearch","_onSearch","updateStoredPosition","document","onClickAway","indexActorItems","_canvas$tokens$contro","_canvas","_this2","actors","canvas","tokens","controlled","map","token","actor","_token","includes","character","_loop","_this2$ACTOR_ITEMS_IN","items","item","_callback","_onClick","use","callback","BaseSearchTerm","description","img","uuid","documentName","onClick","sheet","_toConsumableArray","_callee3","_callee3$","_context3","lastSearch","_this$promptOptions","_this3","windowApp","_html","buildIndex","classList","add","filtersContainer","querySelector","filter","filterElement","createElement","innerText","dataset","stopPropagation","remove","appendChild","_onKeyDown","setTimeout","disabled","focus","positionType","storedPosition","innerWidth","innerHeight","zIndex","getBoundingClientRect","maxHeight","hasTaskbar","contains","toggle","_getFilters","match","replace","trim","inputTime","inputDelta","isShift","shiftKey","isAlt","altKey","selected","firstItem","selectedAction","click","actionButton","lastFilter","button","ctrlKey","previousElementSibling","nextElementSibling","scrollIntoView","block","behavior","_selectedAction$previ","_selectedAction$nextE","_this4","closing","input","inputSuggestion","hasSpace","convertFullWidthToRegular","text","fullWidthNumbers","regularNumbers","regex","RegExp","indexOf","filtersData","hasFilters","matchedFilters","FILTERS","startsWith","suggestionText","inputSpacer","innerHTML","matchingFilters","singleFilter","spanFilter","section","isActiveTimer","results","completeSearch","_getSetting","types","recent","recentHeader","justifyContent","background","suggestionAdded","list","_loop2","_Object$entries$_i","_slicedToArray","_Object$entries","typeResults","sortedTypeResults","doesNotStartWithQuery","lc","splitQuery","some","q","typeHeader","replaceAll","entries","placeholder","SearchFilter","cleanQuery","SPECIAL_SEARCHES","_loop6","search","every","SearchItem","_ret6","_loop3","_ret3","_loop4","INDEX","_ret4","_loop5","FILE_INDEX","_ret5","setDraggingState","_this5","_callee4","_args4","_callee4$","_context4","removeEventListener","_ui$spotlightOmnisear2","target","_ref2","bottom","force","localizations","searchTerm","_searchTerm$nameExtra","_this$element$classLi","loadBasicLocalizations","MACRO","JOURNAL_ENTRY","ROLL_TABLE","PLAYLIST","SCENE","JOURNAL_ENTRY_PAGE","nameExtra","isSpecialApp","dragData","_searchItem","addElementListeners","_this6","_this6$searchTerm$onC","_this6$searchTerm","updateRecent","setDraggable","body","_this$searchTerm$acti","_this$searchTerm","icons","getActions","_this$data","isJournalOrPage","wrapper","insertAdjacentElement","actionsContainer","settingToggle","state","namespace","_ref3","_this$data$uuid","_callback8","_callback7","_callback6","_callback5","_callback4","_callback3","_callback2","_this7","isCompendiumDocument","_callee5","_callee5$","_context5","fromUuid","execute","_callee9","_callee9$","_context9","draw","playlist","fromUuidSync","playing","_callee0","_callee0$","_context0","stopAll","_callee1","_callee1$","_context1","playAll","matchingActions","_callee6","_callee6$","_context6","view","_callee7","_callee7$","_context7","activate","_callee8","scene","_callee8$","_context8","scenes","preload","setDragging","_this$searchTerm$onDr","_this$searchTerm2","onDragStart","endDragging","_this$searchTerm$onDr2","_this$searchTerm3","onDragEnd","_this8","setAttribute","dataTransfer","setData","JSON","stringify","_this8$searchTerm$onD","_this8$searchTerm","onDrop","_getSetting2","unshift","pop","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Hooks","on","_prompt","registerSettings","app","SearchTerm","prompt","current","spotlight","_args","values","find","console","warn","once","keybindings","editable","modifiers","precedence","CONST","KEYBINDING_PRECEDENCE","PRIORITY","onDown","LAST_COUNTER_FOCUS","initSpecialSearches","_initSpecialSearches","_callee28","NOTE_MATCHING","ROLL_MATCHING","TIMER_MATCHING","TRACKER_MATCHING","COUNTER_MATCHING","UNITS_MAPPING","UNITS","LIGHT_LOCALIZATION","parseTime","useMetricForLights","conversionRatio","lightEffects","getSplatterData","_callee28$","_context28","_parseTime3","hours","minutes","seconds","hourMinSecRegex","minSecRegex","minutesRegex","secondsRegex","parseInt","int","isNaN","ft","in","_in","yd","mi","lb","lbs","oz","gal","pt","flOz","tbsp","_","C","cm","km","kg","g","ml","keys","eval","_unused","_unused2","navigator","clipboard","writeText","notifications","info","_query$match","_query$match2","_UNITS$find","numberPart","alphaPart","closestUnit","unit","_converted$match","_converted$match2","parseFloat","converted","convertedValue","convertedUnit","toFixed","_query$match3","_query$match4","convertedEl","keyword","_page$text$content","noteText","journalName","journal","todayDate","nowTime","page","currentContent","getName","JournalEntry","toLocaleDateString","toLocaleTimeString","pages","createEmbeddedDocuments","update","_onClick2","Roll","toMessage","_x2","listElements","translations","special","help","baseDescription","filterSpans","_onClick3","_x3","remaining","Math","floor","setting","_parseTime","_onClick4","_parseTime2","totalSeconds","startTimestamp","endTimestamp","error","_x4","_onClick5","_x5","tracker","success","fail","checkedSuccessDotsCount","checkedFailDotsCount","container","successEls","dot","j","reverse","slash","failEls","_onClick6","_x6","counter","counterEls","counterContainer","upDownContainer","up","down","_currentSetting$count","currentSetting","attribute","Set","users","isOwner","ul","li","getProperty","_foundry$utils$getPro","queryWithoutLastPart","_onClick7","_callee10","_callee10$","_context10","_x7","_onClick8","_callee11","updates","_callee11$","_context11","_id","light","alpha","angle","bright","coloration","dim","luminosity","saturation","contrast","shadows","animation","speed","intensity","darkness","min","max","color","attenuation","updateEmbeddedDocuments","_x8","_onClick9","_callee12","_callee12$","_context12","_x9","_onClick0","_callee13","_callee13$","_context13","_x0","_onClick1","_callee14","_callee14$","_context14","_x1","_onClick10","_callee15","_callee15$","_context15","_x10","_onClick11","_callee16","_callee16$","_context16","_x11","_onClick12","_callee17","_callee17$","_context17","_x12","keywords","_callee18","_callee18$","_context18","animateDarkness","_callee19","_callee19$","_context19","_callee20","_callee20$","_context20","_callee21","_callee21$","_context21","_onClick13","_callee22","_callee22$","_context22","active","maxHpPath","currentHpPath","isWoundSystem","currentHPValue","maxHPValue","finalPath","heal","amount","newHp","_defineProperty","damage","kill","restore","_onClick14","_callee23","_callee23$","_context23","_onClick15","_callee24","_callee24$","_context24","numericPartWithSign","_onClick16","_callee25","_search$query$match$","_search$query$match","val","_callee25$","_context25","_x13","_x14","_onClick17","_callee26","_search$query$match$2","_search$query$match2","_callee26$","_context26","_x15","_x16","_onClick18","_callee27","_callee27$","_context27","SpotlightOmniseach","_ref$nameExtra","_ref$description","_ref$keywords","_ref$actions","_ref$data","_ref$onClick","_ref$onDragStart","_ref$onDragEnd","_ref$match","_ref$activateListener","_name","_description","_actions","_nameExtra","_onDragEnd","_onDragStart","IMAGE","IMAGE_FILE_EXTENSIONS","AUDIO","AUDIO_FILE_EXTENSIONS","VIDEO","VIDEO_FILE_EXTENSIONS","indexBuilt","_buildIndex","faSearch","promises","filtersArray","faSpinner","buildModuleIntegration","buildWeatherEffects","buildSettings","buildSettingsTab","buildCollections","buildStatusEffects","buildCompendiumIndex","buildFiles","callAll","all","term","_filtersArray","rendered","createDocumentTypeTypeString","documentType","capitalizedType","capitalize","_validLocStrings","toUpperCase","str","loc","_buildCompendiumIndex","allowedCompendiums","pageLocalized","fullCompendiumJournalIndex","index","localizedCompendiumName","getIndex","pack","packPackageName","packIndex","localizedDocumentName","_packIndex","_loop$","t0","t1","banner","_objectSpread","sidebarIcon","entry","_document","_loop2$","getDocument","pageId","anchor","pageActions","tocKeywords","ImagePopout","src","toc","simpleQuest","isSimpleQuestPage","openToPage","slug","delegateYield","finish","_buildCollections","collections","exclude","playerLocalized","_i3","_collections","collection","localizedCollectionName","_loop3$","_document$name","_document$speaker","testUserPermission","DOCUMENT_OWNERSHIP_LEVELS","OBSERVER","extraType","folder","getFoldersRecursive","_document$flags$item","itemPileType","flags","hasPlayerOwner","_buildSettings","localizedSettingName","processSetting","localizedKeybindingsName","_setting$icon","_game$modules$get2","isMenu","settingNamespace","settNamespace","settingTab","settingFG","backgroundColor","menus","binding","bindings","sidebar","apps","ControlsConfig","humanizeBinding","KeybindingsConfig","bindingFG","_buildSettingsTab","settingsSidebar","tabSettingsLocalized","buttonLabel","className","previewAudio","_buildFiles","_canvas$deepSearchCac","fileCache","_i4","deepSearchCache","_fileIndexCache","fileName","files","ext","isImageOrVideo","isAudio","_loop4$","file","_canvas$grid$size","dropData","texture","fromFilePicker","tileSize","grid","size","isPlaylist","isCanvas","playlistDocument","fnNoExt","soundName","_ref4","x","cX","cy","elementFromPoint","clientX","clientY","log","playlists","entryId","decodeURIComponent","path","stage","worldTransform","tx","scale","ty","sounds","radius","dimensions","distance","audio","AudioHelper","play","autoplay","volume","loop","folders","_buildStatusEffects","effects","_context29","statusEffects","effect","_loop5$","toggleEffect","_buildModuleIntegration","_callee29","_game$modules$get3","_game$modules$get4","allEffects","moduleName","recipeBooks","book","_iterator5","_step5","_loop7","_callee29$","_context36","dfreds","effectInterface","findEffects","_loop6$","_context31","_context30","effectId","itempiles","_context32","API","requestTrade","_context33","RecipeApp","_currentApp","_recipeBooks","recipes","recipe","_loop7$","_context35","_context34","t3","t4","_buildWeatherEffects","_callee32","weatherFX","_loop8","_i5","_Object$entries2","_callee32$","_context40","weatherEffects","_Object$entries2$_i","FXMKEY","FXMEffect","_loop8$","_context39","fxmaster","particleEffects","_callee30","_callee30$","_context37","viewed","weather","_callee31","_callee31$","_context38","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","registerSettingsArray","gmOnly","compactMode","onChange","clickToDismiss","saveLastSearch","useHistory","choices","save","alwaysOnTop","enableCtrlSpace","spotlightWidth","range","step","showImages","searchFiles","searchSettings","searchCompendium","searchSidebar","searchUtils","spotlightPosition","firstTime","_setSetting","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","definition","prop","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}